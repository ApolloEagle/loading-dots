{"version":3,"sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/types.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/ReactSymbols.js","webpack://ReactDevToolsBackend/../../src/index.ts","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/isArray.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react-is/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/console.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/process/browser.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/lodash.throttle/index.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../shared/hasOwnProperty.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/devtools/constants.js","webpack://ReactDevToolsBackend/../react-devtools-timeline/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/profilingHooks.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/(webpack)/buildin/global.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react-debug-tools/index.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/pseudomap/map.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/pseudomap/pseudomap.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/util/util.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/util/support/isBufferBrowser.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/util/node_modules/inherits/inherits_browser.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react-is/cjs/react-is.production.min.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.min.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react/index.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/build/oss-experimental/react/cjs/react.production.min.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend//Users/hoxy/repos/react/node_modules/memoize-one/esm/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/cachedSettings.js","webpack://ReactDevToolsBackend/./src/backend.js"],"names":["hasOwnProperty","Object","prototype","cachedDisplayNames","WeakMap","encodedStringCache","LRU","max","alphaSortKeys","a","b","toString","getAllEnumerableKeys","obj","keys","Set","current","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","forEach","key","enumerable","add","getPrototypeOf","getWrappedDisplayName","outerType","innerType","wrapperName","fallbackName","displayName","getDisplayName","type","nameFromCache","get","name","set","uidCounter","getUID","utfDecodeString","array","string","i","length","char","String","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","undefined","encoded","charCode","charCodeAt","push","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","slice","operation","TREE_OPERATION_ADD","id","ElementTypeRoot","parentID","displayNameStringID","TREE_OPERATION_REMOVE","removeLength","removeIndex","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","mode","TREE_OPERATION_REORDER_CHILDREN","numChildren","children","join","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","numErrors","numWarnings","Error","console","log","getDefaultComponentFilters","ComponentFilterElementType","value","ElementTypeHostComponent","isEnabled","getSavedComponentFilters","raw","localStorageGetItem","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","JSON","parse","error","setSavedComponentFilters","componentFilters","localStorageSetItem","stringify","parseBool","s","castBool","v","castBrowserTheme","getAppendComponentStack","LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY","getBreakOnConsoleErrors","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","getHideConsoleLogsInStrictMode","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","getShowInlineWarningsAndErrors","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","getDefaultOpenInEditorURL","process","env","EDITOR_URL","getOpenInEditorURL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","separateDisplayNameAndHOCs","hocDisplayNames","ElementTypeClass","ElementTypeForwardRef","ElementTypeFunction","ElementTypeMemo","indexOf","matches","match","pop","shallowDiffers","prev","next","attribute","getInObject","object","path","reduce","reduced","attr","call","Symbol","iterator","Array","from","deletePathInObject","last","parent","isArray","splice","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","data","isElement","HTMLElement","Number","isNaN","isFinite","ArrayBuffer","isView","constructor","toStringValue","isPlainObject","getDisplayNameForReactElement","element","elementType","typeOf","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","SuspenseList","TracingMarker","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","meta","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","size","shortName","entryOrEntries","toStringTag","sort","objectPrototype","objectParentPrototype","ElementTypeContext","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","PROFILER_EXPORT_VERSION","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_NUMBER","ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","version","gte","cleanForBridge","isPathAllowed","cleanedPaths","unserializablePaths","cleanedData","dehydrate","cleaned","unserializable","copyWithDelete","index","updated","copyWithRename","oldKey","newKey","copyWithSet","getEffectDurations","root","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","cache","has","formatWithStyles","inputArgs","style","REGEXP","firstArg","formatStr","elem","formatting","isInteger","format","maybeMessage","args","replace","escaped","ptn","flag","arg","shift","parseInt","parseFloat","unshift","isSynchronousXHRSupported","window","document","featurePolicy","allowsFeature","gt","compareVersions","localStorage","getItem","localStorageRemoveItem","removeItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","module","exports","require","OVERRIDE_CONSOLE_METHODS","DIMMED_NODE_CONSOLE_COLOR","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","text","test","STYLE_DIRECTIVE_REGEX","isStrictModeOverride","method","getConsoleColor","consoleSettingsRef","browserTheme","injectedRenderers","Map","targetConsole","targetConsoleMethods","unpatchFn","isNode","global","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","registerRenderer","renderer","onErrorOrWarning","currentDispatcherRef","getCurrentFiber","findFiberByHostInstance","getInternalReactConstants","ReactTypeOfWork","workTagMap","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","patch","originalConsoleMethods","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","shouldAppendWarningStack","lastArg","alreadyHasComponentStack","shouldShowInlineWarningsAndErrors","values","componentStack","getStackByFiberInDevAndProd","setTimeout","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","unpatchForStrictModeFn","patchForStrictMode","consoleManagedByDevToolsDuringStrictMode","overrideConsoleMethods","__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__","color","__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__","unpatchForStrictMode","patchConsoleUsingWindowValues","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","writeConsolePatchSettingsToWindow","settings","installConsoleFunctionsToWindow","__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__","registerRendererWithConsole","isArrayImpl","inspectable","inspected","readonly","LEVEL_THRESHOLD","createDehydrated","dehydrated","level","isPathAllowedCheck","map","item","concat","unserializableValue","keyAsString","fillInPath","target","unserializablePath","isMatch","upgradeUnserializable","hydrate","Infinity","NaN","replaced","node","replacement","destination","source","defineProperties","configurable","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","arguments","Item","apply","title","browser","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","Function","objectProto","objectToString","nativeMax","Math","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","other","valueOf","isBinary","is","x","y","objectIs","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","entry","crawlObjectProperties","fromEntries","entries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","cssText","selectorText","startsWith","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","TIME_OFFSET","performanceTarget","supportsUserTiming","performance","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","defineProperty","getCurrentTime","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","isProfiling","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","__REACT_DEVTOOLS_GLOBAL_HOOK__","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","range","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","depth","top","reactMeasure","batchUID","timestamp","duration","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","fiber","componentName","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","message","thrownErrors","PossiblyWeakMap","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","then","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","return","markStateUpdateScheduled","event","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","trace","describeFiber","clear","profilingHooks","getFiberFlags","flags","effectTag","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","CacheComponent","ClassComponent","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","FunctionComponent","HostComponent","HostPortal","HostRoot","HostHoistable","HostSingleton","HostText","IncompleteClassComponent","IndeterminateComponent","LazyComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","SimpleMemoComponent","SuspenseComponent","SuspenseListComponent","TracingMarkerComponent","YieldComponent","getTypeSymbol","symbolOrNumber","$$typeof","resolveFiberType","typeSymbol","render","tag","resolvedType","resolvedContext","fiberRoot","_debugRootType","_context","context","memoizedProps","fiberToIDMap","idToArbitraryFiberMap","attach","hook","reconcilerVersion","injectProfilingHooks","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","response","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","delete","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","debug","fiberMap","messageMap","count","flushPendingErrorsAndWarningsAfterDelay","parentFiber","extraString","parentDisplayName","maybeParentID","groupCollapsed","stack","split","groupEnd","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","RegExp","warn","__REACT_DEVTOOLS_COMPONENT_FILTERS__","updateComponentFilters","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","_debugSource","getElementTypeForFiber","displayNameRegExp","fileName","pathRegExp","idToTreeBaseDurationMap","idToRootMap","didGenerateID","refinedID","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","props","state","getContextChangedKeys","getChangedKeys","memoizedState","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","instance","contextType","dependencies","firstContext","crawlToInitializeContextsMap","child","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","memoizedValue","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","bind","isStateOrReducer","dispatch","isSyncExternalStore","getSnapshot","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","ref","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","op","__DEV__","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","j","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","profilingFlags","displayNamesByRootID","getDisplayNameForRoot","_debugOwner","ownerID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","firstChild","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","memoizedUpdaters","filter","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isDehydrated","isMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","findNativeNodesForFiberID","maybeFallbackFiber","Boolean","err","getDisplayNameForFiberID","getFiberForNative","hostInstance","getFiberIDForNative","findNearestUnfilteredAncestor","assertIsMounted","getNearestMountedFiber","nearestMounted","nextNode","Placement","Hydrating","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","owner","getInstanceAndStyle","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","_currentValue","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","inspectHooksOfFiber","rootType","errors","warnings","isErrored","targetErrorBoundaryID","DidCapture","plugins","stylex","xstyle","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","getSerializedElementValueByPath","valueToCopy","inspectElement","requestID","forceFullData","responseID","cause","errorType","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","status","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","lastIndexOf","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","reverse","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","patchConsoleForStrictMode","unpatchConsoleForStrictMode","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","group","writable","reenableLogs","prefix","describeBuiltInComponentFrame","ownerFn","trim","reentry","componentFrameCache","describeNativeComponentFrame","fn","construct","control","previousPrepareStackTrace","prepareStackTrace","previousDispatcher","Fake","Reflect","sample","sampleLines","controlLines","c","frame","syntheticFrame","describeClassComponentFrame","ctor","describeFunctionComponentFrame","shouldConstruct","Component","isReactComponent","describeUnknownElementTypeFrameInDEV","lazyComponent","payload","_payload","init","_init","workInProgress","REACT_ELEMENT_TYPE","for","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_SERVER_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_SCOPE_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_CACHE_TYPE","REACT_TRACING_MARKER_TYPE","REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","g","LRUCache","util","Yallist","hasSymbol","_nodeLRUCacheForceNoSymbol","makeSymbol","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","naiveLength","lc","stale","maxAge","dispose","noDisposeOnSet","reset","mL","allowStale","mA","lC","hit","rforEach","thisp","walker","tail","forEachStep","isStale","del","head","toArray","k","dump","h","dumpLru","inspect","n","opts","str","extras","as","didFirst","val","Entry","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","removeNode","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","PseudoMap","kv","_data","find","res","_index","create","same","getOwnPropertyDescriptor","formatRegExp","f","isString","objects","_","isNull","deprecate","msg","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","debugs","debugEnviron","debuglog","isUndefined","NODE_DEBUG","toUpperCase","pid","ctx","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","arrayToHash","hash","idx","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","line","substr","numLinesEst","cur","ar","isNullOrUndefined","re","d","isPrimitive","isBuffer","o","pad","months","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","prop","kCustomPromisifiedSymbol","promisify","original","promiseResolve","promiseReject","promise","Promise","resolve","reject","setPrototypeOf","custom","callbackifyOnRejected","reason","cb","newReason","callbackify","callbackified","maybeCb","rej","copy","fill","readUInt8","superCtor","super_","TempCtor","Node","list","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","to","sliceReverse","p","m","q","t","u","w","r","Element","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspenseList","isValidElementType","getModuleId","assign","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","z","A","useContext","useState","useReducer","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useMemo","useMemoCache","stackError","B","C","use","readContext","updateQueue","memoCache","useTransition","useMutableSource","_source","useSyncExternalStore","useDeferredValue","useId","D","E","Proxy","F","G","H","I","functionName","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","J","K","L","ReactCurrentDispatcher","M","inspectHooks","defaultProps","factory","define","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","exec","ErrorStackParser$$parseV8OrIE","filtered","sanitizedLine","location","tokens","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","argsRaw","_isNumber","_capitalize","charAt","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","aa","ba","ca","da","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","refs","updater","setState","isPureReactComponent","N","__self","__source","O","_owner","ea","P","escape","Q","R","S","done","T","fa","_status","_result","default","U","ha","V","W","X","transition","Y","ReactCurrentCache","ReactCurrentBatchConfig","ReactCurrentOwner","ContextRegistry","Z","Children","only","PureComponent","getCacheForType","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createElement","createFactory","createRef","createServerContext","experimental_useEffectEvent","useEffectEvent","experimental_useOptimistic","useOptimistic","forwardRef","isValidElement","lazy","memo","compare","startTransition","unstable_Cache","unstable_DebugTracingMode","unstable_Offscreen","unstable_act","unstable_getCacheForType","unstable_getCacheSignal","getCacheSignal","AbortController","abort","signal","unstable_useCacheRefresh","unstable_useMemoCache","EventEmitter","listener","listenersMap","didThrow","caughtError","clonedListeners","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","every","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","borderTop","left","borderLeft","bottom","borderBottom","right","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","OverlayRect","doc","container","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","parentNode","removeChild","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","dimSpan","textContent","round","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","remove","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","update","nodeName","rendererInterface","getBestMatchingRendererInterface","ownerName","updateText","tipBounds","documentElement","updatePosition","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlay","showOverlay","hideAfterTimeout","iframesListeningTo","setupHighlighter","bridge","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerOver","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openNativeElementsPanel","scrollIntoView","rendererInterfaces","block","inline","$0","send","preventDefault","stopPropagation","selectFiberForNode","iframe","memoize","getIDForNode","OUTLINE_COLOR","COLORS","canvas","draw","nodeToData","nodesToDraw","iterateNodes","initialize","canvasFlow","getContext","clearRect","drawBorder","execute","colorIndex","lineWidth","strokeStyle","strokeRect","setLineDash","destroy","insertBefore","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","destroyCanvas","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","BATCH_DURATION","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_timeoutID","_messageQueue","_wall","_flush","wasForwarded","_wallUnlisten","listen","_isShutdown","wallUnlisten","methodName","Agent","_rendererInterfaces","_bridge","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","selected","patchConsole","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","shutdown","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","setupTraceUpdates","bestMatch","selection","installHook","detectReactBuildType","bundleType","Mount","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","patchConsoleForInitialRenderInStrictMode","unpatchConsoleForInitialRenderInStrictMode","inject","renderers","reactBuildType","__REACT_DEVTOOLS_ATTACH__","sub","roots","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","setStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","frames","registerInternalModuleStart","registerInternalModuleStop","backends","supportsFiber","__TEST__","decorate","old","decorateMany","fns","olds","restoreMany","getData","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","nativeNode","enabled","isMatchingRender","initBackend","subs","setRendererInterface","onUnsupportedRenderer","onFastRefreshScheduled","onHookOperations","onTraceUpdates","attachRenderer","attachLegacy","reactDevtoolsAgent","onAgentShutdown","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","initializeUsingCachedSettings","devToolsSettingsManager","initializeConsolePatchSettings","getConsolePatchSettings","consolePatchSettingsString","parsedConsolePatchSettings","parseConsolePatchSettings","parsedValue","cacheConsolePatchSettings","setConsolePatchSettings","savedComponentFilters","connectToDevTools","host","nativeStyleEditorValidAttributes","useHttps","port","websocket","resolveRNStyle","retryConnectionDelay","isAppActive","protocol","retryTimeoutID","scheduleRetry","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","transferable","readyState","OPEN","consolePatchSettings","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;;;;;;;;AASA;AACA;AAcA;AAIA;AAeA;AACA;AAOA;AACA;AACA;AAKA;AACA,IAAMA,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAxC;AAEA,IAAMG,kBAA6C,GAAG,IAAIC,OAAJ,EAAtD,C,CAEA;AACA;;AACA,IAAMC,kBAAmD,GAAG,IAAIC,gDAAJ,CAAQ;AAClEC,KAAG,EAAE;AAD6D,CAAR,CAA5D;AAIO,SAASC,aAAT,CACLC,CADK,EAELC,CAFK,EAGG;AACR,MAAID,CAAC,CAACE,QAAF,KAAeD,CAAC,CAACC,QAAF,EAAnB,EAAiC;AAC/B,WAAO,CAAP;AACD,GAFD,MAEO,IAAID,CAAC,CAACC,QAAF,KAAeF,CAAC,CAACE,QAAF,EAAnB,EAAiC;AACtC,WAAO,CAAC,CAAR;AACD,GAFM,MAEA;AACL,WAAO,CAAP;AACD;AACF;AAEM,SAASC,oBAAT,CACLC,GADK,EAE0B;AAC/B,MAAMC,IAAI,GAAG,IAAIC,GAAJ,EAAb;AACA,MAAIC,OAAO,GAAGH,GAAd;;AAF+B;AAI7B,QAAMI,WAAW,gCACZhB,MAAM,CAACa,IAAP,CAAYE,OAAZ,CADY,sBAEZf,MAAM,CAACiB,qBAAP,CAA6BF,OAA7B,CAFY,EAAjB;AAIA,QAAMG,WAAW,GAAGlB,MAAM,CAACmB,yBAAP,CAAiCJ,OAAjC,CAApB;AACAC,eAAW,CAACI,OAAZ,CAAoB,UAAAC,GAAG,EAAI;AACzB;AACA,UAAIH,WAAW,CAACG,GAAD,CAAX,CAAiBC,UAArB,EAAiC;AAC/BT,YAAI,CAACU,GAAL,CAASF,GAAT;AACD;AACF,KALD;AAMAN,WAAO,GAAGf,MAAM,CAACwB,cAAP,CAAsBT,OAAtB,CAAV;AAf6B;;AAG/B,SAAOA,OAAO,IAAI,IAAlB,EAAwB;AAAA;AAavB;;AACD,SAAOF,IAAP;AACD,C,CAED;;AACO,SAASY,qBAAT,CACLC,SADK,EAELC,SAFK,EAGLC,WAHK,EAILC,YAJK,EAKG;AACR,MAAMC,WAAW,GAAIJ,SAAD,CAAiBI,WAArC;AACA,SACEA,WAAW,cAAOF,WAAP,cAAsBG,cAAc,CAACJ,SAAD,EAAYE,YAAZ,CAApC,MADb;AAGD;AAEM,SAASE,cAAT,CACLC,IADK,EAGG;AAAA,MADRH,YACQ,uEADe,WACf;AACR,MAAMI,aAAa,GAAG/B,kBAAkB,CAACgC,GAAnB,CAAuBF,IAAvB,CAAtB;;AACA,MAAIC,aAAa,IAAI,IAArB,EAA2B;AACzB,WAAOA,aAAP;AACD;;AAED,MAAIH,WAAW,GAAGD,YAAlB,CANQ,CAQR;AACA;AACA;;AACA,MAAI,OAAOG,IAAI,CAACF,WAAZ,KAA4B,QAAhC,EAA0C;AACxCA,eAAW,GAAGE,IAAI,CAACF,WAAnB;AACD,GAFD,MAEO,IAAI,OAAOE,IAAI,CAACG,IAAZ,KAAqB,QAArB,IAAiCH,IAAI,CAACG,IAAL,KAAc,EAAnD,EAAuD;AAC5DL,eAAW,GAAGE,IAAI,CAACG,IAAnB;AACD;;AAEDjC,oBAAkB,CAACkC,GAAnB,CAAuBJ,IAAvB,EAA6BF,WAA7B;AACA,SAAOA,WAAP;AACD;AAED,IAAIO,UAAkB,GAAG,CAAzB;AAEO,SAASC,MAAT,GAA0B;AAC/B,SAAO,EAAED,UAAT;AACD;AAEM,SAASE,eAAT,CAAyBC,KAAzB,EAAuD;AAC5D;AACA;AACA;AACA;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAME,IAAI,GAAGJ,KAAK,CAACE,CAAD,CAAlB;AACAD,UAAM,IAAII,MAAM,CAACC,aAAP,CAAqBF,IAArB,CAAV;AACD;;AACD,SAAOH,MAAP;AACD;;AAED,SAASM,wBAAT,CACEC,SADF,EAEEC,SAFF,EAGU;AACR,SAAO,CAAC,CAACD,SAAS,GAAG,KAAb,KAAuB,EAAxB,KAA+BC,SAAS,GAAG,KAA3C,IAAoD,OAA3D;AACD,C,CAED;AACA;;;AACO,SAASC,eAAT,CAAyBT,MAAzB,EAAwD;AAC7D,MAAMU,MAAM,GAAG/C,kBAAkB,CAAC8B,GAAnB,CAAuBO,MAAvB,CAAf;;AACA,MAAIU,MAAM,KAAKC,SAAf,EAA0B;AACxB,WAAOD,MAAP;AACD;;AAED,MAAME,OAAO,GAAG,EAAhB;AACA,MAAIX,CAAC,GAAG,CAAR;AACA,MAAIY,QAAJ;;AACA,SAAOZ,CAAC,GAAGD,MAAM,CAACE,MAAlB,EAA0B;AACxBW,YAAQ,GAAGb,MAAM,CAACc,UAAP,CAAkBb,CAAlB,CAAX,CADwB,CAExB;;AACA,QAAI,CAACY,QAAQ,GAAG,MAAZ,MAAwB,MAA5B,EAAoC;AAClCD,aAAO,CAACG,IAAR,CAAaT,wBAAwB,CAACO,QAAD,EAAWb,MAAM,CAACc,UAAP,CAAkB,EAAEb,CAApB,CAAX,CAArC;AACD,KAFD,MAEO;AACLW,aAAO,CAACG,IAAR,CAAaF,QAAb;AACD;;AACD,MAAEZ,CAAF;AACD;;AAEDtC,oBAAkB,CAACgC,GAAnB,CAAuBK,MAAvB,EAA+BY,OAA/B;AAEA,SAAOA,OAAP;AACD;AAEM,SAASI,oBAAT,CAA8BC,UAA9B,EAAyD;AAC9D;AACA,MAAMC,UAAU,GAAGD,UAAU,CAAC,CAAD,CAA7B;AACA,MAAME,MAAM,GAAGF,UAAU,CAAC,CAAD,CAAzB;AAEA,MAAMG,IAAI,GAAG,mCAA4BF,UAA5B,uBAAmDC,MAAnD,EAAb;AAEA,MAAIlB,CAAC,GAAG,CAAR,CAP8D,CAS9D;;AACA,MAAMoB,WAAiC,GAAG,CACxC,IADwC,CAClC;AADkC,GAA1C;AAGA,MAAMC,eAAe,GAAGL,UAAU,CAAChB,CAAC,EAAF,CAAlC;AACA,MAAMsB,cAAc,GAAGtB,CAAC,GAAGqB,eAA3B;;AACA,SAAOrB,CAAC,GAAGsB,cAAX,EAA2B;AACzB,QAAMC,UAAU,GAAGP,UAAU,CAAChB,CAAC,EAAF,CAA7B;AACA,QAAMwB,UAAU,GAAG3B,eAAe,CAC/BmB,UAAU,CAACS,KAAX,CAAiBzB,CAAjB,EAAoBA,CAAC,GAAGuB,UAAxB,CAD+B,CAAlC;AAGAH,eAAW,CAACN,IAAZ,CAAiBU,UAAjB;AACAxB,KAAC,IAAIuB,UAAL;AACD;;AAED,SAAOvB,CAAC,GAAGgB,UAAU,CAACf,MAAtB,EAA8B;AAC5B,QAAMyB,SAAS,GAAGV,UAAU,CAAChB,CAAD,CAA5B;;AAEA,YAAQ0B,SAAR;AACE,WAAKC,qEAAL;AAAyB;AACvB,cAAMC,GAAE,GAAKZ,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAvB;AACA,cAAMV,IAAI,GAAK0B,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAzB;AAEAA,WAAC,IAAI,CAAL;;AAEA,cAAIV,IAAI,KAAKuC,8DAAb,EAA8B;AAC5BV,gBAAI,CAACL,IAAL,6BAA+Bc,GAA/B;AAEA5B,aAAC,GAH2B,CAGvB;;AACLA,aAAC,GAJ2B,CAIvB;;AACLA,aAAC,GAL2B,CAKvB;;AACLA,aAAC,GAN2B,CAMvB;AACN,WAPD,MAOO;AACL,gBAAM8B,QAAQ,GAAKd,UAAU,CAAChB,CAAD,CAA7B;AACAA,aAAC;AAEDA,aAAC,GAJI,CAIA;;AAEL,gBAAM+B,mBAAmB,GAAGf,UAAU,CAAChB,CAAD,CAAtC;AACA,gBAAMZ,WAAW,GAAGgC,WAAW,CAACW,mBAAD,CAA/B;AACA/B,aAAC;AAEDA,aAAC,GAVI,CAUA;;AAELmB,gBAAI,CAACL,IAAL,oBACcc,GADd,eACqBxC,WAAW,IAAI,MADpC,2BAC2D0C,QAD3D;AAGD;;AACD;AACD;;AACD,WAAKE,wEAAL;AAA4B;AAC1B,cAAMC,YAAY,GAAKjB,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAjC;AACAA,WAAC,IAAI,CAAL;;AAEA,eAAK,IAAIkC,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGD,YAAxC,EAAsDC,WAAW,EAAjE,EAAqE;AACnE,gBAAMN,IAAE,GAAKZ,UAAU,CAAChB,CAAD,CAAvB;AACAA,aAAC,IAAI,CAAL;AAEAmB,gBAAI,CAACL,IAAL,uBAAyBc,IAAzB;AACD;;AACD;AACD;;AACD,WAAKO,6EAAL;AAAiC;AAC/BnC,WAAC,IAAI,CAAL;AAEAmB,cAAI,CAACL,IAAL,uBAAyBI,MAAzB;AACA;AACD;;AACD,WAAKkB,kFAAL;AAAsC;AACpC,cAAMR,IAAE,GAAGZ,UAAU,CAAChB,CAAC,GAAG,CAAL,CAArB;AACA,cAAMqC,IAAI,GAAGrB,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAvB;AAEAA,WAAC,IAAI,CAAL;AAEAmB,cAAI,CAACL,IAAL,gBAAkBuB,IAAlB,wCAAoDT,IAApD;AACA;AACD;;AACD,WAAKU,kFAAL;AAAsC;AACpC,cAAMV,IAAE,GAAKZ,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAvB;AACA,cAAMuC,WAAW,GAAKvB,UAAU,CAAChB,CAAC,GAAG,CAAL,CAAhC;AACAA,WAAC,IAAI,CAAL;AACA,cAAMwC,QAAQ,GAAGxB,UAAU,CAACS,KAAX,CAAiBzB,CAAjB,EAAoBA,CAAC,GAAGuC,WAAxB,CAAjB;AACAvC,WAAC,IAAIuC,WAAL;AAEApB,cAAI,CAACL,IAAL,yBAA2Bc,IAA3B,uBAA0CY,QAAQ,CAACC,IAAT,CAAc,GAAd,CAA1C;AACA;AACD;;AACD,WAAKC,2FAAL;AACE;AACA;AACA;AACA1C,SAAC,IAAI,CAAL;AACA;;AACF,WAAK2C,2FAAL;AACE,YAAMf,EAAE,GAAGZ,UAAU,CAAChB,CAAC,GAAG,CAAL,CAArB;AACA,YAAM4C,SAAS,GAAG5B,UAAU,CAAChB,CAAC,GAAG,CAAL,CAA5B;AACA,YAAM6C,WAAW,GAAG7B,UAAU,CAAChB,CAAC,GAAG,CAAL,CAA9B;AAEAA,SAAC,IAAI,CAAL;AAEAmB,YAAI,CAACL,IAAL,gBACUc,EADV,kBACoBgB,SADpB,yBAC4CC,WAD5C;AAGA;;AACF;AACE,cAAMC,KAAK,0CAAkCpB,SAAlC,QAAX;AAvFJ;AAyFD;;AAEDqB,SAAO,CAACC,GAAR,CAAY7B,IAAI,CAACsB,IAAL,CAAU,MAAV,CAAZ;AACD;AAEM,SAASQ,0BAAT,GAA8D;AACnE,SAAO,CACL;AACE3D,QAAI,EAAE4D,yEADR;AAEEC,SAAK,EAAEC,uEAFT;AAGEC,aAAS,EAAE;AAHb,GADK,CAAP;AAOD;AAEM,SAASC,wBAAT,GAA4D;AACjE,MAAI;AACF,QAAMC,GAAG,GAAGC,4EAAmB,CAC7BC,iGAD6B,CAA/B;;AAGA,QAAIF,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOG,IAAI,CAACC,KAAL,CAAWJ,GAAX,CAAP;AACD;AACF,GAPD,CAOE,OAAOK,KAAP,EAAc,CAAE;;AAClB,SAAOX,0BAA0B,EAAjC;AACD;AAEM,SAASY,wBAAT,CACLC,gBADK,EAEC;AACNC,8EAAmB,CACjBN,iGADiB,EAEjBC,IAAI,CAACM,SAAL,CAAeF,gBAAf,CAFiB,CAAnB;AAID;;AAED,SAASG,SAAT,CAAmBC,CAAnB,EAAyC;AACvC,MAAIA,CAAC,KAAK,MAAV,EAAkB;AAChB,WAAO,IAAP;AACD;;AACD,MAAIA,CAAC,KAAK,OAAV,EAAmB;AACjB,WAAO,KAAP;AACD;AACF;;AAEM,SAASC,QAAT,CAAkBC,CAAlB,EAAoC;AACzC,MAAIA,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAxB,EAA+B;AAC7B,WAAOA,CAAP;AACD;AACF;AAEM,SAASC,gBAAT,CAA0BD,CAA1B,EAAiD;AACtD,MAAIA,CAAC,KAAK,OAAN,IAAiBA,CAAC,KAAK,MAAvB,IAAiCA,CAAC,KAAK,MAA3C,EAAmD;AACjD,WAAOA,CAAP;AACD;AACF;AAEM,SAASE,uBAAT,GAA4C;AAAA;;AACjD,MAAMf,GAAG,GAAGC,4EAAmB,CAC7Be,kGAD6B,CAA/B;AAGA,uBAAON,SAAS,CAACV,GAAD,CAAhB,mDAAyB,IAAzB;AACD;AAEM,SAASiB,uBAAT,GAA4C;AAAA;;AACjD,MAAMjB,GAAG,GAAGC,4EAAmB,CAACiB,+FAAD,CAA/B;AACA,wBAAOR,SAAS,CAACV,GAAD,CAAhB,qDAAyB,KAAzB;AACD;AAEM,SAASmB,8BAAT,GAAmD;AAAA;;AACxD,MAAMnB,GAAG,GAAGC,4EAAmB,CAC7BmB,iGAD6B,CAA/B;AAGA,wBAAOV,SAAS,CAACV,GAAD,CAAhB,qDAAyB,KAAzB;AACD;AAEM,SAASqB,8BAAT,GAAmD;AAAA;;AACxD,MAAMrB,GAAG,GAAGC,4EAAmB,CAC7BqB,oGAD6B,CAA/B;AAGA,wBAAOZ,SAAS,CAACV,GAAD,CAAhB,qDAAyB,IAAzB;AACD;AAEM,SAASuB,yBAAT,GAA6C;AAClD,SAAO,OAAOC,OAAO,CAACC,GAAR,CAAYC,UAAnB,KAAkC,QAAlC,GACHF,OAAO,CAACC,GAAR,CAAYC,UADT,GAEH,EAFJ;AAGD;AAEM,SAASC,kBAAT,GAAsC;AAC3C,MAAI;AACF,QAAM3B,GAAG,GAAGC,4EAAmB,CAAC2B,mFAAD,CAA/B;;AACA,QAAI5B,GAAG,IAAI,IAAX,EAAiB;AACf,aAAOG,IAAI,CAACC,KAAL,CAAWJ,GAAX,CAAP;AACD;AACF,GALD,CAKE,OAAOK,KAAP,EAAc,CAAE;;AAClB,SAAOkB,yBAAyB,EAAhC;AACD;AAEM,SAASM,0BAAT,CACLhG,WADK,EAELE,IAFK,EAGkC;AACvC,MAAIF,WAAW,KAAK,IAApB,EAA0B;AACxB,WAAO,CAAC,IAAD,EAAO,IAAP,CAAP;AACD;;AAED,MAAIiG,eAAe,GAAG,IAAtB;;AAEA,UAAQ/F,IAAR;AACE,SAAKgG,+DAAL;AACA,SAAKC,oEAAL;AACA,SAAKC,kEAAL;AACA,SAAKC,8DAAL;AACE,UAAIrG,WAAW,CAACsG,OAAZ,CAAoB,GAApB,KAA4B,CAAhC,EAAmC;AACjC,YAAMC,OAAO,GAAGvG,WAAW,CAACwG,KAAZ,CAAkB,SAAlB,CAAhB;;AACA,YAAID,OAAO,IAAI,IAAf,EAAqB;AACnBvG,qBAAW,GAAGuG,OAAO,CAACE,GAAR,EAAd;AACAR,yBAAe,GAAGM,OAAlB;AACD;AACF;;AACD;;AACF;AACE;AAdJ;;AAiBA,SAAO,CAACvG,WAAD,EAAciG,eAAd,CAAP;AACD,C,CAED;AACA;;AACO,SAASS,cAAT,CAAwBC,IAAxB,EAAsCC,IAAtC,EAA6D;AAClE,OAAK,IAAMC,SAAX,IAAwBF,IAAxB,EAA8B;AAC5B,QAAI,EAAEE,SAAS,IAAID,IAAf,CAAJ,EAA0B;AACxB,aAAO,IAAP;AACD;AACF;;AACD,OAAK,IAAMC,UAAX,IAAwBD,IAAxB,EAA8B;AAC5B,QAAID,IAAI,CAACE,UAAD,CAAJ,KAAoBD,IAAI,CAACC,UAAD,CAA5B,EAAyC;AACvC,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;AAEM,SAASC,WAAT,CAAqBC,MAArB,EAAqCC,IAArC,EAAwE;AAC7E,SAAOA,IAAI,CAACC,MAAL,CAAY,UAACC,OAAD,EAAkBC,IAAlB,EAAqC;AACtD,QAAID,OAAJ,EAAa;AACX,UAAIjJ,cAAc,CAACmJ,IAAf,CAAoBF,OAApB,EAA6BC,IAA7B,CAAJ,EAAwC;AACtC,eAAOD,OAAO,CAACC,IAAD,CAAd;AACD;;AACD,UAAI,OAAOD,OAAO,CAACG,MAAM,CAACC,QAAR,CAAd,KAAoC,UAAxC,EAAoD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,eAAOC,KAAK,CAACC,IAAN,CAAWN,OAAX,EAAoBC,IAApB,CAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD,GAjBM,EAiBJJ,MAjBI,CAAP;AAkBD;AAEM,SAASU,kBAAT,CACLV,MADK,EAELC,IAFK,EAGL;AACA,MAAMnG,MAAM,GAAGmG,IAAI,CAACnG,MAApB;AACA,MAAM6G,IAAI,GAAGV,IAAI,CAACnG,MAAM,GAAG,CAAV,CAAjB;;AACA,MAAIkG,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMY,MAAM,GAAGb,WAAW,CAACC,MAAD,EAASC,IAAI,CAAC3E,KAAL,CAAW,CAAX,EAAcxB,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI8G,MAAJ,EAAY;AACV,UAAIC,gEAAO,CAACD,MAAD,CAAX,EAAqB;AACnBA,cAAM,CAACE,MAAP,CAAgBH,IAAhB,EAAqC,CAArC;AACD,OAFD,MAEO;AACL,eAAOC,MAAM,CAACD,IAAD,CAAb;AACD;AACF;AACF;AACF;AAEM,SAASI,kBAAT,CACLf,MADK,EAELgB,OAFK,EAGLC,OAHK,EAIL;AACA,MAAMnH,MAAM,GAAGkH,OAAO,CAAClH,MAAvB;;AACA,MAAIkG,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMY,MAAM,GAAGb,WAAW,CAACC,MAAD,EAASgB,OAAO,CAAC1F,KAAR,CAAc,CAAd,EAAiBxB,MAAM,GAAG,CAA1B,CAAT,CAA1B;;AACA,QAAI8G,MAAJ,EAAY;AACV,UAAMM,OAAO,GAAGF,OAAO,CAAClH,MAAM,GAAG,CAAV,CAAvB;AACA,UAAMqH,OAAO,GAAGF,OAAO,CAACnH,MAAM,GAAG,CAAV,CAAvB;AACA8G,YAAM,CAACO,OAAD,CAAN,GAAkBP,MAAM,CAACM,OAAD,CAAxB;;AACA,UAAIL,gEAAO,CAACD,MAAD,CAAX,EAAqB;AACnBA,cAAM,CAACE,MAAP,CAAgBI,OAAhB,EAAwC,CAAxC;AACD,OAFD,MAEO;AACL,eAAON,MAAM,CAACM,OAAD,CAAb;AACD;AACF;AACF;AACF;AAEM,SAASE,WAAT,CACLpB,MADK,EAELC,IAFK,EAGLjD,KAHK,EAIL;AACA,MAAMlD,MAAM,GAAGmG,IAAI,CAACnG,MAApB;AACA,MAAM6G,IAAI,GAAGV,IAAI,CAACnG,MAAM,GAAG,CAAV,CAAjB;;AACA,MAAIkG,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAMY,MAAM,GAAGb,WAAW,CAACC,MAAD,EAASC,IAAI,CAAC3E,KAAL,CAAW,CAAX,EAAcxB,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI8G,MAAJ,EAAY;AACVA,YAAM,CAACD,IAAD,CAAN,GAAe3D,KAAf;AACD;AACF;AACF;;AA4BD;;;AAGO,SAASqE,WAAT,CAAqBC,IAArB,EAA6C;AAClD,MAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,WAAO,MAAP;AACD,GAFD,MAEO,IAAIA,IAAI,KAAK/G,SAAb,EAAwB;AAC7B,WAAO,WAAP;AACD;;AAED,MAAIgH,0DAAS,CAACD,IAAD,CAAb,EAAqB;AACnB,WAAO,eAAP;AACD;;AAED,MAAI,OAAOE,WAAP,KAAuB,WAAvB,IAAsCF,IAAI,YAAYE,WAA1D,EAAuE;AACrE,WAAO,cAAP;AACD;;AAED,MAAMrI,IAAI,WAAUmI,IAAV,CAAV;;AACA,UAAQnI,IAAR;AACE,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,UAAL;AACE,aAAO,UAAP;;AACF,SAAK,QAAL;AACE,UAAIsI,MAAM,CAACC,KAAP,CAAaJ,IAAb,CAAJ,EAAwB;AACtB,eAAO,KAAP;AACD,OAFD,MAEO,IAAI,CAACG,MAAM,CAACE,QAAP,CAAgBL,IAAhB,CAAL,EAA4B;AACjC,eAAO,UAAP;AACD,OAFM,MAEA;AACL,eAAO,QAAP;AACD;;AACH,SAAK,QAAL;AACE,UAAIT,gEAAO,CAACS,IAAD,CAAX,EAAmB;AACjB,eAAO,OAAP;AACD,OAFD,MAEO,IAAIM,WAAW,CAACC,MAAZ,CAAmBP,IAAnB,CAAJ,EAA8B;AACnC,eAAOpK,cAAc,CAACmJ,IAAf,CAAoBiB,IAAI,CAACQ,WAAzB,EAAsC,mBAAtC,IACH,aADG,GAEH,WAFJ;AAGD,OAJM,MAIA,IAAIR,IAAI,CAACQ,WAAL,IAAoBR,IAAI,CAACQ,WAAL,CAAiBxI,IAAjB,KAA0B,aAAlD,EAAiE;AACtE;AACA;AACA;AACA;AACA,eAAO,cAAP;AACD,OANM,MAMA,IAAI,OAAOgI,IAAI,CAAChB,MAAM,CAACC,QAAR,CAAX,KAAiC,UAArC,EAAiD;AACtD,YAAMA,QAAQ,GAAGe,IAAI,CAAChB,MAAM,CAACC,QAAR,CAAJ,EAAjB;;AACA,YAAI,CAACA,QAAL,EAAe,CACb;AACA;AACD,SAHD,MAGO;AACL,iBAAOA,QAAQ,KAAKe,IAAb,GAAoB,iBAApB,GAAwC,UAA/C;AACD;AACF,OARM,MAQA,IAAIA,IAAI,CAACQ,WAAL,IAAoBR,IAAI,CAACQ,WAAL,CAAiBxI,IAAjB,KAA0B,QAAlD,EAA4D;AACjE,eAAO,QAAP;AACD,OAFM,MAEA;AACL;AACA,YAAMyI,aAAa,GAAG5K,MAAM,CAACC,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BiB,IAA/B,CAAtB;;AACA,YAAIS,aAAa,KAAK,eAAtB,EAAuC;AACrC,iBAAO,MAAP;AACD,SAFD,MAEO,IAAIA,aAAa,KAAK,4BAAtB,EAAoD;AACzD,iBAAO,qBAAP;AACD;AACF;;AAED,UAAI,CAACC,aAAa,CAACV,IAAD,CAAlB,EAA0B;AACxB,eAAO,gBAAP;AACD;;AAED,aAAO,QAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,WAAL;AACE,WACE;AACAnK,YAAM,CAACC,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BiB,IAA/B,MAAyC,4BAF3C,EAGE;AACA,eAAO,qBAAP;AACD;;AACD,aAAO,WAAP;;AACF;AACE,aAAO,SAAP;AAlEJ;AAoED;AAEM,SAASW,6BAAT,CACLC,OADK,EAEU;AACf,MAAMC,WAAW,GAAGC,uDAAM,CAACF,OAAD,CAA1B;;AACA,UAAQC,WAAR;AACE,SAAKE,wDAAL;AACE,aAAO,iBAAP;;AACF,SAAKC,wDAAL;AACE,aAAO,iBAAP;;AACF,SAAKC,mDAAL;AACE,aAAO,YAAP;;AACF,SAAKC,iDAAL;AACE,aAAO,UAAP;;AACF,SAAKC,6CAAL;AACE,aAAO,MAAP;;AACF,SAAKC,6CAAL;AACE,aAAO,MAAP;;AACF,SAAKC,+CAAL;AACE,aAAO,QAAP;;AACF,SAAKC,iDAAL;AACE,aAAO,UAAP;;AACF,SAAKC,mDAAL;AACE,aAAO,YAAP;;AACF,SAAKC,iDAAL;AACE,aAAO,UAAP;;AACF,SAAKC,oFAAL;AACE,aAAO,cAAP;;AACF,SAAKC,qFAAL;AACE,aAAO,eAAP;;AACF;AAAA,UACS7J,IADT,GACiB+I,OADjB,CACS/I,IADT;;AAEE,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,eAAOA,IAAP;AACD,OAFD,MAEO,IAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AACrC,eAAOD,cAAc,CAACC,IAAD,EAAO,WAAP,CAArB;AACD,OAFM,MAEA,IAAIA,IAAI,IAAI,IAAZ,EAAkB;AACvB,eAAO,0BAAP;AACD,OAFM,MAEA;AACL,eAAO,SAAP;AACD;;AAnCL;AAqCD;AAED,IAAM8J,yBAAyB,GAAG,EAAlC;;AAEA,SAASC,kBAAT,CACEtJ,MADF,EAGE;AAAA,MADAE,MACA,uEADiBmJ,yBACjB;;AACA,MAAIrJ,MAAM,CAACE,MAAP,GAAgBA,MAApB,EAA4B;AAC1B,WAAOF,MAAM,CAAC0B,KAAP,CAAa,CAAb,EAAgBxB,MAAhB,IAA0B,GAAjC;AACD,GAFD,MAEO;AACL,WAAOF,MAAP;AACD;AACF,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASuJ,oBAAT,CACL7B,IADK,EAEL8B,kBAFK,EAGG;AACR,MAAI9B,IAAI,IAAI,IAAR,IAAgBpK,cAAc,CAACmJ,IAAf,CAAoBiB,IAApB,EAA0B+B,uDAAI,CAAClK,IAA/B,CAApB,EAA0D;AACxD,WAAOiK,kBAAkB,GACrB9B,IAAI,CAAC+B,uDAAI,CAACC,YAAN,CADiB,GAErBhC,IAAI,CAAC+B,uDAAI,CAACE,aAAN,CAFR;AAGD;;AAED,MAAMpK,IAAI,GAAGkI,WAAW,CAACC,IAAD,CAAxB;;AAEA,UAAQnI,IAAR;AACE,SAAK,cAAL;AACE,wBAAW+J,kBAAkB,CAAC5B,IAAI,CAACkC,OAAL,CAAaC,WAAb,EAAD,CAA7B;;AACF,SAAK,UAAL;AACE,aAAOP,kBAAkB,kBAClB,OAAO5B,IAAI,CAAChI,IAAZ,KAAqB,UAArB,GAAkC,EAAlC,GAAuCgI,IAAI,CAAChI,IAD1B,WAAzB;;AAGF,SAAK,QAAL;AACE,yBAAWgI,IAAX;;AACF,SAAK,QAAL;AACE,aAAO4B,kBAAkB,CAAC5B,IAAI,CAACzJ,QAAL,KAAkB,GAAnB,CAAzB;;AACF,SAAK,QAAL;AACE,aAAOqL,kBAAkB,CAAC5B,IAAI,CAACzJ,QAAL,EAAD,CAAzB;;AACF,SAAK,QAAL;AACE,aAAOqL,kBAAkB,CAAC5B,IAAI,CAACzJ,QAAL,EAAD,CAAzB;;AACF,SAAK,eAAL;AACE,wBAAWqL,kBAAkB,CAC3BjB,6BAA6B,CAACX,IAAD,CAA7B,IAAuC,SADZ,CAA7B;;AAGF,SAAK,cAAL;AACE,mCAAsBA,IAAI,CAACoC,UAA3B;;AACF,SAAK,WAAL;AACE,gCAAmBpC,IAAI,CAACqC,MAAL,CAAYD,UAA/B;;AACF,SAAK,OAAL;AACE,UAAIN,kBAAJ,EAAwB;AACtB,YAAIQ,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAI/J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyH,IAAI,CAACxH,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,cAAIA,CAAC,GAAG,CAAR,EAAW;AACT+J,qBAAS,IAAI,IAAb;AACD;;AACDA,mBAAS,IAAIT,oBAAoB,CAAC7B,IAAI,CAACzH,CAAD,CAAL,EAAU,KAAV,CAAjC;;AACA,cAAI+J,SAAS,CAAC9J,MAAV,GAAmBmJ,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,0BAAWC,kBAAkB,CAACU,SAAD,CAA7B;AACD,OAbD,MAaO;AACL,YAAM9J,MAAM,GAAG5C,cAAc,CAACmJ,IAAf,CAAoBiB,IAApB,EAA0B+B,uDAAI,CAACQ,IAA/B,IACXvC,IAAI,CAAC+B,uDAAI,CAACQ,IAAN,CADO,GAEXvC,IAAI,CAACxH,MAFT;AAGA,+BAAgBA,MAAhB;AACD;;AACH,SAAK,aAAL;AACE,UAAMgK,SAAS,aAAMxC,IAAI,CAACQ,WAAL,CAAiBxI,IAAvB,cAA+BgI,IAAI,CAACxH,MAApC,MAAf;;AACA,UAAIsJ,kBAAJ,EAAwB;AACtB,YAAIQ,UAAS,GAAG,EAAhB;;AACA,aAAK,IAAI/J,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGyH,IAAI,CAACxH,MAAzB,EAAiCD,EAAC,EAAlC,EAAsC;AACpC,cAAIA,EAAC,GAAG,CAAR,EAAW;AACT+J,sBAAS,IAAI,IAAb;AACD;;AACDA,oBAAS,IAAItC,IAAI,CAACzH,EAAD,CAAjB;;AACA,cAAI+J,UAAS,CAAC9J,MAAV,GAAmBmJ,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,yBAAUa,SAAV,eAAwBZ,kBAAkB,CAACU,UAAD,CAA1C;AACD,OAbD,MAaO;AACL,eAAOE,SAAP;AACD;;AACH,SAAK,UAAL;AACE,UAAMxK,IAAI,GAAGgI,IAAI,CAACQ,WAAL,CAAiBxI,IAA9B;;AAEA,UAAI8J,kBAAJ,EAAwB;AACtB;AACA;AACA;AACA;AACA,YAAMzJ,KAAK,GAAG6G,KAAK,CAACC,IAAN,CAAWa,IAAX,CAAd;AAEA,YAAIsC,WAAS,GAAG,EAAhB;;AACA,aAAK,IAAI/J,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,GAAC,EAAnC,EAAuC;AACrC,cAAMkK,cAAc,GAAGpK,KAAK,CAACE,GAAD,CAA5B;;AAEA,cAAIA,GAAC,GAAG,CAAR,EAAW;AACT+J,uBAAS,IAAI,IAAb;AACD,WALoC,CAOrC;AACA;AACA;AACA;AACA;;;AACA,cAAI/C,gEAAO,CAACkD,cAAD,CAAX,EAA6B;AAC3B,gBAAMvL,GAAG,GAAG2K,oBAAoB,CAACY,cAAc,CAAC,CAAD,CAAf,EAAoB,IAApB,CAAhC;AACA,gBAAM/G,KAAK,GAAGmG,oBAAoB,CAACY,cAAc,CAAC,CAAD,CAAf,EAAoB,KAApB,CAAlC;AACAH,uBAAS,cAAOpL,GAAP,iBAAiBwE,KAAjB,CAAT;AACD,WAJD,MAIO;AACL4G,uBAAS,IAAIT,oBAAoB,CAACY,cAAD,EAAiB,KAAjB,CAAjC;AACD;;AAED,cAAIH,WAAS,CAAC9J,MAAV,GAAmBmJ,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AAED,yBAAU3J,IAAV,cAAkBgI,IAAI,CAACuC,IAAvB,gBAAiCX,kBAAkB,CAACU,WAAD,CAAnD;AACD,OAnCD,MAmCO;AACL,yBAAUtK,IAAV,cAAkBgI,IAAI,CAACuC,IAAvB;AACD;;AACH,SAAK,iBAAL;AAAwB;AACtB,eAAOvC,IAAI,CAAChB,MAAM,CAAC0D,WAAR,CAAX;AACD;;AACD,SAAK,MAAL;AACE,aAAO1C,IAAI,CAACzJ,QAAL,EAAP;;AACF,SAAK,gBAAL;AACE,aAAOyJ,IAAI,CAACQ,WAAL,CAAiBxI,IAAxB;;AACF,SAAK,QAAL;AACE,UAAI8J,kBAAJ,EAAwB;AACtB,YAAMpL,IAAI,GAAGwI,KAAK,CAACC,IAAN,CAAW3I,oBAAoB,CAACwJ,IAAD,CAA/B,EAAuC2C,IAAvC,CAA4CvM,aAA5C,CAAb;AAEA,YAAIkM,WAAS,GAAG,EAAhB;;AACA,aAAK,IAAI/J,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG7B,IAAI,CAAC8B,MAAzB,EAAiCD,GAAC,EAAlC,EAAsC;AACpC,cAAMrB,IAAG,GAAGR,IAAI,CAAC6B,GAAD,CAAhB;;AACA,cAAIA,GAAC,GAAG,CAAR,EAAW;AACT+J,uBAAS,IAAI,IAAb;AACD;;AACDA,qBAAS,cAAOpL,IAAG,CAACX,QAAJ,EAAP,eAA0BsL,oBAAoB,CACrD7B,IAAI,CAAC9I,IAAD,CADiD,EAErD,KAFqD,CAA9C,CAAT;;AAIA,cAAIoL,WAAS,CAAC9J,MAAV,GAAmBmJ,yBAAvB,EAAkD;AAChD;AACA;AACD;AACF;;AACD,0BAAWC,kBAAkB,CAACU,WAAD,CAA7B;AACD,OAnBD,MAmBO;AACL,eAAO,KAAP;AACD;;AACH,SAAK,SAAL;AACA,SAAK,QAAL;AACA,SAAK,UAAL;AACA,SAAK,KAAL;AACA,SAAK,MAAL;AACA,SAAK,WAAL;AACE,aAAOtC,IAAP;;AACF;AACE,UAAI;AACF,eAAO4B,kBAAkB,CAAClJ,MAAM,CAACsH,IAAD,CAAP,CAAzB;AACD,OAFD,CAEE,OAAO7D,KAAP,EAAc;AACd,eAAO,gBAAP;AACD;;AAhJL;AAkJD,C,CAED;;AACO,IAAMuE,aAAa,GAAG,SAAhBA,aAAgB,CAAChC,MAAD,EAA6B;AACxD,MAAMkE,eAAe,GAAG/M,MAAM,CAACwB,cAAP,CAAsBqH,MAAtB,CAAxB;AACA,MAAI,CAACkE,eAAL,EAAsB,OAAO,IAAP;AAEtB,MAAMC,qBAAqB,GAAGhN,MAAM,CAACwB,cAAP,CAAsBuL,eAAtB,CAA9B;AACA,SAAO,CAACC,qBAAR;AACD,CANM,C;;;;;;;;ACp3BP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;AASA;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMhF,gBAAgB,GAAG,CAAzB;AACA,IAAMiF,kBAAkB,GAAG,CAA3B;AACA,IAAM/E,mBAAmB,GAAG,CAA5B;AACA,IAAMD,qBAAqB,GAAG,CAA9B;AACA,IAAMnC,wBAAwB,GAAG,CAAjC;AACA,IAAMqC,eAAe,GAAG,CAAxB;AACA,IAAM+E,yBAAyB,GAAG,CAAlC;AACA,IAAMC,mBAAmB,GAAG,EAA5B;AACA,IAAM5I,eAAe,GAAG,EAAxB;AACA,IAAM6I,mBAAmB,GAAG,EAA5B;AACA,IAAMC,uBAAuB,GAAG,EAAhC;AACA,IAAMC,wBAAwB,GAAG,EAAjC,C,CAEP;AACA;AACA;;AAGA;AACA;AACA;AACA;AACO,IAAM1H,0BAA0B,GAAG,CAAnC;AACA,IAAM2H,0BAA0B,GAAG,CAAnC;AACA,IAAMC,uBAAuB,GAAG,CAAhC;AACA,IAAMC,kBAAkB,GAAG,CAA3B;AAwDA,IAAM/B,UAAU,GAAG,CAAnB,C;;;;;;;ACjHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASO,IAAMgC,4BAA4B,GAAG,kCAArC;AACA,IAAMC,qBAAqB,GAAG,kCAA9B;AACA,IAAMC,kBAAkB,GAAG,kCAA3B,C,CAEP;;AACO,IAAMC,SAAS,GAAG,KAAlB,C,CAEP;;AACO,IAAMC,uBAAuB,GAAG,KAAhC;AAEA,IAAMzJ,kBAAkB,GAAG,CAA3B;AACA,IAAMK,qBAAqB,GAAG,CAA9B;AACA,IAAMM,+BAA+B,GAAG,CAAxC;AACA,IAAMI,wCAAwC,GAAG,CAAjD;AACA,IAAMC,wCAAwC,GAAG,CAAjD;AACA,IAAMR,0BAA0B,GAAG,CAAnC;AACA,IAAMC,+BAA+B,GAAG,CAAxC;AAEA,IAAMiJ,4BAA4B,GAAG,CAArC;AACA,IAAMC,+BAA+B,GAAG,CAAxC;AAEA,IAAMC,6BAA6B,GAAG,6BAAtC;AAEA,IAAM9H,8CAA8C,GACzD,mCADK;AAGA,IAAM+H,kCAAkC,GAC7C,gCADK;AAGA,IAAMrG,gCAAgC,GAC3C,kCADK;AAGA,IAAMsG,kCAAkC,GAC7C,iCADK;AAGA,IAAMC,8CAA8C,GACzD,2CADK;AAGA,IAAMC,sCAAsC,GACjD,mCADK;AAGA,IAAMlH,4CAA4C,GACvD,uCADK;AAGA,IAAMmH,2BAA2B,GAAG,wBAApC;AAEA,IAAMrH,+CAA+C,GAC1D,uCADK;AAGA,IAAMM,iDAAiD,GAC5D,8CADK;AAGA,IAAMgH,uCAAuC,GAClD,sCADK;AAGA,IAAMlH,8CAA8C,GACzD,8CADK;AAGA,IAAMmH,uBAAuB,GAAG,CAAhC,C;;;;;;;ACnEP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASA;AACA;AACA;AACA;AACA;AAEO,IAAMC,sBAAsB,GAAG,MAA/B;AACA,IAAMC,6BAA6B,GAAG,+BAAtC;AAEA,IAAMC,cAAc,GAAG,MAAvB;AACA,IAAMC,qBAAqB,GAAG,uBAA9B;AAEA,IAAMC,4BAA4B,GAAG,8BAArC;AAEA,IAAMC,mCAAmC,GAAG,0BAA5C;AAEA,IAAMC,cAAc,GAAG,MAAvB;AACA,IAAMC,qBAAqB,GAAG,uBAA9B;AAEA,IAAMC,yBAAyB,GAAG,MAAlC;AACA,IAAMC,gCAAgC,GAC3C,gCADK;AAGA,IAAMC,kBAAkB,GAAG,MAA3B;AACA,IAAMC,yBAAyB,GAAG,2BAAlC;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,WAAW,GAAG,MAApB;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,IAAMC,WAAW,GAAG,MAApB;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,IAAMC,aAAa,GAAG,MAAtB;AACA,IAAMC,oBAAoB,GAAG,sBAA7B;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,YAAY,GAAG,MAArB;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;AAEA,IAAMC,kBAAkB,GAAG,MAA3B;AACA,IAAMC,yBAAyB,GAAG,2BAAlC;AAEA,IAAMC,eAAe,GAAG,MAAxB;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AAEA,IAAMC,oBAAoB,GAAG,MAA7B;AACA,IAAMC,2BAA2B,GAAG,6BAApC;AAEA,IAAMC,qDAAqD,GAChE,2CADK,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEP;;;;;;;AAOO,IAAM,eAAe,GAAG,SAAlB,eAAkB,CAAC,EAAD,EAAa,EAAb,EAA2B;AACxD;AACA,MAAM,EAAE,GAAG,gBAAgB,CAAC,EAAD,CAA3B;AACA,MAAM,EAAE,GAAG,gBAAgB,CAAC,EAAD,CAA3B,CAHwD,CAKxD;;AACA,MAAM,EAAE,GAAG,EAAE,CAAC,GAAH,EAAX;AACA,MAAM,EAAE,GAAG,EAAE,CAAC,GAAH,EAAX,CAPwD,CASxD;;AACA,MAAM,CAAC,GAAG,eAAe,CAAC,EAAD,EAAK,EAAL,CAAzB;AACA,MAAI,CAAC,KAAK,CAAV,EAAa,OAAO,CAAP,CAX2C,CAaxD;;AACA,MAAI,EAAE,IAAI,EAAV,EAAc;AACZ,WAAO,eAAe,CAAC,EAAE,CAAC,KAAH,CAAS,GAAT,CAAD,EAAgB,EAAE,CAAC,KAAH,CAAS,GAAT,CAAhB,CAAtB;AACD,GAFD,MAEO,IAAI,EAAE,IAAI,EAAV,EAAc;AACnB,WAAO,EAAE,GAAG,CAAC,CAAJ,GAAQ,CAAjB;AACD;;AAED,SAAO,CAAP;AACD,CArBM;AAuBP;;;;;;;;;;;;;;AAaO,IAAM,QAAQ,GAAG,SAAX,QAAW,CAAC,OAAD;AAAA,SACtB,OAAO,OAAP,KAAmB,QAAnB,IAA+B,SAAS,IAAT,CAAc,OAAd,CAA/B,IAAyD,MAAM,CAAC,IAAP,CAAY,OAAZ,CADnC;AAAA,CAAjB;AAQP;;;;;;;;;;;;;;;;;;AAiBO,IAAM,OAAO,GAAG,SAAV,OAAU,CAAC,EAAD,EAAa,EAAb,EAAyB,QAAzB,EAAsD;AAC3E;AACA,qBAAmB,CAAC,QAAD,CAAnB,CAF2E,CAI3E;AACA;;AACA,MAAM,GAAG,GAAG,eAAe,CAAC,EAAD,EAAK,EAAL,CAA3B;AAEA,SAAO,cAAc,CAAC,QAAD,CAAd,CAAyB,QAAzB,CAAkC,GAAlC,CAAP;AACD,CATM;AAWP;;;;;;;;;;;;;;AAaO,IAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,OAAD,EAAkB,KAAlB,EAAmC;AAC1D;AACA,MAAM,CAAC,GAAG,KAAK,CAAC,KAAN,CAAY,aAAZ,CAAV;AACA,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAD,CAAJ,GAAU,GAAtB,CAH0D,CAK1D;;AACA,MAAI,EAAE,KAAK,GAAP,IAAc,EAAE,KAAK,GAAzB,EACE,OAAO,OAAO,CAAC,OAAD,EAAU,KAAV,EAAiB,EAAjB,CAAd,CAPwD,CAS1D;;AAT0D,0BAU/B,gBAAgB,CAAC,OAAD,CAVe;AAAA;AAAA,MAUnD,EAVmD;AAAA,MAU/C,EAV+C;AAAA,MAU3C,EAV2C;AAAA,MAUrC,EAVqC;;AAAA,2BAW/B,gBAAgB,CAAC,KAAD,CAXe;AAAA;AAAA,MAWnD,EAXmD;AAAA,MAW/C,EAX+C;AAAA,MAW3C,EAX2C;AAAA,MAWrC,EAXqC;;AAY1D,MAAM,CAAC,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAV;AACA,MAAM,CAAC,GAAG,CAAC,EAAD,EAAK,EAAE,SAAF,MAAE,WAAF,QAAM,GAAX,EAAgB,EAAE,SAAF,MAAE,WAAF,QAAM,GAAtB,CAAV,CAb0D,CAe1D;;AACA,MAAI,EAAJ,EAAQ;AACN,QAAI,CAAC,EAAL,EAAS,OAAO,KAAP;AACT,QAAI,eAAe,CAAC,CAAD,EAAI,CAAJ,CAAf,KAA0B,CAA9B,EAAiC,OAAO,KAAP;AACjC,QAAI,eAAe,CAAC,EAAE,CAAC,KAAH,CAAS,GAAT,CAAD,EAAgB,EAAE,CAAC,KAAH,CAAS,GAAT,CAAhB,CAAf,KAAkD,CAAC,CAAvD,EAA0D,OAAO,KAAP;AAC3D,GApByD,CAsB1D;;;AACA,MAAM,OAAO,GAAG,CAAC,CAAC,SAAF,CAAY,UAAC,CAAD;AAAA,WAAO,CAAC,KAAK,GAAb;AAAA,GAAZ,IAAgC,CAAhD,CAvB0D,CAyB1D;;AACA,MAAM,CAAC,GAAG,EAAE,KAAK,GAAP,GAAa,CAAb,GAAiB,OAAO,GAAG,CAAV,GAAc,OAAd,GAAwB,CAAnD,CA1B0D,CA4B1D;;AACA,MAAI,eAAe,CAAC,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,CAAX,CAAD,EAAgB,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,CAAX,CAAhB,CAAf,KAAkD,CAAtD,EAAyD,OAAO,KAAP,CA7BC,CA+B1D;;AACA,MAAI,eAAe,CAAC,CAAC,CAAC,KAAF,CAAQ,CAAR,CAAD,EAAa,CAAC,CAAC,KAAF,CAAQ,CAAR,CAAb,CAAf,KAA4C,CAAC,CAAjD,EAAoD,OAAO,KAAP;AAEpD,SAAO,IAAP;AACD,CAnCM;AAqCP,IAAM,MAAM,GACV,4IADF;;AAGA,IAAM,gBAAgB,GAAG,SAAnB,gBAAmB,CAAC,OAAD,EAAoB;AAC3C,MAAI,OAAO,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAM,IAAI,SAAJ,CAAc,kCAAd,CAAN;AACD;;AACD,MAAM,KAAK,GAAG,OAAO,CAAC,KAAR,CAAc,MAAd,CAAd;;AACA,MAAI,CAAC,KAAL,EAAY;AACV,UAAM,IAAI,KAAJ,+CACmC,OADnC,iBAAN;AAGD;;AACD,OAAK,CAAC,KAAN;AACA,SAAO,KAAP;AACD,CAZD;;AAcA,IAAM,UAAU,GAAG,SAAb,UAAa,CAAC,CAAD;AAAA,SAAe,CAAC,KAAK,GAAN,IAAa,CAAC,KAAK,GAAnB,IAA0B,CAAC,KAAK,GAA/C;AAAA,CAAnB;;AAEA,IAAM,QAAQ,GAAG,SAAX,QAAW,CAAC,CAAD,EAAc;AAC7B,MAAM,CAAC,GAAG,QAAQ,CAAC,CAAD,EAAI,EAAJ,CAAlB;AACA,SAAO,KAAK,CAAC,CAAD,CAAL,GAAW,CAAX,GAAe,CAAtB;AACD,CAHD;;AAKA,IAAM,SAAS,GAAG,SAAZ,SAAY,CAAC,CAAD,EAAqB,CAArB;AAAA,SAChB,QAAO,CAAP,cAAoB,CAApB,IAAwB,CAAC,MAAM,CAAC,CAAD,CAAP,EAAY,MAAM,CAAC,CAAD,CAAlB,CAAxB,GAAiD,CAAC,CAAD,EAAI,CAAJ,CADjC;AAAA,CAAlB;;AAGA,IAAM,cAAc,GAAG,SAAjB,cAAiB,CAAC,CAAD,EAAY,CAAZ,EAAyB;AAC9C,MAAI,UAAU,CAAC,CAAD,CAAV,IAAiB,UAAU,CAAC,CAAD,CAA/B,EAAoC,OAAO,CAAP;;AADU,mBAE7B,SAAS,CAAC,QAAQ,CAAC,CAAD,CAAT,EAAc,QAAQ,CAAC,CAAD,CAAtB,CAFoB;AAAA;AAAA,MAEvC,EAFuC;AAAA,MAEnC,EAFmC;;AAG9C,MAAI,EAAE,GAAG,EAAT,EAAa,OAAO,CAAP;AACb,MAAI,EAAE,GAAG,EAAT,EAAa,OAAO,CAAC,CAAR;AACb,SAAO,CAAP;AACD,CAND;;AAQA,IAAM,eAAe,GAAG,SAAlB,eAAkB,CACtB,CADsB,EAEtB,CAFsB,EAGpB;AACF,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,MAAX,EAAmB,CAAC,CAAC,MAArB,CAApB,EAAkD,CAAC,EAAnD,EAAuD;AACrD,QAAM,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAT,EAAc,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAtB,CAAxB;AACA,QAAI,CAAC,KAAK,CAAV,EAAa,OAAO,CAAP;AACd;;AACD,SAAO,CAAP;AACD,CATD;;AAWA,IAAM,cAAc,GAAG;AACrB,OAAK,CAAC,CAAD,CADgB;AAErB,QAAM,CAAC,CAAD,EAAI,CAAJ,CAFe;AAGrB,OAAK,CAAC,CAAD,CAHgB;AAIrB,QAAM,CAAC,CAAC,CAAF,EAAK,CAAL,CAJe;AAKrB,OAAK,CAAC,CAAC,CAAF;AALgB,CAAvB;AAQA,IAAM,gBAAgB,GAAG,MAAM,CAAC,IAAP,CAAY,cAAZ,CAAzB;;AAEA,IAAM,mBAAmB,GAAG,SAAtB,mBAAsB,CAAC,EAAD,EAAe;AACzC,MAAI,OAAO,EAAP,KAAc,QAAlB,EAA4B;AAC1B,UAAM,IAAI,SAAJ,kEACqD,EADrD,GAAN;AAGD;;AACD,MAAI,gBAAgB,CAAC,OAAjB,CAAyB,EAAzB,MAAiC,CAAC,CAAtC,EAAyC;AACvC,UAAM,IAAI,KAAJ,6CACiC,gBAAgB,CAAC,IAAjB,CAAsB,GAAtB,CADjC,EAAN;AAGD;AACF,CAXD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzLA;;;;;;;;;AAUA;AACA;AACA;AAIA;AACA,IAAMC,mCAAmC,GAAG,SAA5C;AACO,SAASC,kBAAT,CAA4BC,OAA5B,EAAuD;AAC5D,MAAIA,OAAO,IAAI,IAAX,IAAmBA,OAAO,KAAK,EAAnC,EAAuC;AACrC,WAAO,KAAP;AACD;;AACD,SAAOC,GAAG,CAACD,OAAD,EAAUF,mCAAV,CAAV;AACD;AAEM,SAASI,cAAT,CACL3G,IADK,EAEL4G,aAFK,EAIkB;AAAA,MADvBjI,IACuB,uEADQ,EACR;;AACvB,MAAIqB,IAAI,KAAK,IAAb,EAAmB;AACjB,QAAM6G,YAA2C,GAAG,EAApD;AACA,QAAMC,mBAAkD,GAAG,EAA3D;AACA,QAAMC,WAAW,GAAGC,sCAAS,CAC3BhH,IAD2B,EAE3B6G,YAF2B,EAG3BC,mBAH2B,EAI3BnI,IAJ2B,EAK3BiI,aAL2B,CAA7B;AAQA,WAAO;AACL5G,UAAI,EAAE+G,WADD;AAELE,aAAO,EAAEJ,YAFJ;AAGLK,oBAAc,EAAEJ;AAHX,KAAP;AAKD,GAhBD,MAgBO;AACL,WAAO,IAAP;AACD;AACF;AAEM,SAASK,cAAT,CACL1Q,GADK,EAELkI,IAFK,EAIgB;AAAA,MADrByI,KACqB,uEADL,CACK;AACrB,MAAMlQ,GAAG,GAAGyH,IAAI,CAACyI,KAAD,CAAhB;AACA,MAAMC,OAAO,GAAG9H,kCAAO,CAAC9I,GAAD,CAAP,GAAeA,GAAG,CAACuD,KAAJ,EAAf,qBAAiCvD,GAAjC,CAAhB;;AACA,MAAI2Q,KAAK,GAAG,CAAR,KAAczI,IAAI,CAACnG,MAAvB,EAA+B;AAC7B,QAAI+G,kCAAO,CAAC8H,OAAD,CAAX,EAAsB;AACpBA,aAAO,CAAC7H,MAAR,CAAiBtI,GAAjB,EAAqC,CAArC;AACD,KAFD,MAEO;AACL,aAAOmQ,OAAO,CAACnQ,GAAD,CAAd;AACD;AACF,GAND,MAMO;AACL;AACAmQ,WAAO,CAACnQ,GAAD,CAAP,GAAeiQ,cAAc,CAAC1Q,GAAG,CAACS,GAAD,CAAJ,EAAWyH,IAAX,EAAiByI,KAAK,GAAG,CAAzB,CAA7B;AACD;;AACD,SAAOC,OAAP;AACD,C,CAED;AACA;;AACO,SAASC,cAAT,CACL7Q,GADK,EAELiJ,OAFK,EAGLC,OAHK,EAKgB;AAAA,MADrByH,KACqB,uEADL,CACK;AACrB,MAAMG,MAAM,GAAG7H,OAAO,CAAC0H,KAAD,CAAtB;AACA,MAAMC,OAAO,GAAG9H,kCAAO,CAAC9I,GAAD,CAAP,GAAeA,GAAG,CAACuD,KAAJ,EAAf,qBAAiCvD,GAAjC,CAAhB;;AACA,MAAI2Q,KAAK,GAAG,CAAR,KAAc1H,OAAO,CAAClH,MAA1B,EAAkC;AAChC,QAAMgP,MAAM,GAAG7H,OAAO,CAACyH,KAAD,CAAtB,CADgC,CAEhC;;AACAC,WAAO,CAACG,MAAD,CAAP,GAAkBH,OAAO,CAACE,MAAD,CAAzB;;AACA,QAAIhI,kCAAO,CAAC8H,OAAD,CAAX,EAAsB;AACpBA,aAAO,CAAC7H,MAAR,CAAiB+H,MAAjB,EAAwC,CAAxC;AACD,KAFD,MAEO;AACL,aAAOF,OAAO,CAACE,MAAD,CAAd;AACD;AACF,GATD,MASO;AACL;AACAF,WAAO,CAACE,MAAD,CAAP,GAAkBD,cAAc,CAAC7Q,GAAG,CAAC8Q,MAAD,CAAJ,EAAc7H,OAAd,EAAuBC,OAAvB,EAAgCyH,KAAK,GAAG,CAAxC,CAAhC;AACD;;AACD,SAAOC,OAAP;AACD;AAEM,SAASI,WAAT,CACLhR,GADK,EAELkI,IAFK,EAGLjD,KAHK,EAKgB;AAAA,MADrB0L,KACqB,uEADL,CACK;;AACrB,MAAIA,KAAK,IAAIzI,IAAI,CAACnG,MAAlB,EAA0B;AACxB,WAAOkD,KAAP;AACD;;AACD,MAAMxE,GAAG,GAAGyH,IAAI,CAACyI,KAAD,CAAhB;AACA,MAAMC,OAAO,GAAG9H,kCAAO,CAAC9I,GAAD,CAAP,GAAeA,GAAG,CAACuD,KAAJ,EAAf,qBAAiCvD,GAAjC,CAAhB,CALqB,CAMrB;;AACA4Q,SAAO,CAACnQ,GAAD,CAAP,GAAeuQ,WAAW,CAAChR,GAAG,CAACS,GAAD,CAAJ,EAAWyH,IAAX,EAAiBjD,KAAjB,EAAwB0L,KAAK,GAAG,CAAhC,CAA1B;AACA,SAAOC,OAAP;AACD;AAEM,SAASK,kBAAT,CAA4BC,IAA5B,EAGL;AACA;AACA;AACA,MAAIC,cAAc,GAAG,IAArB;AACA,MAAIC,qBAAqB,GAAG,IAA5B;AACA,MAAMC,QAAQ,GAAGH,IAAI,CAAC/Q,OAAtB;;AACA,MAAIkR,QAAQ,IAAI,IAAhB,EAAsB;AACpB,QAAMC,SAAS,GAAGD,QAAQ,CAACC,SAA3B;;AACA,QAAIA,SAAS,IAAI,IAAjB,EAAuB;AACrBH,oBAAc,GACZG,SAAS,CAACH,cAAV,IAA4B,IAA5B,GAAmCG,SAAS,CAACH,cAA7C,GAA8D,IADhE;AAEAC,2BAAqB,GACnBE,SAAS,CAACF,qBAAV,IAAmC,IAAnC,GACIE,SAAS,CAACF,qBADd,GAEI,IAHN;AAID;AACF;;AACD,SAAO;AAACD,kBAAc,EAAdA,cAAD;AAAiBC,yBAAqB,EAArBA;AAAjB,GAAP;AACD;AAEM,SAASG,iBAAT,CAA2BhI,IAA3B,EAA8C;AACnD,MAAIA,IAAI,KAAK/G,SAAb,EAAwB;AACtB,WAAO,WAAP;AACD;;AAED,MAAMgP,KAAK,GAAG,IAAItR,GAAJ,EAAd,CALmD,CAMnD;;AACA,SAAOsF,IAAI,CAACM,SAAL,CACLyD,IADK,EAEL,UAAC9I,GAAD,EAAMwE,KAAN,EAAgB;AACd,QAAI,aAAOA,KAAP,MAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAA3C,EAAiD;AAC/C,UAAIuM,KAAK,CAACC,GAAN,CAAUxM,KAAV,CAAJ,EAAsB;AACpB;AACD;;AACDuM,WAAK,CAAC7Q,GAAN,CAAUsE,KAAV;AACD;;AACD,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,aAAOA,KAAK,CAACnF,QAAN,KAAmB,GAA1B;AACD;;AACD,WAAOmF,KAAP;AACD,GAbI,EAcL,CAdK,CAAP;AAgBD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACO,SAASyM,gBAAT,CACLC,SADK,EAELC,KAFK,EAGgB;AACrB,MACED,SAAS,KAAKnP,SAAd,IACAmP,SAAS,KAAK,IADd,IAEAA,SAAS,CAAC5P,MAAV,KAAqB,CAFrB,IAGA;AACC,SAAO4P,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAAxB,IAAoCA,SAAS,CAAC,CAAD,CAAT,CAAajK,KAAb,CAAmB,eAAnB,CAJrC,IAKAkK,KAAK,KAAKpP,SANZ,EAOE;AACA,WAAOmP,SAAP;AACD,GAVoB,CAYrB;;;AACA,MAAME,MAAM,GAAG,+BAAf;;AACA,MAAI,OAAOF,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAAxB,IAAoCA,SAAS,CAAC,CAAD,CAAT,CAAajK,KAAb,CAAmBmK,MAAnB,CAAxC,EAAoE;AAClE,wBAAaF,SAAS,CAAC,CAAD,CAAtB,GAA6BC,KAA7B,4BAAuCD,SAAS,CAACpO,KAAV,CAAgB,CAAhB,CAAvC;AACD,GAFD,MAEO;AACL,QAAMuO,QAAQ,GAAGH,SAAS,CAACxJ,MAAV,CAAiB,UAAC4J,SAAD,EAAYC,IAAZ,EAAkBlQ,CAAlB,EAAwB;AACxD,UAAIA,CAAC,GAAG,CAAR,EAAW;AACTiQ,iBAAS,IAAI,GAAb;AACD;;AACD,2BAAeC,IAAf;AACE,aAAK,QAAL;AACA,aAAK,SAAL;AACA,aAAK,QAAL;AACE,iBAAQD,SAAS,IAAI,IAArB;;AACF,aAAK,QAAL;AACE,cAAME,UAAU,GAAGvI,MAAM,CAACwI,SAAP,CAAiBF,IAAjB,IAAyB,IAAzB,GAAgC,IAAnD;AACA,iBAAQD,SAAS,IAAIE,UAArB;;AACF;AACE,iBAAQF,SAAS,IAAI,IAArB;AATJ;AAWD,KAfgB,EAed,IAfc,CAAjB;AAgBA,YAAQD,QAAR,EAAkBF,KAAlB,4BAA4BD,SAA5B;AACD;AACF,C,CAED;AACA;AACA;AACA;;AACO,SAASQ,MAAT,CACLC,YADK,EAGG;AAAA,oCADLT,SACK;AADLA,aACK;AAAA;;AACR,MAAMU,IAAI,GAAGV,SAAS,CAACpO,KAAV,EAAb;AAEA,MAAIsI,SAAiB,GAAG5J,MAAM,CAACmQ,YAAD,CAA9B,CAHQ,CAKR;;AACA,MAAI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;AACpC,QAAIC,IAAI,CAACtQ,MAAT,EAAiB;AACf,UAAM8P,MAAM,GAAG,iBAAf;AAEAhG,eAAS,GAAGA,SAAS,CAACyG,OAAV,CAAkBT,MAAlB,EAA0B,UAACnK,KAAD,EAAQ6K,OAAR,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA+B;AACnE,YAAIC,GAAG,GAAGL,IAAI,CAACM,KAAL,EAAV;;AACA,gBAAQF,IAAR;AACE,eAAK,GAAL;AACEC,eAAG,IAAI,EAAP;AACA;;AACF,eAAK,GAAL;AACA,eAAK,GAAL;AACEA,eAAG,GAAGE,QAAQ,CAACF,GAAD,EAAM,EAAN,CAAR,CAAkB5S,QAAlB,EAAN;AACA;;AACF,eAAK,GAAL;AACE4S,eAAG,GAAGG,UAAU,CAACH,GAAD,CAAV,CAAgB5S,QAAhB,EAAN;AACA;AAVJ;;AAYA,YAAI,CAACyS,OAAL,EAAc;AACZ,iBAAOG,GAAP;AACD;;AACDL,YAAI,CAACS,OAAL,CAAaJ,GAAb;AACA,eAAOhL,KAAP;AACD,OAnBW,CAAZ;AAoBD;AACF,GA/BO,CAiCR;;;AACA,MAAI2K,IAAI,CAACtQ,MAAT,EAAiB;AACf,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuQ,IAAI,CAACtQ,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC+J,eAAS,IAAI,MAAM5J,MAAM,CAACoQ,IAAI,CAACvQ,CAAD,CAAL,CAAzB;AACD;AACF,GAtCO,CAwCR;;;AACA+J,WAAS,GAAGA,SAAS,CAACyG,OAAV,CAAkB,SAAlB,EAA6B,GAA7B,CAAZ;AAEA,SAAOrQ,MAAM,CAAC4J,SAAD,CAAb;AACD;AAEM,SAASkH,yBAAT,GAA8C;AACnD,SAAO,CAAC,EACNC,MAAM,CAACC,QAAP,IACAD,MAAM,CAACC,QAAP,CAAgBC,aADhB,IAEAF,MAAM,CAACC,QAAP,CAAgBC,aAAhB,CAA8BC,aAA9B,CAA4C,UAA5C,CAHM,CAAR;AAKD;AAEM,SAASC,EAAT,GAAqD;AAAA,MAAzCxT,CAAyC,uEAA7B,EAA6B;AAAA,MAAzBC,CAAyB,uEAAb,EAAa;AAC1D,SAAOwT,eAAe,CAACzT,CAAD,EAAIC,CAAJ,CAAf,KAA0B,CAAjC;AACD;AAEM,SAASoQ,GAAT,GAAsD;AAAA,MAAzCrQ,CAAyC,uEAA7B,EAA6B;AAAA,MAAzBC,CAAyB,uEAAb,EAAa;AAC3D,SAAOwT,eAAe,CAACzT,CAAD,EAAIC,CAAJ,CAAf,GAAwB,CAAC,CAAhC;AACD,C;;;;;;;AC5RD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASO,SAASyF,mBAAT,CAA6B7E,GAA7B,EAA+C;AACpD,MAAI;AACF,WAAO6S,YAAY,CAACC,OAAb,CAAqB9S,GAArB,CAAP;AACD,GAFD,CAEE,OAAOiF,KAAP,EAAc;AACd,WAAO,IAAP;AACD;AACF;AAEM,SAAS8N,sBAAT,CAAgC/S,GAAhC,EAAmD;AACxD,MAAI;AACF6S,gBAAY,CAACG,UAAb,CAAwBhT,GAAxB;AACD,GAFD,CAEE,OAAOiF,KAAP,EAAc,CAAE;AACnB;AAEM,SAASG,mBAAT,CAA6BpF,GAA7B,EAA0CwE,KAA1C,EAA4D;AACjE,MAAI;AACF,WAAOqO,YAAY,CAACI,OAAb,CAAqBjT,GAArB,EAA0BwE,KAA1B,CAAP;AACD,GAFD,CAEE,OAAOS,KAAP,EAAc,CAAE;AACnB;AAEM,SAASiO,qBAAT,CAA+BlT,GAA/B,EAAiD;AACtD,MAAI;AACF,WAAOmT,cAAc,CAACL,OAAf,CAAuB9S,GAAvB,CAAP;AACD,GAFD,CAEE,OAAOiF,KAAP,EAAc;AACd,WAAO,IAAP;AACD;AACF;AAEM,SAASmO,wBAAT,CAAkCpT,GAAlC,EAAqD;AAC1D,MAAI;AACFmT,kBAAc,CAACH,UAAf,CAA0BhT,GAA1B;AACD,GAFD,CAEE,OAAOiF,KAAP,EAAc,CAAE;AACnB;AAEM,SAASoO,qBAAT,CAA+BrT,GAA/B,EAA4CwE,KAA5C,EAA8D;AACnE,MAAI;AACF,WAAO2O,cAAc,CAACF,OAAf,CAAuBjT,GAAvB,EAA4BwE,KAA5B,CAAP;AACD,GAFD,CAEE,OAAOS,KAAP,EAAc,CAAE;AACnB,C;;;;;;;AC/CD;;;;;;;;AASA,IAAMoD,OAAO,GAAGL,KAAK,CAACK,OAAtB;AAEeA,gEAAf,E;;;;;;;ACXa;;AAEb,IAAIjC,IAAJ,EAA2C;AACzCkN,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJP;;;;;;;;AAgBA;AAEA;AACA;AACA;AACA;AAEA,IAAMC,wBAAwB,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,CAAjC;AACA,IAAMC,yBAAyB,GAAG,kBAAlC,C,CAEA;AACA;;AACA,IAAMC,YAAY,GAAG,mBAArB,C,CACA;AACA;;AACA,IAAMC,uBAAuB,GAAG,gBAAhC;AAEO,SAASC,sBAAT,CAAgCC,IAAhC,EAAuD;AAC5D,SAAOH,YAAY,CAACI,IAAb,CAAkBD,IAAlB,KAA2BF,uBAAuB,CAACG,IAAxB,CAA6BD,IAA7B,CAAlC;AACD;AAED,IAAME,qBAAqB,GAAG,KAA9B,C,CAEA;AACA;AACA;AACA;;AACA,SAASC,oBAAT,CAA8BrC,IAA9B,EAAmDsC,MAAnD,EAA4E;AAC1E,SACEtC,IAAI,CAACtQ,MAAL,IAAe,CAAf,IACA0S,qBAAqB,CAACD,IAAtB,CAA2BnC,IAAI,CAAC,CAAD,CAA/B,CADA,IAEAA,IAAI,CAAC,CAAD,CAAJ,sBAAsBuC,eAAe,CAACD,MAAD,CAAf,IAA2B,EAAjD,CAHF;AAKD;;AAED,SAASC,eAAT,CAAyBD,MAAzB,EAAkD;AAChD,UAAQA,MAAR;AACE,SAAK,MAAL;AACE,aAAOE,kBAAkB,CAACC,YAAnB,KAAoC,OAApC,GACHjO,0BADG,GAEHA,yBAFJ;;AAGF,SAAK,OAAL;AACE,aAAOgO,kBAAkB,CAACC,YAAnB,KAAoC,OAApC,GACHjO,2BADG,GAEHA,0BAFJ;;AAGF,SAAK,KAAL;AACA;AACE,aAAOgO,kBAAkB,CAACC,YAAnB,KAAoC,OAApC,GACHjO,2BADG,GAEHA,0BAFJ;AAXJ;AAeD;;AAOD,IAAMkO,iBAQL,GAAG,IAAIC,GAAJ,EARJ;AAUA,IAAIC,aAAqB,GAAGpQ,OAA5B;AACA,IAAIqQ,oBAA4C,GAAG,EAAnD;;AACA,KAAK,IAAMP,MAAX,IAAqB9P,OAArB,EAA8B;AAC5BqQ,sBAAoB,CAACP,MAAD,CAApB,GAA+B9P,OAAO,CAAC8P,MAAD,CAAtC;AACD;;AAED,IAAIQ,SAA8B,GAAG,IAArC;AAEA,IAAIC,MAAM,GAAG,KAAb;;AACA,IAAI;AACFA,QAAM,GAAG,SAAI,KAAKC,MAAlB;AACD,CAFD,CAEE,OAAO3P,KAAP,EAAc,CAAE,C,CAElB;;;AACO,SAAS4P,oCAAT,CACLC,uBADK,EAEC;AACNN,eAAa,GAAGM,uBAAhB;AAEAL,sBAAoB,GAAI,EAAxB;;AACA,OAAK,IAAMP,OAAX,IAAqBM,aAArB,EAAoC;AAClCC,wBAAoB,CAACP,OAAD,CAApB,GAA+B9P,OAAO,CAAC8P,OAAD,CAAtC;AACD;AACF,C,CAED;AACA;AACA;;AACO,SAASa,gBAAT,CACLC,QADK,EAELC,gBAFK,EAGC;AAAA,MAEJC,oBAFI,GAMFF,QANE,CAEJE,oBAFI;AAAA,MAGJC,eAHI,GAMFH,QANE,CAGJG,eAHI;AAAA,MAIJC,uBAJI,GAMFJ,QANE,CAIJI,uBAJI;AAAA,MAKJ7F,OALI,GAMFyF,QANE,CAKJzF,OALI,EAQN;;AACA,MAAI,OAAO6F,uBAAP,KAAmC,UAAvC,EAAmD;AACjD;AACD,GAXK,CAaN;AACA;;;AACA,MAAIF,oBAAoB,IAAI,IAAxB,IAAgC,OAAOC,eAAP,KAA2B,UAA/D,EAA2E;AAAA,gCAC/CE,mFAAyB,CAAC9F,OAAD,CADsB;AAAA,QAClE+F,eADkE,yBAClEA,eADkE;;AAGzEhB,qBAAiB,CAACvT,GAAlB,CAAsBiU,QAAtB,EAAgC;AAC9BE,0BAAoB,EAApBA,oBAD8B;AAE9BC,qBAAe,EAAfA,eAF8B;AAG9BI,gBAAU,EAAED,eAHkB;AAI9BL,sBAAgB,EAAhBA;AAJ8B,KAAhC;AAMD;AACF;AAED,IAAMb,kBAAwC,GAAG;AAC/CoB,sBAAoB,EAAE,KADyB;AAE/CC,sBAAoB,EAAE,KAFyB;AAG/CC,6BAA2B,EAAE,KAHkB;AAI/CC,6BAA2B,EAAE,KAJkB;AAK/CtB,cAAY,EAAE;AALiC,CAAjD,C,CAQA;AACA;;AACO,SAASuB,KAAT,OAMwB;AAAA,MAL7BJ,oBAK6B,QAL7BA,oBAK6B;AAAA,MAJ7BC,oBAI6B,QAJ7BA,oBAI6B;AAAA,MAH7BC,2BAG6B,QAH7BA,2BAG6B;AAAA,MAF7BC,2BAE6B,QAF7BA,2BAE6B;AAAA,MAD7BtB,YAC6B,QAD7BA,YAC6B;AAC7B;AACA;AACAD,oBAAkB,CAACoB,oBAAnB,GAA0CA,oBAA1C;AACApB,oBAAkB,CAACqB,oBAAnB,GAA0CA,oBAA1C;AACArB,oBAAkB,CAACsB,2BAAnB,GAAiDA,2BAAjD;AACAtB,oBAAkB,CAACuB,2BAAnB,GAAiDA,2BAAjD;AACAvB,oBAAkB,CAACC,YAAnB,GAAkCA,YAAlC;;AAEA,MACEmB,oBAAoB,IACpBC,oBADA,IAEAC,2BAHF,EAIE;AACA,QAAIhB,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACA;AACD;;AAED,QAAMmB,sBAA8C,GAAG,EAAvD;;AAEAnB,aAAS,GAAG,qBAAM;AAChB,WAAK,IAAMR,QAAX,IAAqB2B,sBAArB,EAA6C;AAC3C,YAAI;AACFrB,uBAAa,CAACN,QAAD,CAAb,GAAwB2B,sBAAsB,CAAC3B,QAAD,CAA9C;AACD,SAFD,CAEE,OAAOjP,KAAP,EAAc,CAAE;AACnB;AACF,KAND;;AAQAwO,4BAAwB,CAAC1T,OAAzB,CAAiC,UAAAmU,MAAM,EAAI;AACzC,UAAI;AACF,YAAM4B,cAAc,GAAID,sBAAsB,CAAC3B,MAAD,CAAtB,GAAiCM,aAAa,CACpEN,MADoE,CAAb,CAEvD6B,kCAFuD,GAGrDvB,aAAa,CAACN,MAAD,CAAb,CAAsB6B,kCAH+B,GAIrDvB,aAAa,CAACN,MAAD,CAJjB,CADE,CAOF;;AACA,YAAM8B,cAAc,GAAG,SAAjBA,cAAiB,GAAa;AAClC,cAAIC,wBAAwB,GAAG,KAA/B;;AADkC,4CAATrE,IAAS;AAATA,gBAAS;AAAA;;AAElC,cAAIsC,MAAM,KAAK,KAAf,EAAsB;AACpB,gBAAIE,kBAAkB,CAACoB,oBAAvB,EAA6C;AAC3C,kBAAMU,OAAO,GAAGtE,IAAI,CAACtQ,MAAL,GAAc,CAAd,GAAkBsQ,IAAI,CAACA,IAAI,CAACtQ,MAAL,GAAc,CAAf,CAAtB,GAA0C,IAA1D;AACA,kBAAM6U,wBAAwB,GAC5B,OAAOD,OAAP,KAAmB,QAAnB,IAA+BrC,sBAAsB,CAACqC,OAAD,CADvD,CAF2C,CAK3C;AACA;;AACAD,sCAAwB,GAAG,CAACE,wBAA5B;AACD;AACF;;AAED,cAAMC,iCAAiC,GACrChC,kBAAkB,CAACsB,2BAAnB,KACCxB,MAAM,KAAK,OAAX,IAAsBA,MAAM,KAAK,MADlC,CADF,CAdkC,CAkBlC;AACA;AACA;;AApBkC,qDA0B7BI,iBAAiB,CAAC+B,MAAlB,EA1B6B;AAAA;;AAAA;AAqBlC,gEAKiC;AAAA;AAAA,kBAJ/BnB,oBAI+B,eAJ/BA,oBAI+B;AAAA,kBAH/BC,eAG+B,eAH/BA,eAG+B;AAAA,kBAF/BF,gBAE+B,eAF/BA,gBAE+B;AAAA,kBAD/BM,UAC+B,eAD/BA,UAC+B;AAC/B,kBAAM7V,OAAe,GAAGyV,eAAe,EAAvC;;AACA,kBAAIzV,OAAO,IAAI,IAAf,EAAqB;AACnB,oBAAI;AACF,sBAAI0W,iCAAJ,EAAuC;AACrC;AACA;AACA,wBAAI,OAAOnB,gBAAP,KAA4B,UAAhC,EAA4C;AAC1CA,sCAAgB,CACdvV,OADc,EAEZwU,MAFY,EAGd;AACAtC,0BAAI,CAAC9O,KAAL,EAJc,CAAhB;AAMD;AACF;;AAED,sBAAImT,wBAAJ,EAA8B;AAC5B,wBAAMK,cAAc,GAAGC,wGAA2B,CAChDhB,UADgD,EAEhD7V,OAFgD,EAGhDwV,oBAHgD,CAAlD;;AAKA,wBAAIoB,cAAc,KAAK,EAAvB,EAA2B;AACzB,0BAAIrC,oBAAoB,CAACrC,IAAD,EAAOsC,MAAP,CAAxB,EAAwC;AACtCtC,4BAAI,CAAC,CAAD,CAAJ,aAAaA,IAAI,CAAC,CAAD,CAAjB;AACAA,4BAAI,CAACzP,IAAL,CAAUmU,cAAV;AACD,uBAHD,MAGO;AACL1E,4BAAI,CAACzP,IAAL,CAAUmU,cAAV;AACD;AACF;AACF;AACF,iBA7BD,CA6BE,OAAOrR,KAAP,EAAc;AACd;AACAuR,4BAAU,CAAC,YAAM;AACf,0BAAMvR,KAAN;AACD,mBAFS,EAEP,CAFO,CAAV;AAGD,iBAlCD,SAkCU;AACR;AACD;AACF;AACF;AAnEiC;AAAA;AAAA;AAAA;AAAA;;AAqElC,cAAImP,kBAAkB,CAACqB,oBAAvB,EAA6C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDK,wBAAc,MAAd,SAAkBlE,IAAlB;AACD,SA/ED;;AAiFAoE,sBAAc,CAACD,kCAAf,GAAoDD,cAApD;AACAA,sBAAc,CAACW,kCAAf,GAAoDT,cAApD;AAEAxB,qBAAa,CAACN,MAAD,CAAb,GAAwB8B,cAAxB;AACD,OA7FD,CA6FE,OAAO/Q,KAAP,EAAc,CAAE;AACnB,KA/FD;AAgGD,GApHD,MAoHO;AACLyR,WAAO;AACR;AACF,C,CAED;;AACO,SAASA,OAAT,GAAyB;AAC9B,MAAIhC,SAAS,KAAK,IAAlB,EAAwB;AACtBA,aAAS;AACTA,aAAS,GAAG,IAAZ;AACD;AACF;AAED,IAAIiC,sBAA2C,GAAG,IAAlD,C,CAEA;;AACO,SAASC,kBAAT,GAA8B;AACnC,MAAIC,6GAAJ,EAA8C;AAC5C,QAAMC,sBAAsB,GAAG,CAC7B,OAD6B,EAE7B,OAF6B,EAG7B,gBAH6B,EAI7B,MAJ6B,EAK7B,KAL6B,EAM7B,OAN6B,EAO7B,MAP6B,CAA/B;;AAUA,QAAIH,sBAAsB,KAAK,IAA/B,EAAqC;AACnC;AACA;AACD;;AAED,QAAMd,sBAA8C,GAAG,EAAvD;;AAEAc,0BAAsB,GAAG,kCAAM;AAC7B,WAAK,IAAMzC,QAAX,IAAqB2B,sBAArB,EAA6C;AAC3C,YAAI;AACFrB,uBAAa,CAACN,QAAD,CAAb,GAAwB2B,sBAAsB,CAAC3B,QAAD,CAA9C;AACD,SAFD,CAEE,OAAOjP,KAAP,EAAc,CAAE;AACnB;AACF,KAND;;AAQA6R,0BAAsB,CAAC/W,OAAvB,CAA+B,UAAAmU,MAAM,EAAI;AACvC,UAAI;AACF,YAAM4B,cAAc,GAAID,sBAAsB,CAAC3B,MAAD,CAAtB,GAAiCM,aAAa,CACpEN,MADoE,CAAb,CAEvD6C,8CAFuD,GAGrDvC,aAAa,CAACN,MAAD,CAAb,CAAsB6C,8CAH+B,GAIrDvC,aAAa,CAACN,MAAD,CAJjB,CADE,CAOF;;AACA,YAAM8B,cAAc,GAAG,SAAjBA,cAAiB,GAAa;AAClC,cAAI,CAAC5B,kBAAkB,CAACuB,2BAAxB,EAAqD;AAAA,+CAD5B/D,IAC4B;AAD5BA,kBAC4B;AAAA;;AACnD;AACA;AACA,gBAAI+C,MAAJ,EAAY;AACVmB,4BAAc,CAACpC,yBAAD,EAA4BhC,qDAAM,MAAN,SAAUE,IAAV,CAA5B,CAAd;AACD,aAFD,MAEO;AACL,kBAAMoF,KAAK,GAAG7C,eAAe,CAACD,MAAD,CAA7B;;AACA,kBAAI8C,KAAJ,EAAW;AACTlB,8BAAc,MAAd,4BAAkB7E,uEAAgB,CAACW,IAAD,mBAAiBoF,KAAjB,EAAlC;AACD,eAFD,MAEO;AACL,sBAAM7S,KAAK,CAAC,8BAAD,CAAX;AACD;AACF;AACF;AACF,SAfD;;AAiBA6R,sBAAc,CAACe,8CAAf,GACEjB,cADF;AAEAA,sBAAc,CAACmB,8CAAf,GACEjB,cADF;AAGAxB,qBAAa,CAACN,MAAD,CAAb,GAAwB8B,cAAxB;AACD,OA/BD,CA+BE,OAAO/Q,KAAP,EAAc,CAAE;AACnB,KAjCD;AAkCD;AACF,C,CAED;;AACO,SAASiS,oBAAT,GAAsC;AAC3C,MAAIL,6GAAJ,EAA8C;AAC5C,QAAIF,sBAAsB,KAAK,IAA/B,EAAqC;AACnCA,4BAAsB;AACtBA,4BAAsB,GAAG,IAAzB;AACD;AACF;AACF;AAEM,SAASQ,6BAAT,GAAyC;AAAA;;AAC9C,MAAM3B,oBAAoB,gBACxBhQ,+DAAQ,CAAC+M,MAAM,CAAC6E,yCAAR,CADgB,iDACsC,IADhE;AAEA,MAAM3B,oBAAoB,iBACxBjQ,+DAAQ,CAAC+M,MAAM,CAAC8E,0CAAR,CADgB,mDACuC,KADjE;AAEA,MAAM3B,2BAA2B,iBAC/BlQ,+DAAQ,CAAC+M,MAAM,CAAC+E,kDAAR,CADuB,mDACwC,IADzE;AAEA,MAAM3B,2BAA2B,iBAC/BnQ,+DAAQ,CAAC+M,MAAM,CAACgF,mDAAR,CADuB,mDAE/B,KAFF;AAGA,MAAMlD,YAAY,wBAChB3O,uEAAgB,CAAC6M,MAAM,CAACiF,gCAAR,CADA,iEAC6C,MAD/D;AAGA5B,OAAK,CAAC;AACJJ,wBAAoB,EAApBA,oBADI;AAEJC,wBAAoB,EAApBA,oBAFI;AAGJC,+BAA2B,EAA3BA,2BAHI;AAIJC,+BAA2B,EAA3BA,2BAJI;AAKJtB,gBAAY,EAAZA;AALI,GAAD,CAAL;AAOD,C,CAED;AACA;AACA;;AACO,SAASoD,iCAAT,CACLC,QADK,EAEC;AACNnF,QAAM,CAAC6E,yCAAP,GACEM,QAAQ,CAAClC,oBADX;AAEAjD,QAAM,CAAC8E,0CAAP,GACEK,QAAQ,CAACjC,oBADX;AAEAlD,QAAM,CAAC+E,kDAAP,GACEI,QAAQ,CAAChC,2BADX;AAEAnD,QAAM,CAACgF,mDAAP,GACEG,QAAQ,CAAC/B,2BADX;AAEApD,QAAM,CAACiF,gCAAP,GAA0CE,QAAQ,CAACrD,YAAnD;AACD;AAEM,SAASsD,+BAAT,GAAiD;AACtDpF,QAAM,CAACqF,oCAAP,GAA8C;AAC5CT,iCAA6B,EAA7BA,6BAD4C;AAE5CU,+BAA2B,EAAE9C;AAFe,GAA9C;AAID,C;;;;;;;;ACjaD;;;;;;;;AAWA,IAAM+C,WAAW,GAAG9P,KAAK,CAACK,OAA1B,C,CAEA;;AACA,SAASA,OAAT,CAAiBlJ,CAAjB,EAAoC;AAClC,SAAO2Y,WAAW,CAAC3Y,CAAD,CAAlB;AACD;;AAEckJ,gEAAf,E;;;;;;;;;;;;;;;;;;AClBA;;;;;;;;AASA;AAWO,IAAMwC,IAAI,GAAG;AAClBkN,aAAW,EAAGjQ,MAAM,CAAC,aAAD,CADF;AAElBkQ,WAAS,EAAGlQ,MAAM,CAAC,WAAD,CAFA;AAGlBhH,MAAI,EAAGgH,MAAM,CAAC,MAAD,CAHK;AAIlBgD,cAAY,EAAGhD,MAAM,CAAC,cAAD,CAJH;AAKlBiD,eAAa,EAAGjD,MAAM,CAAC,eAAD,CALJ;AAMlBmQ,UAAQ,EAAGnQ,MAAM,CAAC,UAAD,CANC;AAOlBuD,MAAI,EAAGvD,MAAM,CAAC,MAAD,CAPK;AAQlBnH,MAAI,EAAGmH,MAAM,CAAC,MAAD,CARK;AASlBkI,gBAAc,EAAGlI,MAAM,CAAC,gBAAD;AATL,CAAb;AAqCP;AACA;AACA;AACA;AACA;AACA;AACA,IAAMoQ,eAAe,GAAG,CAAxB;AAEA;;;;AAGA,SAASC,gBAAT,CACExX,IADF,EAEEoX,WAFF,EAGEjP,IAHF,EAIEiH,OAJF,EAKEtI,IALF,EAMc;AACZsI,SAAO,CAAC5N,IAAR,CAAasF,IAAb;AAEA,MAAM2Q,UAAsB,GAAG;AAC7BL,eAAW,EAAXA,WAD6B;AAE7BpX,QAAI,EAAJA,IAF6B;AAG7BmK,gBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAHL;AAI7BiC,iBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAJN;AAK7BhI,QAAI,EACF,CAACgI,IAAI,CAACQ,WAAN,IAAqBR,IAAI,CAACQ,WAAL,CAAiBxI,IAAjB,KAA0B,QAA/C,GACI,EADJ,GAEIgI,IAAI,CAACQ,WAAL,CAAiBxI;AARM,GAA/B;;AAWA,MAAIH,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,aAAjC,EAAgD;AAC9CyX,cAAU,CAAC/M,IAAX,GAAkBvC,IAAI,CAACxH,MAAvB;AACD,GAFD,MAEO,IAAIX,IAAI,KAAK,QAAb,EAAuB;AAC5ByX,cAAU,CAAC/M,IAAX,GAAkB1M,MAAM,CAACa,IAAP,CAAYsJ,IAAZ,EAAkBxH,MAApC;AACD;;AAED,MAAIX,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,aAApC,EAAmD;AACjDyX,cAAU,CAACH,QAAX,GAAsB,IAAtB;AACD;;AAED,SAAOG,UAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;AAkBO,SAAStI,SAAT,CACLhH,IADK,EAELiH,OAFK,EAGLC,cAHK,EAILvI,IAJK,EAKLiI,aALK,EAOkC;AAAA,MADvC2I,KACuC,uEADtB,CACsB;AACvC,MAAM1X,IAAI,GAAGkI,kEAAW,CAACC,IAAD,CAAxB;AAEA,MAAIwP,kBAAJ;;AAEA,UAAQ3X,IAAR;AACE,SAAK,cAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAACkC,OAJN;AAKLrK,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,UAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EACF,OAAOgI,IAAI,CAAChI,IAAZ,KAAqB,UAArB,IAAmC,CAACgI,IAAI,CAAChI,IAAzC,GACI,UADJ,GAEIgI,IAAI,CAAChI,IAPN;AAQLH,YAAI,EAAJA;AARK,OAAP;;AAWF,SAAK,QAAL;AACE2X,wBAAkB,GAAG5I,aAAa,CAACjI,IAAD,CAAlC;;AACA,UAAI6Q,kBAAJ,EAAwB;AACtB,eAAOxP,IAAP;AACD,OAFD,MAEO;AACL,eAAOA,IAAI,CAACxH,MAAL,IAAe,GAAf,GAAqBwH,IAArB,GAA4BA,IAAI,CAAChG,KAAL,CAAW,CAAX,EAAc,GAAd,IAAqB,KAAxD;AACD;;AAEH,SAAK,QAAL;AACEiN,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAACzJ,QAAL,EAJD;AAKLsB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAACzJ,QAAL,EAJD;AAKLsB,YAAI,EAAJA;AALK,OAAP;AAQF;AACA;;AACA,SAAK,eAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAE2I,oFAA6B,CAACX,IAAD,CAA7B,IAAuC,SAJxC;AAKLnI,YAAI,EAAJA;AALK,OAAP;AAQF;;AACA,SAAK,cAAL;AACA,SAAK,WAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEH,IAAI,KAAK,WAAT,GAAuB,UAAvB,GAAoC,aAJrC;AAKL0K,YAAI,EAAEvC,IAAI,CAACoC,UALN;AAMLvK,YAAI,EAAJA;AANK,OAAP;;AASF,SAAK,OAAL;AACE2X,wBAAkB,GAAG5I,aAAa,CAACjI,IAAD,CAAlC;;AACA,UAAI4Q,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAACxX,IAAD,EAAO,IAAP,EAAamI,IAAb,EAAmBiH,OAAnB,EAA4BtI,IAA5B,CAAvB;AACD;;AACD,aAAOqB,IAAI,CAACyP,GAAL,CAAS,UAACC,IAAD,EAAOnX,CAAP;AAAA,eACdyO,SAAS,CACP0I,IADO,EAEPzI,OAFO,EAGPC,cAHO,EAIPvI,IAAI,CAACgR,MAAL,CAAY,CAACpX,CAAD,CAAZ,CAJO,EAKPqO,aALO,EAMP4I,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CAN1B,CADK;AAAA,OAAT,CAAP;;AAWF,SAAK,qBAAL;AACA,SAAK,aAAL;AACA,SAAK,UAAL;AACEC,wBAAkB,GAAG5I,aAAa,CAACjI,IAAD,CAAlC;;AACA,UAAI4Q,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAACxX,IAAD,EAAO,IAAP,EAAamI,IAAb,EAAmBiH,OAAnB,EAA4BtI,IAA5B,CAAvB;AACD,OAFD,MAEO;AACL,YAAMiR,mBAAmC,GAAG;AAC1C1I,wBAAc,EAAE,IAD0B;AAE1CrP,cAAI,EAAEA,IAFoC;AAG1CsX,kBAAQ,EAAE,IAHgC;AAI1C5M,cAAI,EAAE1K,IAAI,KAAK,aAAT,GAAyBmI,IAAI,CAACxH,MAA9B,GAAuCS,SAJH;AAK1CgJ,uBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CALO;AAM1CgC,sBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CANQ;AAO1ChI,cAAI,EACF,CAACgI,IAAI,CAACQ,WAAN,IAAqBR,IAAI,CAACQ,WAAL,CAAiBxI,IAAjB,KAA0B,QAA/C,GACI,EADJ,GAEIgI,IAAI,CAACQ,WAAL,CAAiBxI;AAVmB,SAA5C,CADK,CAcL;AACA;AACA;AACA;;AACAkH,aAAK,CAACC,IAAN,CAAWa,IAAX,EAAiB/I,OAAjB,CACE,UAACyY,IAAD,EAAOnX,CAAP;AAAA,iBACGqX,mBAAmB,CAACrX,CAAD,CAAnB,GAAyByO,SAAS,CACjC0I,IADiC,EAEjCzI,OAFiC,EAGjCC,cAHiC,EAIjCvI,IAAI,CAACgR,MAAL,CAAY,CAACpX,CAAD,CAAZ,CAJiC,EAKjCqO,aALiC,EAMjC4I,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CANA,CADrC;AAAA,SADF;AAYArI,sBAAc,CAAC7N,IAAf,CAAoBsF,IAApB;AAEA,eAAOiR,mBAAP;AACD;;AAEH,SAAK,iBAAL;AACE3I,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAAChB,MAAM,CAAC0D,WAAR,CAJL;AAKL7K,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,MAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAACzJ,QAAL,EAJD;AAKLsB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACEoP,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AACLsQ,mBAAW,EAAE,KADR;AAELhN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAF9B;AAGLgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CAH7B;AAILhI,YAAI,EAAEgI,IAAI,CAACzJ,QAAL,EAJD;AAKLsB,YAAI,EAAJA;AALK,OAAP;;AAQF,SAAK,QAAL;AACE2X,wBAAkB,GAAG5I,aAAa,CAACjI,IAAD,CAAlC;;AAEA,UAAI4Q,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAACxX,IAAD,EAAO,IAAP,EAAamI,IAAb,EAAmBiH,OAAnB,EAA4BtI,IAA5B,CAAvB;AACD,OAFD,MAEO;AACL,YAAMD,MAEL,GAAG,EAFJ;AAGAlI,mFAAoB,CAACwJ,IAAD,CAApB,CAA2B/I,OAA3B,CAAmC,UAAAC,GAAG,EAAI;AACxC,cAAMc,IAAI,GAAGd,GAAG,CAACX,QAAJ,EAAb;AACAmI,gBAAM,CAAC1G,IAAD,CAAN,GAAegP,SAAS,CACtBhH,IAAI,CAAC9I,GAAD,CADkB,EAEtB+P,OAFsB,EAGtBC,cAHsB,EAItBvI,IAAI,CAACgR,MAAL,CAAY,CAAC3X,IAAD,CAAZ,CAJsB,EAKtB4O,aALsB,EAMtB4I,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CANX,CAAxB;AAQD,SAVD;AAWA,eAAO7Q,MAAP;AACD;;AAEH,SAAK,gBAAL;AACE8Q,wBAAkB,GAAG5I,aAAa,CAACjI,IAAD,CAAlC;;AAEA,UAAI4Q,KAAK,IAAIH,eAAT,IAA4B,CAACI,kBAAjC,EAAqD;AACnD,eAAOH,gBAAgB,CAACxX,IAAD,EAAO,IAAP,EAAamI,IAAb,EAAmBiH,OAAnB,EAA4BtI,IAA5B,CAAvB;AACD;;AAED,UAAMjD,KAAqB,GAAG;AAC5BwL,sBAAc,EAAE,IADY;AAE5BrP,YAAI,EAAJA,IAF4B;AAG5BsX,gBAAQ,EAAE,IAHkB;AAI5BlN,qBAAa,EAAEJ,2EAAoB,CAAC7B,IAAD,EAAO,KAAP,CAJP;AAK5BgC,oBAAY,EAAEH,2EAAoB,CAAC7B,IAAD,EAAO,IAAP,CALN;AAM5BhI,YAAI,EAAEgI,IAAI,CAACQ,WAAL,CAAiBxI;AANK,OAA9B;AASAxB,iFAAoB,CAACwJ,IAAD,CAApB,CAA2B/I,OAA3B,CAAmC,UAAAC,GAAG,EAAI;AACxC,YAAM2Y,WAAW,GAAG3Y,GAAG,CAACX,QAAJ,EAApB;AAEAmF,aAAK,CAACmU,WAAD,CAAL,GAAqB7I,SAAS,CAC5BhH,IAAI,CAAC9I,GAAD,CADwB,EAE5B+P,OAF4B,EAG5BC,cAH4B,EAI5BvI,IAAI,CAACgR,MAAL,CAAY,CAACE,WAAD,CAAZ,CAJ4B,EAK5BjJ,aAL4B,EAM5B4I,kBAAkB,GAAG,CAAH,GAAOD,KAAK,GAAG,CANL,CAA9B;AAQD,OAXD;AAaArI,oBAAc,CAAC7N,IAAf,CAAoBsF,IAApB;AAEA,aAAOjD,KAAP;;AAEF,SAAK,UAAL;AACA,SAAK,KAAL;AACA,SAAK,WAAL;AACE;AACA;AACAuL,aAAO,CAAC5N,IAAR,CAAasF,IAAb;AACA,aAAO;AAAC9G,YAAI,EAAJA;AAAD,OAAP;;AAEF;AACE,aAAOmI,IAAP;AArOJ;AAuOD;AAEM,SAAS8P,UAAT,CACLpR,MADK,EAELsB,IAFK,EAGLrB,IAHK,EAILjD,KAJK,EAKL;AACA,MAAMqU,MAAM,GAAGtR,kEAAW,CAACC,MAAD,EAASC,IAAT,CAA1B;;AACA,MAAIoR,MAAM,IAAI,IAAd,EAAoB;AAClB,QAAI,CAACA,MAAM,CAAChO,IAAI,CAACmF,cAAN,CAAX,EAAkC;AAChC,aAAO6I,MAAM,CAAChO,IAAI,CAACkN,WAAN,CAAb;AACA,aAAOc,MAAM,CAAChO,IAAI,CAACmN,SAAN,CAAb;AACA,aAAOa,MAAM,CAAChO,IAAI,CAAC/J,IAAN,CAAb;AACA,aAAO+X,MAAM,CAAChO,IAAI,CAACC,YAAN,CAAb;AACA,aAAO+N,MAAM,CAAChO,IAAI,CAACE,aAAN,CAAb;AACA,aAAO8N,MAAM,CAAChO,IAAI,CAACoN,QAAN,CAAb;AACA,aAAOY,MAAM,CAAChO,IAAI,CAACQ,IAAN,CAAb;AACA,aAAOwN,MAAM,CAAChO,IAAI,CAAClK,IAAN,CAAb;AACD;AACF;;AAED,MAAI6D,KAAK,KAAK,IAAV,IAAkBsE,IAAI,CAACkH,cAAL,CAAoB1O,MAApB,GAA6B,CAAnD,EAAsD;AACpD,QAAMwX,kBAAkB,GAAGhQ,IAAI,CAACkH,cAAL,CAAoB,CAApB,CAA3B;AACA,QAAI+I,OAAO,GAAGD,kBAAkB,CAACxX,MAAnB,KAA8BmG,IAAI,CAACnG,MAAjD;;AACA,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoG,IAAI,CAACnG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,UAAIoG,IAAI,CAACpG,CAAD,CAAJ,KAAYyX,kBAAkB,CAACzX,CAAD,CAAlC,EAAuC;AACrC0X,eAAO,GAAG,KAAV;AACA;AACD;AACF;;AACD,QAAIA,OAAJ,EAAa;AACXC,2BAAqB,CAACxU,KAAD,EAAQA,KAAR,CAArB;AACD;AACF;;AAEDoE,oEAAW,CAACpB,MAAD,EAASC,IAAT,EAAejD,KAAf,CAAX;AACD;AAEM,SAASyU,OAAT,CACLzR,MADK,EAELuI,OAFK,EAGLC,cAHK,EAIG;AACRD,SAAO,CAAChQ,OAAR,CAAgB,UAAC0H,IAAD,EAAkC;AAChD,QAAMnG,MAAM,GAAGmG,IAAI,CAACnG,MAApB;AACA,QAAM6G,IAAI,GAAGV,IAAI,CAACnG,MAAM,GAAG,CAAV,CAAjB;AACA,QAAM8G,MAAM,GAAGb,kEAAW,CAACC,MAAD,EAASC,IAAI,CAAC3E,KAAL,CAAW,CAAX,EAAcxB,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI,CAAC8G,MAAD,IAAW,CAACA,MAAM,CAAC1J,cAAP,CAAsByJ,IAAtB,CAAhB,EAA6C;AAC3C;AACD;;AAED,QAAM3D,KAAK,GAAG4D,MAAM,CAACD,IAAD,CAApB;;AAEA,QAAI,CAAC3D,KAAL,EAAY;AACV;AACD,KAFD,MAEO,IAAIA,KAAK,CAAC7D,IAAN,KAAe,UAAnB,EAA+B;AACpCyH,YAAM,CAACD,IAAD,CAAN,GAAe+Q,QAAf;AACD,KAFM,MAEA,IAAI1U,KAAK,CAAC7D,IAAN,KAAe,KAAnB,EAA0B;AAC/ByH,YAAM,CAACD,IAAD,CAAN,GAAegR,GAAf;AACD,KAFM,MAEA,IAAI3U,KAAK,CAAC7D,IAAN,KAAe,WAAnB,EAAgC;AACrCyH,YAAM,CAACD,IAAD,CAAN,GAAepG,SAAf;AACD,KAFM,MAEA;AACL;AACA,UAAMqX,QAAgD,GAAG,EAAzD;AACAA,cAAQ,CAACvO,IAAI,CAACkN,WAAN,CAAR,GAA6B,CAAC,CAACvT,KAAK,CAACuT,WAArC;AACAqB,cAAQ,CAACvO,IAAI,CAACmN,SAAN,CAAR,GAA2B,KAA3B;AACAoB,cAAQ,CAACvO,IAAI,CAAC/J,IAAN,CAAR,GAAsB0D,KAAK,CAAC1D,IAA5B;AACAsY,cAAQ,CAACvO,IAAI,CAACC,YAAN,CAAR,GAA8BtG,KAAK,CAACsG,YAApC;AACAsO,cAAQ,CAACvO,IAAI,CAACE,aAAN,CAAR,GAA+BvG,KAAK,CAACuG,aAArC;AACAqO,cAAQ,CAACvO,IAAI,CAACQ,IAAN,CAAR,GAAsB7G,KAAK,CAAC6G,IAA5B;AACA+N,cAAQ,CAACvO,IAAI,CAACoN,QAAN,CAAR,GAA0B,CAAC,CAACzT,KAAK,CAACyT,QAAlC;AACAmB,cAAQ,CAACvO,IAAI,CAAClK,IAAN,CAAR,GAAsB6D,KAAK,CAAC7D,IAA5B;AAEAyH,YAAM,CAACD,IAAD,CAAN,GAAeiR,QAAf;AACD;AACF,GAhCD;AAiCApJ,gBAAc,CAACjQ,OAAf,CAAuB,UAAC0H,IAAD,EAAkC;AACvD,QAAMnG,MAAM,GAAGmG,IAAI,CAACnG,MAApB;AACA,QAAM6G,IAAI,GAAGV,IAAI,CAACnG,MAAM,GAAG,CAAV,CAAjB;AACA,QAAM8G,MAAM,GAAGb,kEAAW,CAACC,MAAD,EAASC,IAAI,CAAC3E,KAAL,CAAW,CAAX,EAAcxB,MAAM,GAAG,CAAvB,CAAT,CAA1B;;AACA,QAAI,CAAC8G,MAAD,IAAW,CAACA,MAAM,CAAC1J,cAAP,CAAsByJ,IAAtB,CAAhB,EAA6C;AAC3C;AACD;;AAED,QAAMkR,IAAI,GAAGjR,MAAM,CAACD,IAAD,CAAnB;;AAEA,QAAMmR,WAAW,qBACZD,IADY,CAAjB;;AAIAL,yBAAqB,CAACM,WAAD,EAAcD,IAAd,CAArB;AAEAjR,UAAM,CAACD,IAAD,CAAN,GAAemR,WAAf;AACD,GAjBD;AAkBA,SAAO9R,MAAP;AACD;;AAED,SAASwR,qBAAT,CAA+BO,WAA/B,EAAoDC,MAApD,EAAoE;AAAA;;AAClE7a,QAAM,CAAC8a,gBAAP,CAAwBF,WAAxB,sEAEG1O,IAAI,CAACmN,SAFR,EAEoB;AAChB0B,gBAAY,EAAE,IADE;AAEhBzZ,cAAU,EAAE,KAFI;AAGhBuE,SAAK,EAAE,CAAC,CAACgV,MAAM,CAACxB;AAHA,GAFpB,0CAQGnN,IAAI,CAAC/J,IARR,EAQe;AACX4Y,gBAAY,EAAE,IADH;AAEXzZ,cAAU,EAAE,KAFD;AAGXuE,SAAK,EAAEgV,MAAM,CAAC1Y;AAHH,GARf,0CAcG+J,IAAI,CAACC,YAdR,EAcuB;AACnB4O,gBAAY,EAAE,IADK;AAEnBzZ,cAAU,EAAE,KAFO;AAGnBuE,SAAK,EAAEgV,MAAM,CAAC1O;AAHK,GAdvB,0CAoBGD,IAAI,CAACE,aApBR,EAoBwB;AACpB2O,gBAAY,EAAE,IADM;AAEpBzZ,cAAU,EAAE,KAFQ;AAGpBuE,SAAK,EAAEgV,MAAM,CAACzO;AAHM,GApBxB,0CA0BGF,IAAI,CAACQ,IA1BR,EA0Be;AACXqO,gBAAY,EAAE,IADH;AAEXzZ,cAAU,EAAE,KAFD;AAGXuE,SAAK,EAAEgV,MAAM,CAACnO;AAHH,GA1Bf,0CAgCGR,IAAI,CAACoN,QAhCR,EAgCmB;AACfyB,gBAAY,EAAE,IADC;AAEfzZ,cAAU,EAAE,KAFG;AAGfuE,SAAK,EAAE,CAAC,CAACgV,MAAM,CAACvB;AAHD,GAhCnB,0CAsCGpN,IAAI,CAAClK,IAtCR,EAsCe;AACX+Y,gBAAY,EAAE,IADH;AAEXzZ,cAAU,EAAE,KAFD;AAGXuE,SAAK,EAAEgV,MAAM,CAAC7Y;AAHH,GAtCf,0CA4CGkK,IAAI,CAACmF,cA5CR,EA4CyB;AACrB0J,gBAAY,EAAE,IADO;AAErBzZ,cAAU,EAAE,KAFS;AAGrBuE,SAAK,EAAE,CAAC,CAACgV,MAAM,CAACxJ;AAHK,GA5CzB;AAmDA,SAAOuJ,WAAW,CAACvB,SAAnB;AACA,SAAOuB,WAAW,CAACzY,IAAnB;AACA,SAAOyY,WAAW,CAACzO,YAAnB;AACA,SAAOyO,WAAW,CAACxO,aAAnB;AACA,SAAOwO,WAAW,CAAClO,IAAnB;AACA,SAAOkO,WAAW,CAACtB,QAAnB;AACA,SAAOsB,WAAW,CAAC5Y,IAAnB;AACA,SAAO4Y,WAAW,CAACvJ,cAAnB;AACD,C;;;;;;;ACxgBD;AAAA;AAAA;AAAA;AAAA;;;;;;;;;AASA;;;;;AAMO,IAAM6G,wCAAwC,GAAG,KAAjD;AACA,IAAM8C,YAAY,GAAG,KAArB;AACA,IAAMC,oBAAoB,GAAG,KAA7B;AACA,IAAMC,uBAAuB,GAAG,KAAhC;AAEP;;;;;AAQA;AACI,IAAJ,C;;;;;;AC7BA;AACA,IAAIzT,OAAO,GAAGkN,MAAM,CAACC,OAAP,GAAiB,EAA/B,C,CAEA;AACA;AACA;AACA;;AAEA,IAAIuG,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBAAT,GAA4B;AACxB,QAAM,IAAI7V,KAAJ,CAAU,iCAAV,CAAN;AACH;;AACD,SAAS8V,mBAAT,GAAgC;AAC5B,QAAM,IAAI9V,KAAJ,CAAU,mCAAV,CAAN;AACH;;AACA,aAAY;AACT,MAAI;AACA,QAAI,OAAOqS,UAAP,KAAsB,UAA1B,EAAsC;AAClCsD,sBAAgB,GAAGtD,UAAnB;AACH,KAFD,MAEO;AACHsD,sBAAgB,GAAGE,gBAAnB;AACH;AACJ,GAND,CAME,OAAOE,CAAP,EAAU;AACRJ,oBAAgB,GAAGE,gBAAnB;AACH;;AACD,MAAI;AACA,QAAI,OAAOG,YAAP,KAAwB,UAA5B,EAAwC;AACpCJ,wBAAkB,GAAGI,YAArB;AACH,KAFD,MAEO;AACHJ,wBAAkB,GAAGE,mBAArB;AACH;AACJ,GAND,CAME,OAAOC,CAAP,EAAU;AACRH,sBAAkB,GAAGE,mBAArB;AACH;AACJ,CAnBA,GAAD;;AAoBA,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACrB,MAAIP,gBAAgB,KAAKtD,UAAzB,EAAqC;AACjC;AACA,WAAOA,UAAU,CAAC6D,GAAD,EAAM,CAAN,CAAjB;AACH,GAJoB,CAKrB;;;AACA,MAAI,CAACP,gBAAgB,KAAKE,gBAArB,IAAyC,CAACF,gBAA3C,KAAgEtD,UAApE,EAAgF;AAC5EsD,oBAAgB,GAAGtD,UAAnB;AACA,WAAOA,UAAU,CAAC6D,GAAD,EAAM,CAAN,CAAjB;AACH;;AACD,MAAI;AACA;AACA,WAAOP,gBAAgB,CAACO,GAAD,EAAM,CAAN,CAAvB;AACH,GAHD,CAGE,OAAMH,CAAN,EAAQ;AACN,QAAI;AACA;AACA,aAAOJ,gBAAgB,CAACjS,IAAjB,CAAsB,IAAtB,EAA4BwS,GAA5B,EAAiC,CAAjC,CAAP;AACH,KAHD,CAGE,OAAMH,CAAN,EAAQ;AACN;AACA,aAAOJ,gBAAgB,CAACjS,IAAjB,CAAsB,IAAtB,EAA4BwS,GAA5B,EAAiC,CAAjC,CAAP;AACH;AACJ;AAGJ;;AACD,SAASC,eAAT,CAAyBC,MAAzB,EAAiC;AAC7B,MAAIR,kBAAkB,KAAKI,YAA3B,EAAyC;AACrC;AACA,WAAOA,YAAY,CAACI,MAAD,CAAnB;AACH,GAJ4B,CAK7B;;;AACA,MAAI,CAACR,kBAAkB,KAAKE,mBAAvB,IAA8C,CAACF,kBAAhD,KAAuEI,YAA3E,EAAyF;AACrFJ,sBAAkB,GAAGI,YAArB;AACA,WAAOA,YAAY,CAACI,MAAD,CAAnB;AACH;;AACD,MAAI;AACA;AACA,WAAOR,kBAAkB,CAACQ,MAAD,CAAzB;AACH,GAHD,CAGE,OAAOL,CAAP,EAAS;AACP,QAAI;AACA;AACA,aAAOH,kBAAkB,CAAClS,IAAnB,CAAwB,IAAxB,EAA8B0S,MAA9B,CAAP;AACH,KAHD,CAGE,OAAOL,CAAP,EAAS;AACP;AACA;AACA,aAAOH,kBAAkB,CAAClS,IAAnB,CAAwB,IAAxB,EAA8B0S,MAA9B,CAAP;AACH;AACJ;AAIJ;;AACD,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,QAAQ,GAAG,KAAf;AACA,IAAIC,YAAJ;AACA,IAAIC,UAAU,GAAG,CAAC,CAAlB;;AAEA,SAASC,eAAT,GAA2B;AACvB,MAAI,CAACH,QAAD,IAAa,CAACC,YAAlB,EAAgC;AAC5B;AACH;;AACDD,UAAQ,GAAG,KAAX;;AACA,MAAIC,YAAY,CAACpZ,MAAjB,EAAyB;AACrBkZ,SAAK,GAAGE,YAAY,CAACjC,MAAb,CAAoB+B,KAApB,CAAR;AACH,GAFD,MAEO;AACHG,cAAU,GAAG,CAAC,CAAd;AACH;;AACD,MAAIH,KAAK,CAAClZ,MAAV,EAAkB;AACduZ,cAAU;AACb;AACJ;;AAED,SAASA,UAAT,GAAsB;AAClB,MAAIJ,QAAJ,EAAc;AACV;AACH;;AACD,MAAIK,OAAO,GAAGV,UAAU,CAACQ,eAAD,CAAxB;AACAH,UAAQ,GAAG,IAAX;AAEA,MAAIM,GAAG,GAAGP,KAAK,CAAClZ,MAAhB;;AACA,SAAMyZ,GAAN,EAAW;AACPL,gBAAY,GAAGF,KAAf;AACAA,SAAK,GAAG,EAAR;;AACA,WAAO,EAAEG,UAAF,GAAeI,GAAtB,EAA2B;AACvB,UAAIL,YAAJ,EAAkB;AACdA,oBAAY,CAACC,UAAD,CAAZ,CAAyBK,GAAzB;AACH;AACJ;;AACDL,cAAU,GAAG,CAAC,CAAd;AACAI,OAAG,GAAGP,KAAK,CAAClZ,MAAZ;AACH;;AACDoZ,cAAY,GAAG,IAAf;AACAD,UAAQ,GAAG,KAAX;AACAH,iBAAe,CAACQ,OAAD,CAAf;AACH;;AAED1U,OAAO,CAAC6U,QAAR,GAAmB,UAAUZ,GAAV,EAAe;AAC9B,MAAIzI,IAAI,GAAG,IAAI5J,KAAJ,CAAUkT,SAAS,CAAC5Z,MAAV,GAAmB,CAA7B,CAAX;;AACA,MAAI4Z,SAAS,CAAC5Z,MAAV,GAAmB,CAAvB,EAA0B;AACtB,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Z,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCuQ,UAAI,CAACvQ,CAAC,GAAG,CAAL,CAAJ,GAAc6Z,SAAS,CAAC7Z,CAAD,CAAvB;AACH;AACJ;;AACDmZ,OAAK,CAACrY,IAAN,CAAW,IAAIgZ,IAAJ,CAASd,GAAT,EAAczI,IAAd,CAAX;;AACA,MAAI4I,KAAK,CAAClZ,MAAN,KAAiB,CAAjB,IAAsB,CAACmZ,QAA3B,EAAqC;AACjCL,cAAU,CAACS,UAAD,CAAV;AACH;AACJ,CAXD,C,CAaA;;;AACA,SAASM,IAAT,CAAcd,GAAd,EAAmBlZ,KAAnB,EAA0B;AACtB,OAAKkZ,GAAL,GAAWA,GAAX;AACA,OAAKlZ,KAAL,GAAaA,KAAb;AACH;;AACDga,IAAI,CAACvc,SAAL,CAAeoc,GAAf,GAAqB,YAAY;AAC7B,OAAKX,GAAL,CAASe,KAAT,CAAe,IAAf,EAAqB,KAAKja,KAA1B;AACH,CAFD;;AAGAiF,OAAO,CAACiV,KAAR,GAAgB,SAAhB;AACAjV,OAAO,CAACkV,OAAR,GAAkB,IAAlB;AACAlV,OAAO,CAACC,GAAR,GAAc,EAAd;AACAD,OAAO,CAACmV,IAAR,GAAe,EAAf;AACAnV,OAAO,CAACmJ,OAAR,GAAkB,EAAlB,C,CAAsB;;AACtBnJ,OAAO,CAACoV,QAAR,GAAmB,EAAnB;;AAEA,SAASC,IAAT,GAAgB,CAAE;;AAElBrV,OAAO,CAACsV,EAAR,GAAaD,IAAb;AACArV,OAAO,CAACuV,WAAR,GAAsBF,IAAtB;AACArV,OAAO,CAACwV,IAAR,GAAeH,IAAf;AACArV,OAAO,CAACyV,GAAR,GAAcJ,IAAd;AACArV,OAAO,CAAC0V,cAAR,GAAyBL,IAAzB;AACArV,OAAO,CAAC2V,kBAAR,GAA6BN,IAA7B;AACArV,OAAO,CAAC4V,IAAR,GAAeP,IAAf;AACArV,OAAO,CAAC6V,eAAR,GAA0BR,IAA1B;AACArV,OAAO,CAAC8V,mBAAR,GAA8BT,IAA9B;;AAEArV,OAAO,CAAC+V,SAAR,GAAoB,UAAUrb,IAAV,EAAgB;AAAE,SAAO,EAAP;AAAW,CAAjD;;AAEAsF,OAAO,CAACgW,OAAR,GAAkB,UAAUtb,IAAV,EAAgB;AAC9B,QAAM,IAAIqD,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIAiC,OAAO,CAACiW,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACAjW,OAAO,CAACkW,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAIpY,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGAiC,OAAO,CAACoW,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC,C;;;;;;;;ACvLA;;;;;;;;;AASA;AACA,IAAIC,eAAe,GAAG,qBAAtB;AAEA;;AACA,IAAIC,GAAG,GAAG,IAAI,CAAd;AAEA;;AACA,IAAIC,SAAS,GAAG,iBAAhB;AAEA;;AACA,IAAIC,MAAM,GAAG,YAAb;AAEA;;AACA,IAAIC,UAAU,GAAG,oBAAjB;AAEA;;AACA,IAAIC,UAAU,GAAG,YAAjB;AAEA;;AACA,IAAIC,SAAS,GAAG,aAAhB;AAEA;;AACA,IAAIC,YAAY,GAAG7K,QAAnB;AAEA;;AACA,IAAI8K,UAAU,GAAG,QAAOrI,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAAuCA,MAAM,CAACjW,MAAP,KAAkBA,MAAzD,IAAmEiW,MAApF;AAEA;;AACA,IAAIsI,QAAQ,GAAG,QAAOC,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2BA,IAA3B,IAAmCA,IAAI,CAACxe,MAAL,KAAgBA,MAAnD,IAA6Dwe,IAA5E;AAEA;;AACA,IAAI1M,IAAI,GAAGwM,UAAU,IAAIC,QAAd,IAA0BE,QAAQ,CAAC,aAAD,CAAR,EAArC;AAEA;;AACA,IAAIC,WAAW,GAAG1e,MAAM,CAACC,SAAzB;AAEA;;;;;;AAKA,IAAI0e,cAAc,GAAGD,WAAW,CAAChe,QAAjC;AAEA;;AACA,IAAIke,SAAS,GAAGC,IAAI,CAACve,GAArB;AAAA,IACIwe,SAAS,GAAGD,IAAI,CAACE,GADrB;AAGA;;;;;;;;;;;;;;;;;AAgBA,IAAIC,GAAG,GAAG,SAANA,GAAM,GAAW;AACnB,SAAOlN,IAAI,CAACmN,IAAL,CAAUD,GAAV,EAAP;AACD,CAFD;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,SAASE,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,OAA9B,EAAuC;AACrC,MAAIC,QAAJ;AAAA,MACIC,QADJ;AAAA,MAEIC,OAFJ;AAAA,MAGIC,MAHJ;AAAA,MAIIC,OAJJ;AAAA,MAKIC,YALJ;AAAA,MAMIC,cAAc,GAAG,CANrB;AAAA,MAOIC,OAAO,GAAG,KAPd;AAAA,MAQIC,MAAM,GAAG,KARb;AAAA,MASIC,QAAQ,GAAG,IATf;;AAWA,MAAI,OAAOZ,IAAP,IAAe,UAAnB,EAA+B;AAC7B,UAAM,IAAIa,SAAJ,CAAclC,eAAd,CAAN;AACD;;AACDsB,MAAI,GAAGa,QAAQ,CAACb,IAAD,CAAR,IAAkB,CAAzB;;AACA,MAAIc,QAAQ,CAACb,OAAD,CAAZ,EAAuB;AACrBQ,WAAO,GAAG,CAAC,CAACR,OAAO,CAACQ,OAApB;AACAC,UAAM,GAAG,aAAaT,OAAtB;AACAG,WAAO,GAAGM,MAAM,GAAGlB,SAAS,CAACqB,QAAQ,CAACZ,OAAO,CAACG,OAAT,CAAR,IAA6B,CAA9B,EAAiCJ,IAAjC,CAAZ,GAAqDI,OAArE;AACAO,YAAQ,GAAG,cAAcV,OAAd,GAAwB,CAAC,CAACA,OAAO,CAACU,QAAlC,GAA6CA,QAAxD;AACD;;AAED,WAASI,UAAT,CAAoBC,IAApB,EAA0B;AACxB,QAAInN,IAAI,GAAGqM,QAAX;AAAA,QACIe,OAAO,GAAGd,QADd;AAGAD,YAAQ,GAAGC,QAAQ,GAAGnc,SAAtB;AACAwc,kBAAc,GAAGQ,IAAjB;AACAX,UAAM,GAAGN,IAAI,CAAC1C,KAAL,CAAW4D,OAAX,EAAoBpN,IAApB,CAAT;AACA,WAAOwM,MAAP;AACD;;AAED,WAASa,WAAT,CAAqBF,IAArB,EAA2B;AACzB;AACAR,kBAAc,GAAGQ,IAAjB,CAFyB,CAGzB;;AACAV,WAAO,GAAG7H,UAAU,CAAC0I,YAAD,EAAenB,IAAf,CAApB,CAJyB,CAKzB;;AACA,WAAOS,OAAO,GAAGM,UAAU,CAACC,IAAD,CAAb,GAAsBX,MAApC;AACD;;AAED,WAASe,aAAT,CAAuBJ,IAAvB,EAA6B;AAC3B,QAAIK,iBAAiB,GAAGL,IAAI,GAAGT,YAA/B;AAAA,QACIe,mBAAmB,GAAGN,IAAI,GAAGR,cADjC;AAAA,QAEIH,MAAM,GAAGL,IAAI,GAAGqB,iBAFpB;AAIA,WAAOX,MAAM,GAAGhB,SAAS,CAACW,MAAD,EAASD,OAAO,GAAGkB,mBAAnB,CAAZ,GAAsDjB,MAAnE;AACD;;AAED,WAASkB,YAAT,CAAsBP,IAAtB,EAA4B;AAC1B,QAAIK,iBAAiB,GAAGL,IAAI,GAAGT,YAA/B;AAAA,QACIe,mBAAmB,GAAGN,IAAI,GAAGR,cADjC,CAD0B,CAI1B;AACA;AACA;;AACA,WAAQD,YAAY,KAAKvc,SAAjB,IAA+Bqd,iBAAiB,IAAIrB,IAApD,IACLqB,iBAAiB,GAAG,CADf,IACsBX,MAAM,IAAIY,mBAAmB,IAAIlB,OAD/D;AAED;;AAED,WAASe,YAAT,GAAwB;AACtB,QAAIH,IAAI,GAAGpB,GAAG,EAAd;;AACA,QAAI2B,YAAY,CAACP,IAAD,CAAhB,EAAwB;AACtB,aAAOQ,YAAY,CAACR,IAAD,CAAnB;AACD,KAJqB,CAKtB;;;AACAV,WAAO,GAAG7H,UAAU,CAAC0I,YAAD,EAAeC,aAAa,CAACJ,IAAD,CAA5B,CAApB;AACD;;AAED,WAASQ,YAAT,CAAsBR,IAAtB,EAA4B;AAC1BV,WAAO,GAAGtc,SAAV,CAD0B,CAG1B;AACA;;AACA,QAAI2c,QAAQ,IAAIT,QAAhB,EAA0B;AACxB,aAAOa,UAAU,CAACC,IAAD,CAAjB;AACD;;AACDd,YAAQ,GAAGC,QAAQ,GAAGnc,SAAtB;AACA,WAAOqc,MAAP;AACD;;AAED,WAASoB,MAAT,GAAkB;AAChB,QAAInB,OAAO,KAAKtc,SAAhB,EAA2B;AACzBoY,kBAAY,CAACkE,OAAD,CAAZ;AACD;;AACDE,kBAAc,GAAG,CAAjB;AACAN,YAAQ,GAAGK,YAAY,GAAGJ,QAAQ,GAAGG,OAAO,GAAGtc,SAA/C;AACD;;AAED,WAAS0d,KAAT,GAAiB;AACf,WAAOpB,OAAO,KAAKtc,SAAZ,GAAwBqc,MAAxB,GAAiCmB,YAAY,CAAC5B,GAAG,EAAJ,CAApD;AACD;;AAED,WAAS+B,SAAT,GAAqB;AACnB,QAAIX,IAAI,GAAGpB,GAAG,EAAd;AAAA,QACIgC,UAAU,GAAGL,YAAY,CAACP,IAAD,CAD7B;AAGAd,YAAQ,GAAG/C,SAAX;AACAgD,YAAQ,GAAG,IAAX;AACAI,gBAAY,GAAGS,IAAf;;AAEA,QAAIY,UAAJ,EAAgB;AACd,UAAItB,OAAO,KAAKtc,SAAhB,EAA2B;AACzB,eAAOkd,WAAW,CAACX,YAAD,CAAlB;AACD;;AACD,UAAIG,MAAJ,EAAY;AACV;AACAJ,eAAO,GAAG7H,UAAU,CAAC0I,YAAD,EAAenB,IAAf,CAApB;AACA,eAAOe,UAAU,CAACR,YAAD,CAAjB;AACD;AACF;;AACD,QAAID,OAAO,KAAKtc,SAAhB,EAA2B;AACzBsc,aAAO,GAAG7H,UAAU,CAAC0I,YAAD,EAAenB,IAAf,CAApB;AACD;;AACD,WAAOK,MAAP;AACD;;AACDsB,WAAS,CAACF,MAAV,GAAmBA,MAAnB;AACAE,WAAS,CAACD,KAAV,GAAkBA,KAAlB;AACA,SAAOC,SAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,SAASE,QAAT,CAAkB9B,IAAlB,EAAwBC,IAAxB,EAA8BC,OAA9B,EAAuC;AACrC,MAAIQ,OAAO,GAAG,IAAd;AAAA,MACIE,QAAQ,GAAG,IADf;;AAGA,MAAI,OAAOZ,IAAP,IAAe,UAAnB,EAA+B;AAC7B,UAAM,IAAIa,SAAJ,CAAclC,eAAd,CAAN;AACD;;AACD,MAAIoC,QAAQ,CAACb,OAAD,CAAZ,EAAuB;AACrBQ,WAAO,GAAG,aAAaR,OAAb,GAAuB,CAAC,CAACA,OAAO,CAACQ,OAAjC,GAA2CA,OAArD;AACAE,YAAQ,GAAG,cAAcV,OAAd,GAAwB,CAAC,CAACA,OAAO,CAACU,QAAlC,GAA6CA,QAAxD;AACD;;AACD,SAAOb,QAAQ,CAACC,IAAD,EAAOC,IAAP,EAAa;AAC1B,eAAWS,OADe;AAE1B,eAAWT,IAFe;AAG1B,gBAAYW;AAHc,GAAb,CAAf;AAKD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASG,QAAT,CAAkBra,KAAlB,EAAyB;AACvB,MAAI7D,IAAI,WAAU6D,KAAV,CAAR;;AACA,SAAO,CAAC,CAACA,KAAF,KAAY7D,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,UAAxC,CAAP;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAASkf,YAAT,CAAsBrb,KAAtB,EAA6B;AAC3B,SAAO,CAAC,CAACA,KAAF,IAAW,QAAOA,KAAP,KAAgB,QAAlC;AACD;AAED;;;;;;;;;;;;;;;;;;;AAiBA,SAASsb,QAAT,CAAkBtb,KAAlB,EAAyB;AACvB,SAAO,QAAOA,KAAP,KAAgB,QAAhB,IACJqb,YAAY,CAACrb,KAAD,CAAZ,IAAuB8Y,cAAc,CAACzV,IAAf,CAAoBrD,KAApB,KAA8BmY,SADxD;AAED;AAED;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAASiC,QAAT,CAAkBpa,KAAlB,EAAyB;AACvB,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAP;AACD;;AACD,MAAIsb,QAAQ,CAACtb,KAAD,CAAZ,EAAqB;AACnB,WAAOkY,GAAP;AACD;;AACD,MAAImC,QAAQ,CAACra,KAAD,CAAZ,EAAqB;AACnB,QAAIub,KAAK,GAAG,OAAOvb,KAAK,CAACwb,OAAb,IAAwB,UAAxB,GAAqCxb,KAAK,CAACwb,OAAN,EAArC,GAAuDxb,KAAnE;AACAA,SAAK,GAAGqa,QAAQ,CAACkB,KAAD,CAAR,GAAmBA,KAAK,GAAG,EAA3B,GAAiCA,KAAzC;AACD;;AACD,MAAI,OAAOvb,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAK,KAAK,CAAV,GAAcA,KAAd,GAAsB,CAACA,KAA9B;AACD;;AACDA,OAAK,GAAGA,KAAK,CAACqN,OAAN,CAAc+K,MAAd,EAAsB,EAAtB,CAAR;AACA,MAAIqD,QAAQ,GAAGnD,UAAU,CAAC/I,IAAX,CAAgBvP,KAAhB,CAAf;AACA,SAAQyb,QAAQ,IAAIlD,SAAS,CAAChJ,IAAV,CAAevP,KAAf,CAAb,GACHwY,YAAY,CAACxY,KAAK,CAAC1B,KAAN,CAAY,CAAZ,CAAD,EAAiBmd,QAAQ,GAAG,CAAH,GAAO,CAAhC,CADT,GAEFpD,UAAU,CAAC9I,IAAX,CAAgBvP,KAAhB,IAAyBkY,GAAzB,GAA+B,CAAClY,KAFrC;AAGD;;AAED8O,MAAM,CAACC,OAAP,GAAiBqM,QAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtbA;;;;;;;;;AASA;;;;AAIA,SAASM,EAAT,CAAYC,CAAZ,EAAoBC,CAApB,EAA4B;AAC1B,SACGD,CAAC,KAAKC,CAAN,KAAYD,CAAC,KAAK,CAAN,IAAW,IAAIA,CAAJ,KAAU,IAAIC,CAArC,CAAD,IAA8CD,CAAC,KAAKA,CAAN,IAAWC,CAAC,KAAKA,CADjE,CACoE;AADpE;AAGD;;AAED,IAAMC,QAAqC,GACzC;AACA,OAAO1hB,MAAM,CAACuhB,EAAd,KAAqB,UAArB,GAAkCvhB,MAAM,CAACuhB,EAAzC,GAA8CA,EAFhD;AAIeG,4DAAf,E;;ACvBA;;;;;;;;AASA;AACA,IAAM3hB,6BAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAxC;AAEeA,uFAAf,E;;;;;ACZA;;;;;;;;AAUA;AAEA,IAAM4hB,yBAA8C,GAAG,IAAI/L,GAAJ,EAAvD;AAEO,SAASgM,aAAT,CAAuBzX,IAAvB,EAAgD;AACrD,MAAM0X,OAAO,GAAG,IAAI/gB,GAAJ,EAAhB;AACA,MAAMghB,cAAc,GAAG,EAAvB;AAEAC,WAAS,CAAC5X,IAAD,EAAO0X,OAAP,EAAgBC,cAAhB,CAAT;AAEA,SAAO;AACLD,WAAO,EAAExY,KAAK,CAACC,IAAN,CAAWuY,OAAX,EAAoB/U,IAApB,EADJ;AAELgV,kBAAc,EAAdA;AAFK,GAAP;AAID;AAEM,SAASC,SAAT,CACL5X,IADK,EAEL0X,OAFK,EAGLC,cAHK,EAIC;AACN,MAAI3X,IAAI,IAAI,IAAZ,EAAkB;AAChB;AACD;;AAED,MAAIT,kCAAO,CAACS,IAAD,CAAX,EAAmB;AACjBA,QAAI,CAAC/I,OAAL,CAAa,UAAA4gB,KAAK,EAAI;AACpB,UAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB;AACD;;AAED,UAAItY,kCAAO,CAACsY,KAAD,CAAX,EAAoB;AAClBD,iBAAS,CAACC,KAAD,EAAQH,OAAR,EAAiBC,cAAjB,CAAT;AACD,OAFD,MAEO;AACLG,6BAAqB,CAACD,KAAD,EAAQH,OAAR,EAAiBC,cAAjB,CAArB;AACD;AACF,KAVD;AAWD,GAZD,MAYO;AACLG,yBAAqB,CAAC9X,IAAD,EAAO0X,OAAP,EAAgBC,cAAhB,CAArB;AACD;;AAEDA,gBAAc,GAAG9hB,MAAM,CAACkiB,WAAP,CACfliB,MAAM,CAACmiB,OAAP,CAAeL,cAAf,EAA+BhV,IAA/B,EADe,CAAjB;AAGD;;AAED,SAASmV,qBAAT,CACED,KADF,EAEEH,OAFF,EAGEC,cAHF,EAIQ;AACN,MAAMjhB,IAAI,GAAGb,MAAM,CAACa,IAAP,CAAYmhB,KAAZ,CAAb;AACAnhB,MAAI,CAACO,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,QAAMwE,KAAK,GAAGmc,KAAK,CAAC3gB,GAAD,CAAnB;;AACA,QAAI,OAAOwE,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAIxE,GAAG,KAAKwE,KAAZ,EAAmB;AACjB;AACAgc,eAAO,CAACtgB,GAAR,CAAYF,GAAZ;AACD,OAHD,MAGO;AACL,YAAM+gB,aAAa,GAAGC,4BAA4B,CAACxc,KAAD,CAAlD;;AACA,YAAIuc,aAAa,IAAI,IAArB,EAA2B;AACzBN,wBAAc,CAACzgB,GAAD,CAAd,GAAsB+gB,aAAtB;AACD;AACF;AACF,KAVD,MAUO;AACL,UAAME,WAAW,GAAG,EAApB;AACAR,oBAAc,CAACzgB,GAAD,CAAd,GAAsBihB,WAAtB;AACAP,eAAS,CAAC,CAAClc,KAAD,CAAD,EAAUgc,OAAV,EAAmBS,WAAnB,CAAT;AACD;AACF,GAjBD;AAkBD;;AAED,SAASD,4BAAT,CAAsCE,SAAtC,EAAwE;AACtE,MAAIZ,yBAAyB,CAACtP,GAA1B,CAA8BkQ,SAA9B,CAAJ,EAA8C;AAC5C,WAASZ,yBAAyB,CAACzf,GAA1B,CAA8BqgB,SAA9B,CAAT;AACD;;AAED,OACE,IAAIC,eAAe,GAAG,CADxB,EAEEA,eAAe,GAAG3O,QAAQ,CAAC4O,WAAT,CAAqB9f,MAFzC,EAGE6f,eAAe,EAHjB,EAIE;AACA,QAAME,UAAU,GAAK7O,QAAQ,CAAC4O,WAAT,CACnBD,eADmB,CAArB;AAGA,QAAIG,KAAyB,GAAG,IAAhC,CAJA,CAKA;;AACA,QAAI;AACFA,WAAK,GAAGD,UAAU,CAACE,QAAnB;AACD,KAFD,CAEE,OAAOC,EAAP,EAAW;AACX;AACD;;AAED,SAAK,IAAIC,SAAS,GAAG,CAArB,EAAwBA,SAAS,GAAGH,KAAK,CAAChgB,MAA1C,EAAkDmgB,SAAS,EAA3D,EAA+D;AAC7D,UAAI,EAAEH,KAAK,CAACG,SAAD,CAAL,YAA4BC,YAA9B,CAAJ,EAAiD;AAC/C;AACD;;AACD,UAAMC,IAAI,GAAKL,KAAK,CAACG,SAAD,CAApB;AAJ6D,UAKtDG,OALsD,GAKtBD,IALsB,CAKtDC,OALsD;AAAA,UAK7CC,YAL6C,GAKtBF,IALsB,CAK7CE,YAL6C;AAAA,UAK/B1Q,KAL+B,GAKtBwQ,IALsB,CAK/BxQ,KAL+B;;AAO7D,UAAI0Q,YAAY,IAAI,IAApB,EAA0B;AACxB,YAAIA,YAAY,CAACC,UAAb,YAA4BZ,SAA5B,EAAJ,EAA8C;AAC5C,cAAMja,KAAK,GAAG2a,OAAO,CAAC3a,KAAR,CAAc,gBAAd,CAAd;;AACA,cAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,gBAAM8a,QAAQ,GAAG9a,KAAK,CAAC,CAAD,CAAtB;AACA,gBAAMzC,KAAK,GAAG2M,KAAK,CAAC6Q,gBAAN,CAAuBD,QAAvB,CAAd;AAEAzB,qCAAyB,CAACvf,GAA1B,CAA8BmgB,SAA9B,EAAyC1c,KAAzC;AAEA,mBAAOA,KAAP;AACD,WAPD,MAOO;AACL,mBAAO,IAAP;AACD;AACF;AACF;AACF;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;ACjIM,IAAMyd,cAAc,GACzB,kFADK;AAGA,IAAMC,uBAAuB,GAClC,+FADK;AAGA,IAAMC,4BAA4B,GACvC,kDADK;AAQA,IAAMC,YAAyD,GAAG;AACvEC,OAAK,EAAE;AACL,8BAA0B,SADrB;AAEL,2CAAuC,SAFlC;AAGL,uCAAmC,0BAH9B;AAIL,+BAA2B,SAJtB;AAKL,wCAAoC,SAL/B;AAML,wCAAoC,SAN/B;AAOL,0BAAsB,SAPjB;AAQL,gCAA4B,wBARvB;AASL,mCAA+B,SAT1B;AAUL,kCAA8B,SAVzB;AAWL,mCAA+B,SAX1B;AAYL,iCAA6B,SAZxB;AAaL,uCAAmC,SAb9B;AAcL,sBAAkB,SAdb;AAeL,+BAA2B,SAftB;AAgBL,6BAAyB,SAhBpB;AAiBL,4BAAwB,SAjBnB;AAkBL,4BAAwB,SAlBnB;AAmBL,sBAAkB,SAnBb;AAoBL,0CAAsC,SApBjC;AAqBL,+CAA2C,SArBtC;AAsBL,6CAAyC,SAtBpC;AAuBL,kDAA8C,SAvBzC;AAwBL,iCAA6B,SAxBxB;AAyBL,iCAA6B,SAzBxB;AA0BL,iCAA6B,SA1BxB;AA2BL,iCAA6B,SA3BxB;AA4BL,iCAA6B,SA5BxB;AA6BL,iCAA6B,SA7BxB;AA8BL,iCAA6B,SA9BxB;AA+BL,iCAA6B,SA/BxB;AAgCL,iCAA6B,SAhCxB;AAiCL,iCAA6B,SAjCxB;AAkCL,oCAAgC,SAlC3B;AAmCL,8BAA0B,SAnCrB;AAoCL,uCAAmC,SApC9B;AAqCL,0CAAsC,oBArCjC;AAsCL,mDAA+C,2BAtC1C;AAuCL,qCAAiC,SAvC5B;AAwCL,8CAA0C,0BAxCrC;AAyCL,wCAAoC,SAzC/B;AA0CL,wCAAoC,SA1C/B;AA2CL,oCAAgC,SA3C3B;AA4CL,kCAA8B,SA5CzB;AA6CL,kCAA8B,SA7CzB;AA8CL,0CAAsC,SA9CjC;AA+CL,0CAAsC,SA/CjC;AAgDL,sCAAkC,SAhD7B;AAiDL,oCAAgC,SAjD3B;AAkDL,oCAAgC,SAlD3B;AAmDL,kCAA8B,gBAnDzB;AAoDL,wCAAoC,0BApD/B;AAqDL,2CAAuC,SArDlC;AAsDL,8BAA0B,SAtDrB;AAuDL,4BAAwB,SAvDnB;AAwDL,qCAAiC,SAxD5B;AAyDL,mBAAe,SAzDV;AA0DL,sBAAkB,SA1Db;AA2DL,uBAAmB,SA3Dd;AA4DL,gCAA4B,mBA5DvB;AA6DL,4BAAwB,mBA7DnB;AA8DL,0BAAsB,SA9DjB;AA+DL,sCAAkC,SA/D7B;AAgEL,oBAAgB,SAhEX;AAiEL,gCAA4B,2BAjEvB;AAkEL,6CAAyC,SAlEpC;AAmEL,uCAAmC,SAnE9B;AAoEL,qCAAiC,SApE5B;AAqEL,+CAA2C,SArEtC;AAsEL,yCAAqC,SAtEhC;AAuEL,6BAAyB,SAvEpB;AAwEL,4BAAwB,SAxEnB;AAyEL,+BAA2B,SAzEtB;AA0EL,0BAAsB,SA1EjB;AA2EL,iCAA6B,SA3ExB;AA4EL,iCAA6B,SA5ExB;AA6EL,8BAA0B,SA7ErB;AA8EL,wCAAoC,SA9E/B;AA+EL,8CAA0C,SA/ErC;AAgFL,6CAAyC,MAhFpC;AAiFL,qCAAiC,MAjF5B;AAkFL,2CAAuC,MAlFlC;AAmFL,wCAAoC,SAnF/B;AAoFL,8CAA0C,SApFrC;AAqFL,0CAAsC,SArFjC;AAsFL,gDAA4C,SAtFvC;AAuFL,4CAAwC,SAvFnC;AAwFL,wCAAoC,SAxF/B;AAyFL,oCAAgC,SAzF3B;AA0FL,0CAAsC,SA1FjC;AA2FL,mCAA+B,SA3F1B;AA4FL,yCAAqC,SA5FhC;AA6FL,qCAAiC,SA7F5B;AA8FL,2CAAuC,SA9FlC;AA+FL,0CAAsC,SA/FjC;AAgGL,qCAAiC,SAhG5B;AAiGL,2CAAuC,SAjGlC;AAkGL,0CAAsC,SAlGjC;AAmGL,6CAAyC,SAnGpC;AAoGL,mDAA+C,SApG1C;AAqGL,kDAA8C,SArGzC;AAsGL,8CAA0C,SAtGrC;AAuGL,oDAAgD,SAvG3C;AAwGL,mDAA+C,SAxG1C;AAyGL,uCAAmC,SAzG9B;AA0GL,6CAAyC,SA1GpC;AA2GL,gDAA4C,SA3GvC;AA4GL,sDAAkD,SA5G7C;AA6GL,gDAA4C,SA7GvC;AA8GL,sDAAkD,SA9G7C;AA+GL,kDAA8C,SA/GzC;AAgHL,wDAAoD,SAhH/C;AAiHL,qCAAiC,SAjH5B;AAkHL,2CAAuC,SAlHlC;AAmHL,mCAA+B,SAnH1B;AAoHL,uCAAmC,MApH9B;AAqHL,0CAAsC,SArHjC;AAsHL,4BAAwB,QAtHnB;AAuHL,oCAAgC,SAvH3B;AAwHL,8CAA0C,wBAxHrC;AAyHL,gDAA4C,qBAzHvC;AA0HL,4BAAwB,0BA1HnB;AA2HL,mCAA+B,SA3H1B;AA4HL,oBAAgB,SA5HX;AA6HL,4BAAwB,SA7HnB;AA8HL,6BAAyB,SA9HpB;AA+HL,yCAAqC,SA/HhC;AAgIL,oCAAgC,SAhI3B;AAiIL,qCAAiC,SAjI5B;AAkIL,2BAAuB,SAlIlB;AAmIL,kCAA8B,SAnIzB;AAoIL,wCAAoC,SApI/B;AAqIL,kCAA8B,SArIzB;AAsIL,2CAAuC,SAtIlC;AAwIL;AACA;AACA;AACA,4BAAwB,SA3InB;AA4IL,4BAAwB,SA5InB;AA6IL,kCAA8B,oBA7IzB;AA8IL,4BAAwB;AA9InB,GADgE;AAiJvEC,MAAI,EAAE;AACJ,8BAA0B,SADtB;AAEJ,2CAAuC,SAFnC;AAGJ,uCAAmC,SAH/B;AAIJ,+BAA2B,SAJvB;AAKJ,wCAAoC,SALhC;AAMJ,wCAAoC,QANhC;AAOJ,0BAAsB,SAPlB;AAQJ,gCAA4B,0BARxB;AASJ,mCAA+B,SAT3B;AAUJ,kCAA8B,SAV1B;AAWJ,mCAA+B,SAX3B;AAYJ,iCAA6B,SAZzB;AAaJ,uCAAmC,SAb/B;AAcJ,sBAAkB,SAdd;AAeJ,6BAAyB,SAfrB;AAgBJ,+BAA2B,SAhBvB;AAiBJ,4BAAwB,SAjBpB;AAkBJ,4BAAwB,SAlBpB;AAmBJ,sBAAkB,SAnBd;AAoBJ,0CAAsC,SApBlC;AAqBJ,+CAA2C,SArBvC;AAsBJ,6CAAyC,SAtBrC;AAuBJ,kDAA8C,SAvB1C;AAwBJ,iCAA6B,SAxBzB;AAyBJ,iCAA6B,SAzBzB;AA0BJ,iCAA6B,SA1BzB;AA2BJ,iCAA6B,SA3BzB;AA4BJ,iCAA6B,SA5BzB;AA6BJ,iCAA6B,SA7BzB;AA8BJ,iCAA6B,SA9BzB;AA+BJ,iCAA6B,SA/BzB;AAgCJ,iCAA6B,SAhCzB;AAiCJ,iCAA6B,SAjCzB;AAkCJ,oCAAgC,SAlC5B;AAmCJ,8BAA0B,SAnCtB;AAoCJ,uCAAmC,SApC/B;AAqCJ,0CAAsC,2BArClC;AAsCJ,mDAA+C,qBAtC3C;AAuCJ,qCAAiC,SAvC7B;AAwCJ,8CAA0C,0BAxCtC;AAyCJ,wCAAoC,SAzChC;AA0CJ,wCAAoC,SA1ChC;AA2CJ,oCAAgC,SA3C5B;AA4CJ,kCAA8B,SA5C1B;AA6CJ,kCAA8B,SA7C1B;AA8CJ,0CAAsC,SA9ClC;AA+CJ,0CAAsC,SA/ClC;AAgDJ,sCAAkC,SAhD9B;AAiDJ,oCAAgC,SAjD5B;AAkDJ,oCAAgC,SAlD5B;AAmDJ,kCAA8B,uBAnD1B;AAoDJ,wCAAoC,wBApDhC;AAqDJ,2CAAuC,SArDnC;AAsDJ,8BAA0B,SAtDtB;AAuDJ,4BAAwB,SAvDpB;AAwDJ,qCAAiC,SAxD7B;AAyDJ,mBAAe,SAzDX;AA0DJ,sBAAkB,SA1Dd;AA2DJ,uBAAmB,SA3Df;AA4DJ,gCAA4B,MA5DxB;AA6DJ,4BAAwB,MA7DpB;AA8DJ,0BAAsB,MA9DlB;AA+DJ,sCAAkC,SA/D9B;AAgEJ,oBAAgB,SAhEZ;AAiEJ,gCAA4B,qBAjExB;AAkEJ,6CAAyC,qBAlErC;AAmEJ,uCAAmC,SAnE/B;AAoEJ,qCAAiC,QApE7B;AAqEJ,+CAA2C,qBArEvC;AAsEJ,yCAAqC,0BAtEjC;AAuEJ,6BAAyB,SAvErB;AAwEJ,4BAAwB,SAxEpB;AAyEJ,+BAA2B,SAzEvB;AA0EJ,0BAAsB,SA1ElB;AA2EJ,iCAA6B,SA3EzB;AA4EJ,iCAA6B,SA5EzB;AA6EJ,8BAA0B,SA7EtB;AA8EJ,wCAAoC,SA9EhC;AA+EJ,8CAA0C,SA/EtC;AAgFJ,6CAAyC,SAhFrC;AAiFJ,qCAAiC,SAjF7B;AAkFJ,2CAAuC,SAlFnC;AAmFJ,wCAAoC,SAnFhC;AAoFJ,8CAA0C,SApFtC;AAqFJ,0CAAsC,SArFlC;AAsFJ,gDAA4C,SAtFxC;AAuFJ,4CAAwC,SAvFpC;AAwFJ,wCAAoC,SAxFhC;AAyFJ,oCAAgC,SAzF5B;AA0FJ,0CAAsC,SA1FlC;AA2FJ,mCAA+B,SA3F3B;AA4FJ,yCAAqC,SA5FjC;AA6FJ,qCAAiC,SA7F7B;AA8FJ,2CAAuC,SA9FnC;AA+FJ,0CAAsC,SA/FlC;AAgGJ,qCAAiC,SAhG7B;AAiGJ,2CAAuC,SAjGnC;AAkGJ,0CAAsC,SAlGlC;AAmGJ,6CAAyC,SAnGrC;AAoGJ,mDAA+C,SApG3C;AAqGJ,kDAA8C,SArG1C;AAsGJ,8CAA0C,SAtGtC;AAuGJ,oDAAgD,SAvG5C;AAwGJ,mDAA+C,SAxG3C;AAyGJ,uCAAmC,SAzG/B;AA0GJ,6CAAyC,SA1GrC;AA2GJ,gDAA4C,SA3GxC;AA4GJ,sDAAkD,SA5G9C;AA6GJ,gDAA4C,SA7GxC;AA8GJ,sDAAkD,SA9G9C;AA+GJ,kDAA8C,SA/G1C;AAgHJ,wDAAoD,SAhHhD;AAiHJ,qCAAiC,SAjH7B;AAkHJ,2CAAuC,SAlHnC;AAmHJ,mCAA+B,SAnH3B;AAoHJ,uCAAmC,SApH/B;AAqHJ,0CAAsC,SArHlC;AAsHJ,4BAAwB,QAtHpB;AAuHJ,oCAAgC,SAvH5B;AAwHJ,8CAA0C,0BAxHtC;AAyHJ,gDAA4C,2BAzHxC;AA0HJ,4BAAwB,SA1HpB;AA2HJ,sBAAkB,oBA3Hd;AA4HJ,mCAA+B,SA5H3B;AA6HJ,oBAAgB,SA7HZ;AA8HJ,4BAAwB,SA9HpB;AA+HJ,6BAAyB,SA/HrB;AAgIJ,yCAAqC,SAhIjC;AAiIJ,oCAAgC,SAjI5B;AAkIJ,qCAAiC,SAlI7B;AAmIJ,2BAAuB,SAnInB;AAoIJ,kCAA8B,SApI1B;AAqIJ,wCAAoC,SArIhC;AAsIJ,kCAA8B,SAtI1B;AAuIJ,2CAAuC,SAvInC;AAyIJ;AACA;AACA;AACA,4BAAwB,SA5IpB;AA6IJ,4BAAwB,SA7IpB;AA8IJ,kCAA8B,2BA9I1B;AA+IJ,4BAAwB;AA/IpB,GAjJiE;AAkSvEC,SAAO,EAAE;AACP,mCAA+B,KADxB;AAEP,oCAAgC,MAFzB;AAGP,mCAA+B,MAHxB;AAIP,8BAA0B,MAJnB;AAKP,+BAA2B,MALpB;AAMP,8BAA0B,MANnB;AAOP,0BAAsB;AAPf,GAlS8D;AA2SvEC,aAAW,EAAE;AACX,mCAA+B,MADpB;AAEX,oCAAgC,MAFrB;AAGX,mCAA+B,MAHpB;AAIX,8BAA0B,MAJf;AAKX,+BAA2B,MALhB;AAMX,8BAA0B,MANf;AAOX,0BAAsB;AAPX;AA3S0D,CAAlE,C,CAsTP;AACA;AACA;AACA;;AACA,IAAMC,uBAA+B,GAAGtQ,QAAQ,CAC9CiQ,YAAY,CAACI,WAAb,CAAyB,oBAAzB,CAD8C,EAE9C,EAF8C,CAAhD;AAIA,IAAME,mBAA2B,GAAGvQ,QAAQ,CAC1CiQ,YAAY,CAACG,OAAb,CAAqB,oBAArB,CAD0C,EAE1C,EAF0C,CAA5C;;;AC5UA;;;;;;;;AASA;AAKO,IAAMI,qBAAqB,GAAG,EAA9B,C,CAEP;;AACO,IAAMC,2BAA2B,GAAG,CAApC;AAEA,IAAMC,mBAAmB,GAAG,EAA5B,C;;;;;;;;;;;;;;;;;;;ACnBP;;;;;;;;AAgCA;AACA;CAMA;AACA;;AACA,IAAMC,WAAW,GAAG,EAApB;AAEA,IAAIC,iBAAqC,GAAG,IAA5C,C,CAEA;;AACA,IAAIC,kBAAkB,GACpB,OAAOC,WAAP,KAAuB,WAAvB,IACA;AACA,OAAOA,WAAW,CAACC,IAAnB,KAA4B,UAF5B,IAGA;AACA,OAAOD,WAAW,CAACE,UAAnB,KAAkC,UALpC;AAOA,IAAIC,oBAAoB,GAAG,KAA3B;;AACA,IAAIJ,kBAAJ,EAAwB;AACtB,MAAMK,aAAa,GAAG,MAAtB;AACA,MAAMC,WAAW,GAAI,EAArB;AACA3kB,QAAM,CAAC4kB,cAAP,CAAsBD,WAAtB,EAAmC,WAAnC,EAAgD;AAC9CziB,OAAG,EAAE,eAAY;AACfuiB,0BAAoB,GAAG,IAAvB;AACA,aAAO,CAAP;AACD,KAJ6C;AAK9CriB,OAAG,EAAE,eAAY,CAAE;AAL2B,GAAhD;;AAQA,MAAI;AACF;AACAkiB,eAAW,CAACC,IAAZ,CAAiBG,aAAjB,EAAgCC,WAAhC;AACD,GAHD,CAGE,OAAOre,KAAP,EAAc,CACd;AACD,GALD,SAKU;AACRge,eAAW,CAACE,UAAZ,CAAuBE,aAAvB;AACD;AACF;;AAED,IAAID,oBAAJ,EAA0B;AACxBL,mBAAiB,GAAGE,WAApB;AACD,C,CAED;;;AACA,IAAMO,cAAc,GAClB;AACA,QAAOP,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmC,OAAOA,WAAW,CAACtF,GAAnB,KAA2B,UAA9D,GACI;AAAA,SAAMsF,WAAW,CAACtF,GAAZ,EAAN;AAAA,CADJ,GAEI;AAAA,SAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAJN,C,CAMA;AACA;;AACO,SAAS8F,mCAAT,CACLC,eADK,EAEL;AACAX,mBAAiB,GAAGW,eAApB;AACAV,oBAAkB,GAAGU,eAAe,KAAK,IAAzC;AACAN,sBAAoB,GAAGM,eAAe,KAAK,IAA3C;AACD;AAWM,SAASC,oBAAT,OAcM;AAAA,MAbXC,sBAaW,QAbXA,sBAaW;AAAA,MAZXC,cAYW,QAZXA,cAYW;AAAA,MAXXC,eAWW,QAXXA,eAWW;AAAA,MAVXvO,UAUW,QAVXA,UAUW;AAAA,MATXL,oBASW,QATXA,oBASW;AAAA,MARX6O,YAQW,QARXA,YAQW;AACX,MAAIC,eAAyB,GAAG,CAAhC;AACA,MAAIC,4BAA0D,GAAG,IAAjE;AACA,MAAIC,yBAA8C,GAAG,EAArD;AACA,MAAIC,mBAAwC,GAAG,IAA/C;AACA,MAAIC,kBAAsD,GAAG,IAAI7P,GAAJ,EAA7D;AACA,MAAI8P,WAAoB,GAAG,KAA3B;AACA,MAAIC,6BAAsC,GAAG,KAA7C;;AAEA,WAASC,eAAT,GAA2B;AACzB,QAAMC,WAAW,GAAGhB,cAAc,EAAlC;;AAEA,QAAIW,mBAAJ,EAAyB;AACvB,UAAIA,mBAAmB,CAACM,SAApB,KAAkC,CAAtC,EAAyC;AACvCN,2BAAmB,CAACM,SAApB,GAAgCD,WAAW,GAAG1B,WAA9C;AACD;;AAED,aAAO0B,WAAW,GAAGL,mBAAmB,CAACM,SAAzC;AACD;;AAED,WAAO,CAAP;AACD;;AAED,WAASC,uBAAT,GAAmC;AACjC;AACA,QACE,OAAOC,8BAAP,KAA0C,WAA1C,IACA,OAAOA,8BAA8B,CAACD,uBAAtC,KACE,UAHJ,EAIE;AACA;AACA;AACA;AACA,UAAME,MAAM,GAAGD,8BAA8B,CAACD,uBAA/B,EAAf,CAJA,CAMA;AACA;;;AACA,UAAIrc,yCAAO,CAACuc,MAAD,CAAX,EAAqB;AACnB,eAAOA,MAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD;;AAED,WAASC,eAAT,GAAgD;AAC9C,WAAOV,mBAAP;AACD;;AAED,WAASW,gBAAT,CAA0BC,KAA1B,EAAuC;AACrC,QAAMC,UAAU,GAAG,EAAnB;AAEA,QAAIC,IAAI,GAAG,CAAX;;AACA,SAAK,IAAI/U,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGyS,qBAA5B,EAAmDzS,KAAK,EAAxD,EAA4D;AAC1D,UAAI+U,IAAI,GAAGF,KAAX,EAAkB;AAChBC,kBAAU,CAAC7iB,IAAX,CAAgB8iB,IAAhB;AACD;;AACDA,UAAI,IAAI,CAAR;AACD;;AAED,WAAOD,UAAP;AACD;;AAED,MAAME,cAAqC,GACzC,OAAOpB,eAAP,KAA2B,UAA3B,GAAwCA,eAAe,EAAvD,GAA4D,IAD9D;;AAGA,WAASqB,YAAT,GAAwB;AACtBC,gBAAY,2BAAoBrB,YAApB,EAAZ;AACAqB,gBAAY,8BAAuBxC,2BAAvB,EAAZ;AAEA,QAAMgC,MAAM,GAAGF,uBAAuB,EAAtC;;AACA,QAAIE,MAAJ,EAAY;AACV,WAAK,IAAIvjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGujB,MAAM,CAACtjB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,YAAMgkB,KAAK,GAAGT,MAAM,CAACvjB,CAAD,CAApB;;AACA,YAAIgH,yCAAO,CAACgd,KAAD,CAAP,IAAkBA,KAAK,CAAC/jB,MAAN,KAAiB,CAAvC,EAA0C;AAAA,yCACEsjB,MAAM,CAACvjB,CAAD,CADR;AAAA,cACjCikB,eADiC;AAAA,cAChBC,cADgB;;AAGxCH,sBAAY,yCAAkCE,eAAlC,EAAZ;AACAF,sBAAY,wCAAiCG,cAAjC,EAAZ;AACD;AACF;AACF;;AAED,QAAIL,cAAc,IAAI,IAAtB,EAA4B;AAC1B,UAAMM,MAAM,GAAGxd,KAAK,CAACC,IAAN,CAAWid,cAAc,CAAC7O,MAAf,EAAX,EAAoCvS,IAApC,CAAyC,GAAzC,CAAf;AACAshB,kBAAY,+BAAwBI,MAAxB,EAAZ;AACD;AACF;;AAED,WAASJ,YAAT,CAAsBK,QAAtB,EAAwC;AACtC;AACE1C,qBAAF,CAAwCG,IAAxC,CAA6CuC,QAA7C;AACE1C,qBAAF,CAAwCI,UAAxC,CAAmDsC,QAAnD;AACD;;AAED,WAASC,yBAAT,CACE/kB,IADF,EAEEokB,KAFF,EAGQ;AACN;AACA;AACA,QAAIY,KAAK,GAAG,CAAZ;;AACA,QAAIzB,yBAAyB,CAAC5iB,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,UAAMskB,GAAG,GACP1B,yBAAyB,CAACA,yBAAyB,CAAC5iB,MAA1B,GAAmC,CAApC,CAD3B;AAEAqkB,WAAK,GAAGC,GAAG,CAACjlB,IAAJ,KAAa,aAAb,GAA6BilB,GAAG,CAACD,KAAjC,GAAyCC,GAAG,CAACD,KAAJ,GAAY,CAA7D;AACD;;AAED,QAAMX,UAAU,GAAGF,gBAAgB,CAACC,KAAD,CAAnC;AAEA,QAAMc,YAA0B,GAAG;AACjCllB,UAAI,EAAJA,IADiC;AAEjCmlB,cAAQ,EAAE9B,eAFuB;AAGjC2B,WAAK,EAALA,KAHiC;AAIjCZ,WAAK,EAAEC,UAJ0B;AAKjCe,eAAS,EAAExB,eAAe,EALO;AAMjCyB,cAAQ,EAAE;AANuB,KAAnC;AASA9B,6BAAyB,CAAC/hB,IAA1B,CAA+B0jB,YAA/B;;AAEA,QAAI1B,mBAAJ,EAAyB;AAAA,iCAErBA,mBAFqB;AAAA,UAChB8B,qBADgB,wBAChBA,qBADgB;AAAA,UACOC,qBADP,wBACOA,qBADP;AAIvB,UAAIC,aAAa,GAAGF,qBAAqB,CAACplB,GAAtB,CAA0BmjB,eAA1B,CAApB;;AACA,UAAImC,aAAa,IAAI,IAArB,EAA2B;AACzBA,qBAAa,CAAChkB,IAAd,CAAmB0jB,YAAnB;AACD,OAFD,MAEO;AACLI,6BAAqB,CAACllB,GAAtB,CAA0BijB,eAA1B,EAA2C,CAAC6B,YAAD,CAA3C;AACD;;AAEDb,gBAAU,CAACjlB,OAAX,CAAmB,UAAAklB,IAAI,EAAI;AACzBkB,qBAAa,GAAGD,qBAAqB,CAACrlB,GAAtB,CAA0BokB,IAA1B,CAAhB;;AACA,YAAIkB,aAAJ,EAAmB;AACjBA,uBAAa,CAAChkB,IAAd,CAAmB0jB,YAAnB;AACD;AACF,OALD;AAMD;AACF;;AAED,WAASO,2BAAT,CAAqCzlB,IAArC,EAAmE;AACjE,QAAM6jB,WAAW,GAAGD,eAAe,EAAnC;;AAEA,QAAIL,yBAAyB,CAAC5iB,MAA1B,KAAqC,CAAzC,EAA4C;AAC1C8C,aAAO,CAACa,KAAR,CACE,kFADF,EAEEtE,IAFF,EAGE6jB,WAHF,EAD0C,CAM1C;;AACA;AACD;;AAED,QAAMoB,GAAG,GAAG1B,yBAAyB,CAAChd,GAA1B,EAAZ;;AACA,QAAI0e,GAAG,CAACjlB,IAAJ,KAAaA,IAAjB,EAAuB;AACrByD,aAAO,CAACa,KAAR,CACE,+DADF,EAEEtE,IAFF,EAGE6jB,WAHF,EAIEoB,GAAG,CAACjlB,IAJN;AAMD,KArBgE,CAuBjE;;;AACAilB,OAAG,CAACI,QAAJ,GAAexB,WAAW,GAAGoB,GAAG,CAACG,SAAjC;;AAEA,QAAI5B,mBAAJ,EAAyB;AACvBA,yBAAmB,CAAC6B,QAApB,GAA+BzB,eAAe,KAAKzB,WAAnD;AACD;AACF;;AAED,WAASuD,iBAAT,CAA2BtB,KAA3B,EAA+C;AAC7C,QAAIV,WAAJ,EAAiB;AACfqB,+BAAyB,CAAC,QAAD,EAAWX,KAAX,CAAzB,CADe,CAGf;AACA;;AACAT,mCAA6B,GAAG,IAAhC;AACD;;AAED,QAAIlB,oBAAJ,EAA0B;AACxBgC,kBAAY,0BAAmBL,KAAnB,EAAZ,CADwB,CAGxB;AACA;AACA;AACA;;AACAI,kBAAY;AACb;AACF;;AAED,WAASmB,iBAAT,GAAmC;AACjC,QAAIjC,WAAJ,EAAiB;AACf+B,iCAA2B,CAAC,QAAD,CAA3B;AACAA,iCAA2B,CAAC,aAAD,CAA3B;AACD;;AAED,QAAIhD,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,eAAD,CAAZ;AACD;AACF;;AAED,WAASmB,0BAAT,CAAoCC,KAApC,EAAwD;AACtD,QAAInC,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIA,WAAJ,EAAiB;AACfJ,sCAA4B,GAAG;AAC7BwC,yBAAa,EAAbA,aAD6B;AAE7BT,oBAAQ,EAAE,CAFmB;AAG7BD,qBAAS,EAAExB,eAAe,EAHG;AAI7B5jB,gBAAI,EAAE,QAJuB;AAK7B+lB,mBAAO,EAAE;AALoB,WAA/B;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,oCAA6BqB,aAA7B,EAAZ;AACD;AACF;AACF;;AAED,WAASE,0BAAT,GAA4C;AAC1C,QAAItC,WAAJ,EAAiB;AACf,UAAIJ,4BAAJ,EAAkC;AAChC,YAAIE,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACyC,iBAApB,CAAsCzkB,IAAtC,CACE8hB,4BADF;AAGD,SAL+B,CAOhC;;;AACAA,oCAA4B,CAAC+B,QAA7B,GACE;AACAzB,uBAAe,KAAKN,4BAA4B,CAAC8B,SAFnD;AAGA9B,oCAA4B,GAAG,IAA/B;AACD;AACF;;AAED,QAAIb,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,yBAAD,CAAZ;AACD;AACF;;AAED,WAASyB,qCAAT,CAA+CL,KAA/C,EAAmE;AACjE,QAAInC,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIA,WAAJ,EAAiB;AACfJ,sCAA4B,GAAG;AAC7BwC,yBAAa,EAAbA,aAD6B;AAE7BT,oBAAQ,EAAE,CAFmB;AAG7BD,qBAAS,EAAExB,eAAe,EAHG;AAI7B5jB,gBAAI,EAAE,qBAJuB;AAK7B+lB,mBAAO,EAAE;AALoB,WAA/B;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,iDAA0CqB,aAA1C,EAAZ;AACD;AACF;AACF;;AAED,WAASK,qCAAT,GAAuD;AACrD,QAAIzC,WAAJ,EAAiB;AACf,UAAIJ,4BAAJ,EAAkC;AAChC,YAAIE,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACyC,iBAApB,CAAsCzkB,IAAtC,CACE8hB,4BADF;AAGD,SAL+B,CAOhC;;;AACAA,oCAA4B,CAAC+B,QAA7B,GACE;AACAzB,uBAAe,KAAKN,4BAA4B,CAAC8B,SAFnD;AAGA9B,oCAA4B,GAAG,IAA/B;AACD;AACF;;AAED,QAAIb,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,sCAAD,CAAZ;AACD;AACF;;AAED,WAAS2B,uCAAT,CAAiDP,KAAjD,EAAqE;AACnE,QAAInC,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIA,WAAJ,EAAiB;AACfJ,sCAA4B,GAAG;AAC7BwC,yBAAa,EAAbA,aAD6B;AAE7BT,oBAAQ,EAAE,CAFmB;AAG7BD,qBAAS,EAAExB,eAAe,EAHG;AAI7B5jB,gBAAI,EAAE,uBAJuB;AAK7B+lB,mBAAO,EAAE;AALoB,WAA/B;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,mDACiCqB,aADjC,EAAZ;AAGD;AACF;AACF;;AAED,WAASO,uCAAT,GAAyD;AACvD,QAAI3C,WAAJ,EAAiB;AACf,UAAIJ,4BAAJ,EAAkC;AAChC,YAAIE,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACyC,iBAApB,CAAsCzkB,IAAtC,CACE8hB,4BADF;AAGD,SAL+B,CAOhC;;;AACAA,oCAA4B,CAAC+B,QAA7B,GACE;AACAzB,uBAAe,KAAKN,4BAA4B,CAAC8B,SAFnD;AAGA9B,oCAA4B,GAAG,IAA/B;AACD;AACF;;AAED,QAAIb,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,wCAAD,CAAZ;AACD;AACF;;AAED,WAAS6B,sCAAT,CAAgDT,KAAhD,EAAoE;AAClE,QAAInC,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIA,WAAJ,EAAiB;AACfJ,sCAA4B,GAAG;AAC7BwC,yBAAa,EAAbA,aAD6B;AAE7BT,oBAAQ,EAAE,CAFmB;AAG7BD,qBAAS,EAAExB,eAAe,EAHG;AAI7B5jB,gBAAI,EAAE,sBAJuB;AAK7B+lB,mBAAO,EAAE;AALoB,WAA/B;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,kDAA2CqB,aAA3C,EAAZ;AACD;AACF;AACF;;AAED,WAASS,sCAAT,GAAwD;AACtD,QAAI7C,WAAJ,EAAiB;AACf,UAAIJ,4BAAJ,EAAkC;AAChC,YAAIE,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACyC,iBAApB,CAAsCzkB,IAAtC,CACE8hB,4BADF;AAGD,SAL+B,CAOhC;;;AACAA,oCAA4B,CAAC+B,QAA7B,GACE;AACAzB,uBAAe,KAAKN,4BAA4B,CAAC8B,SAFnD;AAGA9B,oCAA4B,GAAG,IAA/B;AACD;AACF;;AAED,QAAIb,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,uCAAD,CAAZ;AACD;AACF;;AAED,WAAS+B,wCAAT,CAAkDX,KAAlD,EAAsE;AACpE,QAAInC,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIA,WAAJ,EAAiB;AACfJ,sCAA4B,GAAG;AAC7BwC,yBAAa,EAAbA,aAD6B;AAE7BT,oBAAQ,EAAE,CAFmB;AAG7BD,qBAAS,EAAExB,eAAe,EAHG;AAI7B5jB,gBAAI,EAAE,wBAJuB;AAK7B+lB,mBAAO,EAAE;AALoB,WAA/B;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,oDACkCqB,aADlC,EAAZ;AAGD;AACF;AACF;;AAED,WAASW,wCAAT,GAA0D;AACxD,QAAI/C,WAAJ,EAAiB;AACf,UAAIJ,4BAAJ,EAAkC;AAChC,YAAIE,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACyC,iBAApB,CAAsCzkB,IAAtC,CACE8hB,4BADF;AAGD,SAL+B,CAOhC;;;AACAA,oCAA4B,CAAC+B,QAA7B,GACE;AACAzB,uBAAe,KAAKN,4BAA4B,CAAC8B,SAFnD;AAGA9B,oCAA4B,GAAG,IAA/B;AACD;AACF;;AAED,QAAIb,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,yCAAD,CAAZ;AACD;AACF;;AAED,WAASiC,oBAAT,CACEb,KADF,EAEEc,WAFF,EAGEvC,KAHF,EAIQ;AACN,QAAIV,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;AACA,UAAMe,KAAK,GAAGf,KAAK,CAACgB,SAAN,KAAoB,IAApB,GAA2B,OAA3B,GAAqC,QAAnD;AAEA,UAAIC,OAAO,GAAG,EAAd;;AACA,UACEH,WAAW,KAAK,IAAhB,IACA,QAAOA,WAAP,MAAuB,QADvB,IAEA,OAAOA,WAAW,CAACG,OAAnB,KAA+B,QAHjC,EAIE;AACAA,eAAO,GAAGH,WAAW,CAACG,OAAtB;AACD,OAND,MAMO,IAAI,OAAOH,WAAP,KAAuB,QAA3B,EAAqC;AAC1CG,eAAO,GAAGH,WAAV;AACD;;AAED,UAAIjD,WAAJ,EAAiB;AACf;AACA,YAAIF,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACuD,YAApB,CAAiCvlB,IAAjC,CAAsC;AACpCskB,yBAAa,EAAbA,aADoC;AAEpCgB,mBAAO,EAAPA,OAFoC;AAGpCF,iBAAK,EAALA,KAHoC;AAIpCxB,qBAAS,EAAExB,eAAe,EAJU;AAKpC5jB,gBAAI,EAAE;AAL8B,WAAtC;AAOD;AACF;;AAED,UAAIyiB,oBAAJ,EAA0B;AACxBgC,oBAAY,mBAAYqB,aAAZ,cAA6Bc,KAA7B,cAAsCE,OAAtC,EAAZ;AACD;AACF;AACF;;AAED,MAAME,eAAe,GAAG,OAAO7oB,OAAP,KAAmB,UAAnB,GAAgCA,OAAhC,GAA0CyV,GAAlE,CAvdW,CAydX;;AACA,MAAMqT,WAAsC,GAAG,IAAID,eAAJ,EAA/C;AACA,MAAIE,UAAkB,GAAG,CAAzB;;AACA,WAASC,aAAT,CAAuBC,QAAvB,EAAmD;AACjD,QAAI,CAACH,WAAW,CAAC5W,GAAZ,CAAgB+W,QAAhB,CAAL,EAAgC;AAC9BH,iBAAW,CAAC7mB,GAAZ,CAAgBgnB,QAAhB,EAA0BF,UAAU,EAApC;AACD;;AACD,WAASD,WAAW,CAAC/mB,GAAZ,CAAgBknB,QAAhB,CAAT;AACD;;AAED,WAASC,sBAAT,CACExB,KADF,EAEEuB,QAFF,EAGEhD,KAHF,EAIQ;AACN,QAAIV,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAM6E,SAAS,GAAGL,WAAW,CAAC5W,GAAZ,CAAgB+W,QAAhB,IAA4B,WAA5B,GAA0C,SAA5D;AACA,UAAM9kB,EAAE,GAAG6kB,aAAa,CAACC,QAAD,CAAxB;AACA,UAAMtB,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;AACA,UAAMe,KAAK,GAAGf,KAAK,CAACgB,SAAN,KAAoB,IAApB,GAA2B,OAA3B,GAAqC,QAAnD,CAJuC,CAMvC;AACA;AACA;AACA;;AACA,UAAM/mB,WAAW,GAAIsnB,QAAD,CAAgBtnB,WAAhB,IAA+B,EAAnD;AAEA,UAAIynB,aAAmC,GAAG,IAA1C;;AACA,UAAI7D,WAAJ,EAAiB;AACf;AACA6D,qBAAa,GAAG;AACdzB,uBAAa,EAAbA,aADc;AAEdd,eAAK,EAAE,CAFO;AAGdK,kBAAQ,EAAE,CAHI;AAId/iB,YAAE,YAAKA,EAAL,CAJY;AAKdskB,eAAK,EAALA,KALc;AAMdY,qBAAW,EAAE1nB,WANC;AAOd2nB,oBAAU,EAAE,YAPE;AAQdrC,mBAAS,EAAExB,eAAe,EARZ;AASd5jB,cAAI,EAAE,UATQ;AAUd+lB,iBAAO,EAAE;AAVK,SAAhB;;AAaA,YAAIvC,mBAAJ,EAAyB;AACvBA,6BAAmB,CAACkE,cAApB,CAAmClmB,IAAnC,CAAwC+lB,aAAxC;AACD;AACF;;AAED,UAAI9E,oBAAJ,EAA0B;AACxBgC,oBAAY,sBACI6C,SADJ,cACiBhlB,EADjB,cACuBwjB,aADvB,cACwCc,KADxC,cACiDxC,KADjD,cAC0DtkB,WAD1D,EAAZ;AAGD;;AAEDsnB,cAAQ,CAACO,IAAT,CACE,YAAM;AACJ,YAAIJ,aAAJ,EAAmB;AACjBA,uBAAa,CAAClC,QAAd,GACEzB,eAAe,KAAK2D,aAAa,CAACnC,SADpC;AAEAmC,uBAAa,CAACE,UAAd,GAA2B,UAA3B;AACD;;AAED,YAAIhF,oBAAJ,EAA0B;AACxBgC,sBAAY,+BAAwBniB,EAAxB,cAA8BwjB,aAA9B,EAAZ;AACD;AACF,OAXH,EAYE,YAAM;AACJ,YAAIyB,aAAJ,EAAmB;AACjBA,uBAAa,CAAClC,QAAd,GACEzB,eAAe,KAAK2D,aAAa,CAACnC,SADpC;AAEAmC,uBAAa,CAACE,UAAd,GAA2B,UAA3B;AACD;;AAED,YAAIhF,oBAAJ,EAA0B;AACxBgC,sBAAY,+BAAwBniB,EAAxB,cAA8BwjB,aAA9B,EAAZ;AACD;AACF,OAtBH;AAwBD;AACF;;AAED,WAAS8B,wBAAT,CAAkCxD,KAAlC,EAAsD;AACpD,QAAIV,WAAJ,EAAiB;AACfqB,+BAAyB,CAAC,gBAAD,EAAmBX,KAAnB,CAAzB;AACD;;AAED,QAAI3B,oBAAJ,EAA0B;AACxBgC,kBAAY,kCAA2BL,KAA3B,EAAZ;AACD;AACF;;AAED,WAASyD,wBAAT,GAA0C;AACxC,QAAInE,WAAJ,EAAiB;AACf+B,iCAA2B,CAAC,gBAAD,CAA3B;AACD;;AAED,QAAIhD,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,uBAAD,CAAZ;AACD;AACF;;AAED,WAASqD,yBAAT,CAAmC1D,KAAnC,EAAuD;AACrD,QAAIV,WAAJ,EAAiB;AACfqB,+BAAyB,CAAC,iBAAD,EAAoBX,KAApB,CAAzB;AACD;;AAED,QAAI3B,oBAAJ,EAA0B;AACxBgC,kBAAY,mCAA4BL,KAA5B,EAAZ;AACD;AACF;;AAED,WAAS2D,yBAAT,GAA2C;AACzC,QAAIrE,WAAJ,EAAiB;AACf+B,iCAA2B,CAAC,iBAAD,CAA3B;AACD;;AAED,QAAIhD,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,wBAAD,CAAZ;AACD;AACF;;AAED,WAASuD,iBAAT,CAA2B5D,KAA3B,EAA+C;AAC7C,QAAIV,WAAJ,EAAiB;AACf,UAAIC,6BAAJ,EAAmC;AACjCA,qCAA6B,GAAG,KAAhC;AACAN,uBAAe;AAChB,OAJc,CAMf;AACA;;;AACA,UACEE,yBAAyB,CAAC5iB,MAA1B,KAAqC,CAArC,IACA4iB,yBAAyB,CAACA,yBAAyB,CAAC5iB,MAA1B,GAAmC,CAApC,CAAzB,CAAgEX,IAAhE,KACE,aAHJ,EAIE;AACA+kB,iCAAyB,CAAC,aAAD,EAAgBX,KAAhB,CAAzB;AACD;;AAEDW,+BAAyB,CAAC,QAAD,EAAWX,KAAX,CAAzB;AACD;;AAED,QAAI3B,oBAAJ,EAA0B;AACxBgC,kBAAY,0BAAmBL,KAAnB,EAAZ;AACD;AACF;;AAED,WAAS6D,iBAAT,GAAmC;AACjC,QAAIvE,WAAJ,EAAiB;AACf+B,iCAA2B,CAAC,QAAD,CAA3B;AACD;;AAED,QAAIhD,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,gBAAD,CAAZ;AACD;AACF;;AAED,WAASyD,iBAAT,GAAmC;AACjC,QAAIxE,WAAJ,EAAiB;AACf+B,iCAA2B,CAAC,QAAD,CAA3B;AACD;;AAED,QAAIhD,oBAAJ,EAA0B;AACxBgC,kBAAY,CAAC,eAAD,CAAZ;AACD;AACF;;AAED,WAAS0D,mBAAT,CAA6B7D,IAA7B,EAA+C;AAC7C,QAAIZ,WAAJ,EAAiB;AACf,UAAIF,mBAAJ,EAAyB;AACvBA,2BAAmB,CAAC4E,gBAApB,CAAqC5mB,IAArC,CAA0C;AACxC4iB,eAAK,EAAED,gBAAgB,CAACG,IAAD,CADiB;AAExCc,mBAAS,EAAExB,eAAe,EAFc;AAGxC5jB,cAAI,EAAE,iBAHkC;AAIxC+lB,iBAAO,EAAE;AAJ+B,SAA1C;AAMD;AACF;;AAED,QAAItD,oBAAJ,EAA0B;AACxBgC,kBAAY,6BAAsBH,IAAtB,EAAZ;AACD;AACF;;AAED,WAAS+D,wBAAT,CAAkCxC,KAAlC,EAAgDvB,IAAhD,EAAkE;AAChE,QAAIZ,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIF,mBAAJ,EAAyB;AACvBA,6BAAmB,CAAC4E,gBAApB,CAAqC5mB,IAArC,CAA0C;AACxCskB,yBAAa,EAAbA,aADwC;AAExC1B,iBAAK,EAAED,gBAAgB,CAACG,IAAD,CAFiB;AAGxCc,qBAAS,EAAExB,eAAe,EAHc;AAIxC5jB,gBAAI,EAAE,uBAJkC;AAKxC+lB,mBAAO,EAAE;AAL+B,WAA1C;AAOD;AACF;;AAED,UAAItD,oBAAJ,EAA0B;AACxBgC,oBAAY,oCAA6BH,IAA7B,cAAqCwB,aAArC,EAAZ;AACD;AACF;AACF;;AAED,WAASwC,eAAT,CAAyBzC,KAAzB,EAAqD;AACnD,QAAM0C,OAAO,GAAG,EAAhB;AACA,QAAI9gB,MAAoB,GAAGoe,KAA3B;;AACA,WAAOpe,MAAM,KAAK,IAAlB,EAAwB;AACtB8gB,aAAO,CAAC/mB,IAAR,CAAaiG,MAAb;AACAA,YAAM,GAAGA,MAAM,CAAC+gB,MAAhB;AACD;;AACD,WAAOD,OAAP;AACD;;AAED,WAASE,wBAAT,CAAkC5C,KAAlC,EAAgDvB,IAAhD,EAAkE;AAChE,QAAIZ,WAAW,IAAIjB,oBAAnB,EAAyC;AACvC,UAAMqD,aAAa,GAAG7C,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,SAAvD;;AAEA,UAAInC,WAAJ,EAAiB;AACf;AACA,YAAIF,mBAAJ,EAAyB;AACvB,cAAMkF,KAAoC,GAAG;AAC3C5C,yBAAa,EAAbA,aAD2C;AAE3C;AACA;AACA1B,iBAAK,EAAED,gBAAgB,CAACG,IAAD,CAJoB;AAK3Cc,qBAAS,EAAExB,eAAe,EALiB;AAM3C5jB,gBAAI,EAAE,uBANqC;AAO3C+lB,mBAAO,EAAE;AAPkC,WAA7C;AASAtC,4BAAkB,CAACrjB,GAAnB,CAAuBsoB,KAAvB,EAA8BJ,eAAe,CAACzC,KAAD,CAA7C,EAVuB,CAWvB;;AACArC,6BAAmB,CAAC4E,gBAApB,CAAqC5mB,IAArC,CAA0CknB,KAA1C;AACD;AACF;;AAED,UAAIjG,oBAAJ,EAA0B;AACxBgC,oBAAY,mCAA4BH,IAA5B,cAAoCwB,aAApC,EAAZ;AACD;AACF;AACF;;AAED,WAAS6C,qBAAT,CAA+B9kB,KAA/B,EAA+C;AAC7C,QAAI6f,WAAW,KAAK7f,KAApB,EAA2B;AACzB6f,iBAAW,GAAG7f,KAAd;;AAEA,UAAI6f,WAAJ,EAAiB;AACf,YAAMkF,4BAA0D,GAC9D,IAAIhV,GAAJ,EADF;;AAGA,YAAI6O,oBAAJ,EAA0B;AACxB,cAAMwB,MAAM,GAAGF,uBAAuB,EAAtC;;AACA,cAAIE,MAAJ,EAAY;AACV,iBAAK,IAAIvjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGujB,MAAM,CAACtjB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,kBAAMgkB,KAAK,GAAGT,MAAM,CAACvjB,CAAD,CAApB;;AACA,kBAAIgH,yCAAO,CAACgd,KAAD,CAAP,IAAkBA,KAAK,CAAC/jB,MAAN,KAAiB,CAAvC,EAA0C;AAAA,gDACEsjB,MAAM,CAACvjB,CAAD,CADR;AAAA,oBACjCikB,eADiC;AAAA,oBAChBC,cADgB;;AAGxCH,4BAAY,yCACuBE,eADvB,EAAZ;AAGAF,4BAAY,wCAAiCG,cAAjC,EAAZ;AACD;AACF;AACF;AACF;;AAED,YAAMW,qBAAqB,GAAG,IAAI3R,GAAJ,EAA9B;AACA,YAAI0Q,IAAI,GAAG,CAAX;;AACA,aAAK,IAAI/U,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGyS,qBAA5B,EAAmDzS,KAAK,EAAxD,EAA4D;AAC1DgW,+BAAqB,CAACnlB,GAAtB,CAA0BkkB,IAA1B,EAAgC,EAAhC;AACAA,cAAI,IAAI,CAAR;AACD;;AAEDjB,uBAAe,GAAG,CAAlB;AACAC,oCAA4B,GAAG,IAA/B;AACAC,iCAAyB,GAAG,EAA5B;AACAE,0BAAkB,GAAG,IAAI7P,GAAJ,EAArB;AACA4P,2BAAmB,GAAG;AACpB;AACAoF,sCAA4B,EAA5BA,4BAFoB;AAGpBrE,wBAAc,EAAEA,cAAc,IAAI,IAAI3Q,GAAJ,EAHd;AAIpBwP,sBAAY,EAAZA,YAJoB;AAMpB;AACA6C,2BAAiB,EAAE,EAPC;AAQpBmC,0BAAgB,EAAE,EARE;AASpBV,wBAAc,EAAE,EATI;AAUpBX,sBAAY,EAAE,EAVM;AAYpB;AACAzB,+BAAqB,EAAE,IAAI1R,GAAJ,EAbH;AAcpByR,kBAAQ,EAAE,CAdU;AAepBE,+BAAqB,EAArBA,qBAfoB;AAgBpBzB,mBAAS,EAAE,CAhBS;AAkBpB;AACA+E,oBAAU,EAAE,EAnBQ;AAoBpBC,sBAAY,EAAE,EApBM;AAqBpBC,yBAAe,EAAE,EArBG;AAsBpBC,8BAAoB,EAAE,EAtBF;AAuBpBC,mBAAS,EAAE,EAvBS;AAwBpBC,wBAAc,EAAE;AAxBI,SAAtB;AA0BAvF,qCAA6B,GAAG,IAAhC;AACD,OA3DD,MA2DO;AACL;AACA,YAAIH,mBAAmB,KAAK,IAA5B,EAAkC;AAChCA,6BAAmB,CAAC4E,gBAApB,CAAqChpB,OAArC,CAA6C,UAAAspB,KAAK,EAAI;AACpD,gBAAIA,KAAK,CAAC1oB,IAAN,KAAe,uBAAnB,EAA4C;AAC1C;AACA;AACA;AACA,kBAAMmpB,UAAU,GAAG1F,kBAAkB,CAACvjB,GAAnB,CAAuBwoB,KAAvB,CAAnB;;AACA,kBAAIS,UAAU,IAAI5U,oBAAoB,IAAI,IAA1C,EAAgD;AAC9CmU,qBAAK,CAAC/S,cAAN,GAAuBwT,UAAU,CAACpiB,MAAX,CAAkB,UAACqiB,KAAD,EAAQvD,KAAR,EAAkB;AACzD,yBACEuD,KAAK,GACLC,4DAAa,CAACzU,UAAD,EAAaiR,KAAb,EAAoBtR,oBAApB,CAFf;AAID,iBALsB,EAKpB,EALoB,CAAvB;AAMD;AACF;AACF,WAfD;AAgBD,SAnBI,CAqBL;AACA;;;AACAkP,0BAAkB,CAAC6F,KAAnB;AACD;AACF;AACF;;AAED,SAAO;AACLpF,mBAAe,EAAfA,eADK;AAELqF,kBAAc,EAAE;AACd7D,uBAAiB,EAAjBA,iBADc;AAEdC,uBAAiB,EAAjBA,iBAFc;AAGdC,gCAA0B,EAA1BA,0BAHc;AAIdI,gCAA0B,EAA1BA,0BAJc;AAKdM,4CAAsC,EAAtCA,sCALc;AAMdC,4CAAsC,EAAtCA,sCANc;AAOdC,8CAAwC,EAAxCA,wCAPc;AAQdC,8CAAwC,EAAxCA,wCARc;AASdP,2CAAqC,EAArCA,qCATc;AAUdC,2CAAqC,EAArCA,qCAVc;AAWdC,6CAAuC,EAAvCA,uCAXc;AAYdC,6CAAuC,EAAvCA,uCAZc;AAadK,0BAAoB,EAApBA,oBAbc;AAcdW,4BAAsB,EAAtBA,sBAdc;AAedO,8BAAwB,EAAxBA,wBAfc;AAgBdC,8BAAwB,EAAxBA,wBAhBc;AAiBdC,+BAAyB,EAAzBA,yBAjBc;AAkBdC,+BAAyB,EAAzBA,yBAlBc;AAmBdC,uBAAiB,EAAjBA,iBAnBc;AAoBdC,uBAAiB,EAAjBA,iBApBc;AAqBdC,uBAAiB,EAAjBA,iBArBc;AAsBdC,yBAAmB,EAAnBA,mBAtBc;AAuBdE,8BAAwB,EAAxBA,wBAvBc;AAwBdI,8BAAwB,EAAxBA;AAxBc,KAFX;AA4BLE,yBAAqB,EAArBA;AA5BK,GAAP;AA8BD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC77BD;;;;;;;;AASA;AAmBA;AAWA;AACA;AAKA;AAOA;AAcA;AACA;AAMA;AAoBA;AACA;AACA;AACA;AACA;AACA;;AAuCA,SAASa,aAAT,CAAuB3D,KAAvB,EAA6C;AAC3C;AACA,SAAOA,KAAK,CAAC4D,KAAN,KAAgBroB,SAAhB,GAA4BykB,KAAK,CAAC4D,KAAlC,GAA2C5D,KAAD,CAAa6D,SAA9D;AACD,C,CAED;;;AACA,IAAM7G,uBAAc,GAClB;AACA,QAAOP,WAAP,iDAAOA,WAAP,OAAuB,QAAvB,IAAmC,OAAOA,WAAW,CAACtF,GAAnB,KAA2B,UAA9D,GACI;AAAA,SAAMsF,WAAW,CAACtF,GAAZ,EAAN;AAAA,CADJ,GAEI;AAAA,SAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAJN;AAMO,SAAStI,yBAAT,CAAmC9F,OAAnC,EAML;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAI+a,mBAA4C,GAAG;AACjDC,qBAAiB,EAAE,EAD8B;AAEjDC,wBAAoB,EAAE,EAF2B;AAGjDC,kBAAc,EAAE,EAHiC;AAIjDC,eAAW,EAAE,EAJoC;AAKjDC,gBAAY,EAAE,EALmC;AAMjDC,cAAU,EAAE;AANqC,GAAnD;;AASA,MAAIjY,mCAAE,CAACpD,OAAD,EAAU,QAAV,CAAN,EAA2B;AACzB+a,uBAAmB,GAAG;AACpBC,uBAAiB,EAAE,CADC;AAEpBC,0BAAoB,EAAE,CAFF;AAGpBC,oBAAc,EAAE,CAHI;AAIpBC,iBAAW,EAAE,CAJO;AAKpBC,kBAAY,EAAE,CALM;AAMpBC,gBAAU,EAAE;AANQ,KAAtB;AAQD;;AAED,MAAIC,cAAc,GAAG,CAArB;;AACA,MAAIrb,oCAAG,CAACD,OAAD,EAAU,cAAV,CAAP,EAAkC;AAChC;AACAsb,kBAAc,GAAG,EAAjB;AACD,GAHD,MAGO,IAAIrb,oCAAG,CAACD,OAAD,EAAU,QAAV,CAAP,EAA4B;AACjC;AACAsb,kBAAc,GAAG,CAAjB;AACD,GAHM,MAGA,IAAIrb,oCAAG,CAACD,OAAD,EAAU,QAAV,CAAP,EAA4B;AACjC;AACAsb,kBAAc,GAAG,CAAjB;AACD;;AAED,MAAIvV,eAA2B,GAAK,IAApC,CAxCA,CA0CA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAI3C,mCAAE,CAACpD,OAAD,EAAU,QAAV,CAAN,EAA2B;AACzB+F,mBAAe,GAAG;AAChBwV,oBAAc,EAAE,EADA;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhBlhB,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhBkhB,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjCnhB,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhBmhB,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,mBAAa,EAAE,EAdC;AAcG;AACnBC,mBAAa,EAAE,EAfC;AAeG;AACnBC,cAAQ,EAAE,CAhBM;AAiBhBC,8BAAwB,EAAE,EAjBV;AAkBhBC,4BAAsB,EAAE,CAlBR;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,2BAAqB,EAAE,EApBP;AAqBhBC,mBAAa,EAAE,EArBC;AAsBhBC,UAAI,EAAE,CAtBU;AAuBhBC,wBAAkB,EAAE,EAvBJ;AAuBQ;AACxB5hB,cAAQ,EAAE,EAxBM;AAyBhB6hB,oBAAc,EAAE,EAzBA;AAyBI;AACpBC,yBAAmB,EAAE,EA1BL;AA2BhBC,uBAAiB,EAAE,EA3BH;AA4BhBC,2BAAqB,EAAE,EA5BP;AA4BW;AAC3BC,4BAAsB,EAAE,EA7BR;AA6BY;AAC5B;AACAC,oBAAc,EAAE,CAAC,CA/BD,CA+BI;;AA/BJ,KAAlB;AAiCD,GAlCD,MAkCO,IAAI9c,oCAAG,CAACD,OAAD,EAAU,cAAV,CAAP,EAAkC;AACvC+F,mBAAe,GAAG;AAChBwV,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhBlhB,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhBkhB,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjCnhB,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhBmhB,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,mBAAa,EAAE,CAAC,CAdA;AAcG;AACnBC,mBAAa,EAAE,CAAC,CAfA;AAeG;AACnBC,cAAQ,EAAE,CAhBM;AAiBhBC,8BAAwB,EAAE,EAjBV;AAkBhBC,4BAAsB,EAAE,CAlBR;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,2BAAqB,EAAE,EApBP;AAqBhBC,mBAAa,EAAE,EArBC;AAsBhBC,UAAI,EAAE,CAtBU;AAuBhBC,wBAAkB,EAAE,EAvBJ;AAuBQ;AACxB5hB,cAAQ,EAAE,EAxBM;AAyBhB6hB,oBAAc,EAAE,EAzBA;AAyBI;AACpBC,yBAAmB,EAAE,EA1BL;AA2BhBC,uBAAiB,EAAE,EA3BH;AA4BhBC,2BAAqB,EAAE,EA5BP;AA4BW;AAC3BC,4BAAsB,EAAE,CAAC,CA7BT;AA6BY;AAC5BC,oBAAc,EAAE,CAAC,CA9BD,CA8BI;;AA9BJ,KAAlB;AAgCD,GAjCM,MAiCA,IAAI9c,oCAAG,CAACD,OAAD,EAAU,eAAV,CAAP,EAAmC;AACxC+F,mBAAe,GAAG;AAChBwV,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhBlhB,qBAAe,EAAE,CAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhBkhB,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,EAPb;AAOiB;AACjCnhB,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhBmhB,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,mBAAa,EAAE,CAAC,CAdA;AAcG;AACnBC,mBAAa,EAAE,CAAC,CAfA;AAeG;AACnBC,cAAQ,EAAE,CAhBM;AAiBhBC,8BAAwB,EAAE,EAjBV;AAkBhBC,4BAAsB,EAAE,CAlBR;AAmBhBC,mBAAa,EAAE,EAnBC;AAoBhBC,2BAAqB,EAAE,CAAC,CApBR;AAqBhBC,mBAAa,EAAE,EArBC;AAsBhBC,UAAI,EAAE,CAtBU;AAuBhBC,wBAAkB,EAAE,CAAC,CAvBL;AAuBQ;AACxB5hB,cAAQ,EAAE,EAxBM;AAyBhB6hB,oBAAc,EAAE,CAAC,CAzBD;AAyBI;AACpBC,yBAAmB,EAAE,EA1BL;AA2BhBC,uBAAiB,EAAE,EA3BH;AA4BhBC,2BAAqB,EAAE,EA5BP;AA4BW;AAC3BC,4BAAsB,EAAE,CAAC,CA7BT;AA6BY;AAC5BC,oBAAc,EAAE,CAAC,CA9BD,CA8BI;;AA9BJ,KAAlB;AAgCD,GAjCM,MAiCA,IAAI9c,oCAAG,CAACD,OAAD,EAAU,cAAV,CAAP,EAAkC;AACvC+F,mBAAe,GAAG;AAChBwV,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhBlhB,qBAAe,EAAE,EAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhBkhB,wBAAkB,EAAE,CAAC,CALL;AAKQ;AACxBC,2BAAqB,EAAE,CAAC,CANR;AAMW;AAC3BC,iCAA2B,EAAE,CAAC,CAPd;AAOiB;AACjCnhB,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,CATM;AAUhBmhB,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,mBAAa,EAAE,CAAC,CAdA;AAcG;AACnBC,mBAAa,EAAE,CAAC,CAfA;AAeG;AACnBC,cAAQ,EAAE,CAhBM;AAiBhBC,8BAAwB,EAAE,CAAC,CAjBX;AAiBc;AAC9BC,4BAAsB,EAAE,CAlBR;AAmBhBC,mBAAa,EAAE,CAAC,CAnBA;AAmBG;AACnBC,2BAAqB,EAAE,CAAC,CApBR;AAqBhBC,mBAAa,EAAE,CAAC,CArBA;AAqBG;AACnBC,UAAI,EAAE,EAtBU;AAuBhBC,wBAAkB,EAAE,CAAC,CAvBL;AAuBQ;AACxB5hB,cAAQ,EAAE,EAxBM;AAyBhB6hB,oBAAc,EAAE,CAAC,CAzBD;AAyBI;AACpBC,yBAAmB,EAAE,CAAC,CA1BN;AA0BS;AACzBC,uBAAiB,EAAE,EA3BH;AA4BhBC,2BAAqB,EAAE,CAAC,CA5BR;AA4BW;AAC3BC,4BAAsB,EAAE,CAAC,CA7BT;AA6BY;AAC5BC,oBAAc,EAAE,CAAC,CA9BD,CA8BI;;AA9BJ,KAAlB;AAgCD,GAjCM,MAiCA;AACLhX,mBAAe,GAAG;AAChBwV,oBAAc,EAAE,CAAC,CADD;AACI;AACpBC,oBAAc,EAAE,CAFA;AAGhBlhB,qBAAe,EAAE,EAHD;AAIhBC,qBAAe,EAAE,EAJD;AAKhBkhB,wBAAkB,EAAE,CALJ;AAMhBC,2BAAqB,EAAE,CANP;AAOhBC,iCAA2B,EAAE,CAAC,CAPd;AAOiB;AACjCnhB,gBAAU,EAAE,EARI;AAShBC,cAAQ,EAAE,EATM;AAUhBmhB,uBAAiB,EAAE,CAVH;AAWhBC,mBAAa,EAAE,CAXC;AAYhBC,gBAAU,EAAE,CAZI;AAahBC,cAAQ,EAAE,CAbM;AAchBC,mBAAa,EAAE,CAAC,CAdA;AAcG;AACnBC,mBAAa,EAAE,CAAC,CAfA;AAeG;AACnBC,cAAQ,EAAE,CAhBM;AAiBhBC,8BAAwB,EAAE,CAAC,CAjBX;AAiBc;AAC9BC,4BAAsB,EAAE,CAlBR;AAmBhBC,mBAAa,EAAE,CAAC,CAnBA;AAmBG;AACnBC,2BAAqB,EAAE,CAAC,CApBR;AAqBhBC,mBAAa,EAAE,CAAC,CArBA;AAqBG;AACnBC,UAAI,EAAE,EAtBU;AAuBhBC,wBAAkB,EAAE,CAAC,CAvBL;AAuBQ;AACxB5hB,cAAQ,EAAE,EAxBM;AAyBhB6hB,oBAAc,EAAE,CAAC,CAzBD;AAyBI;AACpBC,yBAAmB,EAAE,CAAC,CA1BN;AA0BS;AACzBC,uBAAiB,EAAE,EA3BH;AA4BhBC,2BAAqB,EAAE,CAAC,CA5BR;AA4BW;AAC3BC,4BAAsB,EAAE,CAAC,CA7BT;AA6BY;AAC5BC,oBAAc,EAAE;AA9BA,KAAlB;AAgCD,GAtND,CAuNA;AACA;AACA;;;AAEA,WAASC,aAAT,CAAuB5rB,IAAvB,EAAmD;AACjD,QAAM6rB,cAAc,GAClB,gBAAO7rB,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAArC,GAA4CA,IAAI,CAAC8rB,QAAjD,GAA4D9rB,IAD9D;AAGA,WAAO,gBAAO6rB,cAAP,MAA0B,QAA1B,GACH;AACAA,kBAAc,CAACntB,QAAf,EAFG,GAGHmtB,cAHJ;AAID;;AAnOD,yBA6PIlX,eA7PJ;AAAA,MAsOEwV,cAtOF,oBAsOEA,cAtOF;AAAA,MAuOEC,cAvOF,oBAuOEA,cAvOF;AAAA,MAwOEW,wBAxOF,oBAwOEA,wBAxOF;AAAA,MAyOEP,iBAzOF,oBAyOEA,iBAzOF;AAAA,MA0OEQ,sBA1OF,oBA0OEA,sBA1OF;AAAA,MA2OE5hB,UA3OF,oBA2OEA,UA3OF;AAAA,MA4OEuhB,QA5OF,oBA4OEA,QA5OF;AAAA,MA6OEC,aA7OF,oBA6OEA,aA7OF;AAAA,MA8OEC,aA9OF,oBA8OEA,aA9OF;AAAA,MA+OEJ,aA/OF,oBA+OEA,aA/OF;AAAA,MAgPEC,UAhPF,oBAgPEA,UAhPF;AAAA,MAiPEI,QAjPF,oBAiPEA,QAjPF;AAAA,MAkPEzhB,QAlPF,oBAkPEA,QAlPF;AAAA,MAmPE4hB,aAnPF,oBAmPEA,aAnPF;AAAA,MAoPEC,qBApPF,oBAoPEA,qBApPF;AAAA,MAqPEC,aArPF,oBAqPEA,aArPF;AAAA,MAsPEE,kBAtPF,oBAsPEA,kBAtPF;AAAA,MAuPE5hB,QAvPF,oBAuPEA,QAvPF;AAAA,MAwPE6hB,cAxPF,oBAwPEA,cAxPF;AAAA,MAyPEC,mBAzPF,oBAyPEA,mBAzPF;AAAA,MA0PEC,iBA1PF,oBA0PEA,iBA1PF;AAAA,MA2PEC,qBA3PF,oBA2PEA,qBA3PF;AAAA,MA4PEC,sBA5PF,oBA4PEA,sBA5PF;;AA+PA,WAASK,gBAAT,CAA0B/rB,IAA1B,EAAiD;AAC/C,QAAMgsB,UAAU,GAAGJ,aAAa,CAAC5rB,IAAD,CAAhC;;AACA,YAAQgsB,UAAR;AACE,WAAKve,mCAAL;AACA,WAAKC,0CAAL;AACE;AACA,eAAOqe,gBAAgB,CAAC/rB,IAAI,CAACA,IAAN,CAAvB;;AACF,WAAKmN,0CAAL;AACA,WAAKC,iDAAL;AACE,eAAOpN,IAAI,CAACisB,MAAZ;;AACF;AACE,eAAOjsB,IAAP;AATJ;AAWD,GA5QD,CA8QA;;;AACA,WAASijB,sBAAT,CAAgC4C,KAAhC,EAA6D;AAAA,QACpD7c,WADoD,GAC1B6c,KAD0B,CACpD7c,WADoD;AAAA,QACvChJ,IADuC,GAC1B6lB,KAD0B,CACvC7lB,IADuC;AAAA,QACjCksB,GADiC,GAC1BrG,KAD0B,CACjCqG,GADiC;AAG3D,QAAIC,YAAY,GAAGnsB,IAAnB;;AACA,QAAI,gBAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;AAC7CmsB,kBAAY,GAAGJ,gBAAgB,CAAC/rB,IAAD,CAA/B;AACD;;AAED,QAAIosB,eAAoB,GAAG,IAA3B;;AAEA,YAAQF,GAAR;AACE,WAAK/B,cAAL;AACE,eAAO,OAAP;;AACF,WAAKC,cAAL;AACA,WAAKW,wBAAL;AACE,eAAOhrB,uCAAc,CAACosB,YAAD,CAArB;;AACF,WAAK3B,iBAAL;AACA,WAAKQ,sBAAL;AACE,eAAOjrB,uCAAc,CAACosB,YAAD,CAArB;;AACF,WAAK/iB,UAAL;AACE,eAAO3J,8CAAqB,CAC1BuJ,WAD0B,EAE1BmjB,YAF0B,EAG1B,YAH0B,EAI1B,WAJ0B,CAA5B;;AAMF,WAAKxB,QAAL;AACE,YAAM0B,SAAS,GAAGxG,KAAK,CAAC3V,SAAxB;;AACA,YAAImc,SAAS,IAAI,IAAb,IAAqBA,SAAS,CAACC,cAAV,KAA6B,IAAtD,EAA4D;AAC1D,iBAAOD,SAAS,CAACC,cAAjB;AACD;;AACD,eAAO,IAAP;;AACF,WAAK7B,aAAL;AACA,WAAKI,aAAL;AACA,WAAKD,aAAL;AACE,eAAO5qB,IAAP;;AACF,WAAK0qB,UAAL;AACA,WAAKI,QAAL;AACE,eAAO,IAAP;;AACF,WAAKzhB,QAAL;AACE,eAAO,UAAP;;AACF,WAAK4hB,aAAL;AACE;AACA;AACA;AACA,eAAO,MAAP;;AACF,WAAKE,aAAL;AACA,WAAKI,mBAAL;AACE;AACA,eAAO9rB,8CAAqB,CAC1BuJ,WAD0B,EAE1BmjB,YAF0B,EAG1B,MAH0B,EAI1B,WAJ0B,CAA5B;;AAMF,WAAKX,iBAAL;AACE,eAAO,UAAP;;AACF,WAAKN,qBAAL;AACE,eAAO,cAAP;;AACF,WAAKG,kBAAL;AACE,eAAO,WAAP;;AACF,WAAKC,cAAL;AACE,eAAO,OAAP;;AACF,WAAKG,qBAAL;AACE,eAAO,cAAP;;AACF,WAAKhiB,QAAL;AACE,eAAO,UAAP;;AACF,WAAKiiB,sBAAL;AACE,eAAO,eAAP;;AACF;AACE,YAAMM,UAAU,GAAGJ,aAAa,CAAC5rB,IAAD,CAAhC;;AAEA,gBAAQgsB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKI,2DAAL;AACE,mBAAO,IAAP;;AACF,eAAKiB,uCAAL;AACA,eAAKC,8CAAL;AACE;AACA;AACA;AACAoe,2BAAe,GAAGvG,KAAK,CAAC7lB,IAAN,CAAWusB,QAAX,IAAuB1G,KAAK,CAAC7lB,IAAN,CAAWwsB,OAApD;AACA,6BAAUJ,eAAe,CAACtsB,WAAhB,IAA+B,SAAzC;;AACF,eAAK6M,sCAAL;AACA,eAAKC,6CAAL;AACA,eAAKC,oDAAL;AACE;AACA;AACA;AACAuf,2BAAe,GAAGvG,KAAK,CAAC7lB,IAAN,CAAWusB,QAAX,IAAuB1G,KAAK,CAAC7lB,IAA/C,CAJF,CAME;AACA;;AACA,6BAAUosB,eAAe,CAACtsB,WAAhB,IAA+B,SAAzC;;AACF,eAAKqO,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAO,IAAP;;AACF,eAAKP,uCAAL;AACA,eAAKC,8CAAL;AACE,sCAAmB+X,KAAK,CAAC4G,aAAN,CAAoBnqB,EAAvC;;AACF,eAAK2L,oCAAL;AACA,eAAKC,2CAAL;AACE,mBAAO,OAAP;;AACF;AACE;AACA;AACA,mBAAO,IAAP;AAnCJ;;AA9DJ;AAoGD;;AAED,SAAO;AACL+U,0BAAsB,EAAtBA,sBADK;AAEL2I,iBAAa,EAAbA,aAFK;AAGLjC,uBAAmB,EAAnBA,mBAHK;AAILhV,mBAAe,EAAfA,eAJK;AAKLuV,kBAAc,EAAdA;AALK,GAAP;AAOD,C,CAED;AACA;AACA;AACA;;AACA,IAAMwC,YAAgC,GAAG,IAAI9Y,GAAJ,EAAzC,C,CAEA;AACA;AACA;;AACA,IAAM+Y,qBAAyC,GAAG,IAAI/Y,GAAJ,EAAlD;AAEO,SAASgZ,MAAT,CACLC,IADK,EAELlrB,UAFK,EAGL0S,QAHK,EAILJ,MAJK,EAKc;AACnB;AACA;AACA;AACA;AACA,MAAMrF,OAAO,GAAGyF,QAAQ,CAACyY,iBAAT,IAA8BzY,QAAQ,CAACzF,OAAvD;;AALmB,8BAaf8F,yBAAyB,CAAC9F,OAAD,CAbV;AAAA,MAQjBqU,sBARiB,yBAQjBA,sBARiB;AAAA,MASjB2I,aATiB,yBASjBA,aATiB;AAAA,MAUjBjC,mBAViB,yBAUjBA,mBAViB;AAAA,MAWjBhV,eAXiB,yBAWjBA,eAXiB;AAAA,MAYjBuV,cAZiB,yBAYjBA,cAZiB;;AAAA,MAejBC,cAfiB,GAqCfxV,eArCe,CAejBwV,cAfiB;AAAA,MAgBjBC,cAhBiB,GAqCfzV,eArCe,CAgBjByV,cAhBiB;AAAA,MAiBjBlhB,eAjBiB,GAqCfyL,eArCe,CAiBjBzL,eAjBiB;AAAA,MAkBjBqhB,2BAlBiB,GAqCf5V,eArCe,CAkBjB4V,2BAlBiB;AAAA,MAmBjBnhB,UAnBiB,GAqCfuL,eArCe,CAmBjBvL,UAnBiB;AAAA,MAoBjBC,QApBiB,GAqCfsL,eArCe,CAoBjBtL,QApBiB;AAAA,MAqBjBmhB,iBArBiB,GAqCf7V,eArCe,CAqBjB6V,iBArBiB;AAAA,MAsBjBG,QAtBiB,GAqCfhW,eArCe,CAsBjBgW,QAtBiB;AAAA,MAuBjBC,aAvBiB,GAqCfjW,eArCe,CAuBjBiW,aAvBiB;AAAA,MAwBjBC,aAxBiB,GAqCflW,eArCe,CAwBjBkW,aAxBiB;AAAA,MAyBjBH,UAzBiB,GAqCf/V,eArCe,CAyBjB+V,UAzBiB;AAAA,MA0BjBD,aA1BiB,GAqCf9V,eArCe,CA0BjB8V,aA1BiB;AAAA,MA2BjBK,QA3BiB,GAqCfnW,eArCe,CA2BjBmW,QA3BiB;AAAA,MA4BjBC,wBA5BiB,GAqCfpW,eArCe,CA4BjBoW,wBA5BiB;AAAA,MA6BjBC,sBA7BiB,GAqCfrW,eArCe,CA6BjBqW,sBA7BiB;AAAA,MA8BjBE,qBA9BiB,GAqCfvW,eArCe,CA8BjBuW,qBA9BiB;AAAA,MA+BjBC,aA/BiB,GAqCfxW,eArCe,CA+BjBwW,aA/BiB;AAAA,MAgCjBE,kBAhCiB,GAqCf1W,eArCe,CAgCjB0W,kBAhCiB;AAAA,MAiCjBE,mBAjCiB,GAqCf5W,eArCe,CAiCjB4W,mBAjCiB;AAAA,MAkCjBC,iBAlCiB,GAqCf7W,eArCe,CAkCjB6W,iBAlCiB;AAAA,MAmCjBC,qBAnCiB,GAqCf9W,eArCe,CAmCjB8W,qBAnCiB;AAAA,MAoCjBC,sBApCiB,GAqCf/W,eArCe,CAoCjB+W,sBApCiB;AAAA,MAuCjB9B,iBAvCiB,GA6CfD,mBA7Ce,CAuCjBC,iBAvCiB;AAAA,MAwCjBC,oBAxCiB,GA6CfF,mBA7Ce,CAwCjBE,oBAxCiB;AAAA,MAyCjBC,cAzCiB,GA6CfH,mBA7Ce,CAyCjBG,cAzCiB;AAAA,MA0CjBC,WA1CiB,GA6CfJ,mBA7Ce,CA0CjBI,WA1CiB;AAAA,MA2CjBC,YA3CiB,GA6CfL,mBA7Ce,CA2CjBK,YA3CiB;AAAA,MA4CjBC,UA5CiB,GA6CfN,mBA7Ce,CA4CjBM,UA5CiB;AAAA,MAgDjB9G,eAhDiB,GA4Df9O,QA5De,CAgDjB8O,eAhDiB;AAAA,MAiDjB4J,oBAjDiB,GA4Df1Y,QA5De,CAiDjB0Y,oBAjDiB;AAAA,MAkDjBC,iBAlDiB,GA4Df3Y,QA5De,CAkDjB2Y,iBAlDiB;AAAA,MAmDjBC,2BAnDiB,GA4Df5Y,QA5De,CAmDjB4Y,2BAnDiB;AAAA,MAoDjBC,2BApDiB,GA4Df7Y,QA5De,CAoDjB6Y,2BApDiB;AAAA,MAqDjBC,aArDiB,GA4Df9Y,QA5De,CAqDjB8Y,aArDiB;AAAA,MAsDjBC,uBAtDiB,GA4Df/Y,QA5De,CAsDjB+Y,uBAtDiB;AAAA,MAuDjBC,uBAvDiB,GA4DfhZ,QA5De,CAuDjBgZ,uBAvDiB;AAAA,MAwDjBC,eAxDiB,GA4DfjZ,QA5De,CAwDjBiZ,eAxDiB;AAAA,MAyDjBC,eAzDiB,GA4DflZ,QA5De,CAyDjBkZ,eAzDiB;AAAA,MA0DjBC,kBA1DiB,GA4DfnZ,QA5De,CA0DjBmZ,kBA1DiB;AAAA,MA2DjBC,cA3DiB,GA4DfpZ,QA5De,CA2DjBoZ,cA3DiB;AA6DnB,MAAMC,qBAAqB,GACzB,OAAOH,eAAP,KAA2B,UAA3B,IACA,OAAOE,cAAP,KAA0B,UAF5B;AAGA,MAAME,wBAAwB,GAC5B,OAAOH,kBAAP,KAA8B,UAA9B,IACA,OAAOC,cAAP,KAA0B,UAF5B;;AAIA,MAAI,OAAOH,eAAP,KAA2B,UAA/B,EAA2C;AACzC;AACA;AACA;AACA;AACA;AACA;AACAjZ,YAAQ,CAACiZ,eAAT,GAA2B,YAAa;AACtC,UAAI;AACFT,YAAI,CAACxR,IAAL,CAAU,sBAAV;AACD,OAFD,SAEU;AACR,eAAOiS,eAAe,MAAf,mBAAP;AACD;AACF,KAND;AAOD;;AAED,MAAIpJ,eAAuC,GAAG,IAA9C;AACA,MAAIyE,qBAAmD,GAAG,IAA1D;;AACA,MAAI,OAAOoE,oBAAP,KAAgC,UAApC,EAAgD;AAC9C,QAAMa,QAAQ,GAAG5K,oBAAoB,CAAC;AACpCC,4BAAsB,EAAtBA,sBADoC;AAEpCC,oBAAc,EAAE;AAAA,eAAMQ,WAAN;AAAA,OAFoB;AAGpCP,qBAAe,EAAfA,eAHoC;AAIpC5O,0BAAoB,EAAEF,QAAQ,CAACE,oBAJK;AAKpCK,gBAAU,EAAED,eALwB;AAMpCyO,kBAAY,EAAExU;AANsB,KAAD,CAArC,CAD8C,CAU9C;;AACAme,wBAAoB,CAACa,QAAQ,CAACrE,cAAV,CAApB,CAX8C,CAa9C;;AACArF,mBAAe,GAAG0J,QAAQ,CAAC1J,eAA3B;AACAyE,yBAAqB,GAAGiF,QAAQ,CAACjF,qBAAjC;AACD,GAtGkB,CAwGnB;AACA;AACA;AACA;AACA;;;AACA,MAAMkF,qCAAiD,GAAG,IAAI/uB,GAAJ,EAA1D;AACA,MAAMgvB,uBAAwD,GAAG,IAAIla,GAAJ,EAAjE;AACA,MAAMma,yBAA0D,GAAG,IAAIna,GAAJ,EAAnE,CA/GmB,CAiHnB;;AACA,MAAMoa,kBAAoD,GAAG,IAAIpa,GAAJ,EAA7D;AACA,MAAMqa,oBAAsD,GAAG,IAAIra,GAAJ,EAA/D;;AAEA,WAASsa,sBAAT,GAAkC;AAChC;AADgC,+CAEfF,kBAAkB,CAACnvB,IAAnB,EAFe;AAAA;;AAAA;AAEhC,0DAA4C;AAAA,YAAjCyD,EAAiC;;AAC1C,YAAMujB,MAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,YAAIujB,MAAK,IAAI,IAAb,EAAmB;AACjBgI,+CAAqC,CAACtuB,GAAtC,CAA0CsmB,MAA1C;AACAsI,uDAA6C,CAAC7rB,EAAD,CAA7C;AACD;AACF,OAR+B,CAUhC;;AAVgC;AAAA;AAAA;AAAA;AAAA;;AAAA,gDAWf2rB,oBAAoB,CAACpvB,IAArB,EAXe;AAAA;;AAAA;AAWhC,6DAA8C;AAAA,YAAnCyD,GAAmC;;AAC5C,YAAMujB,OAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,GAA1B,CAAd;;AACA,YAAIujB,OAAK,IAAI,IAAb,EAAmB;AACjBgI,+CAAqC,CAACtuB,GAAtC,CAA0CsmB,OAA1C;AACAsI,uDAA6C,CAAC7rB,GAAD,CAA7C;AACD;AACF;AAjB+B;AAAA;AAAA;AAAA;AAAA;;AAmBhC0rB,sBAAkB,CAAC1E,KAAnB;AACA2E,wBAAoB,CAAC3E,KAArB;AAEA8E,sBAAkB;AACnB;;AAED,WAASC,uBAAT,CACEC,OADF,EAEEC,6BAFF,EAGEC,wBAHF,EAIE;AACA,QAAM3I,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BouB,OAA1B,CAAd;;AACA,QAAIzI,KAAK,IAAI,IAAb,EAAmB;AACjB;AACAiI,6BAAuB,CAACW,MAAxB,CAA+B5I,KAA/B;;AAEA,UAAI2I,wBAAwB,CAACne,GAAzB,CAA6Bie,OAA7B,CAAJ,EAA2C;AACzCE,gCAAwB,CAACC,MAAzB,CAAgCH,OAAhC,EADyC,CAGzC;;AACAT,6CAAqC,CAACtuB,GAAtC,CAA0CsmB,KAA1C;AACAuI,0BAAkB;AAElBD,qDAA6C,CAACG,OAAD,CAA7C;AACD,OARD,MAQO;AACLT,6CAAqC,CAACY,MAAtC,CAA6C5I,KAA7C;AACD;AACF;AACF;;AAED,WAAS6I,qBAAT,CAA+BJ,OAA/B,EAAgD;AAC9CD,2BAAuB,CACrBC,OADqB,EAErBR,uBAFqB,EAGrBE,kBAHqB,CAAvB;AAKD;;AAED,WAASW,uBAAT,CAAiCL,OAAjC,EAAkD;AAChDD,2BAAuB,CACrBC,OADqB,EAErBP,yBAFqB,EAGrBE,oBAHqB,CAAvB;AAKD;;AAED,WAASE,6CAAT,CACEG,OADF,EAEQ;AACN,QACEM,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAACtsB,EAA7B,KAAoCgsB,OAFtC,EAGE;AACAO,yCAAmC,GAAG,IAAtC;AACD;AACF,GA/LkB,CAiMnB;;;AACA,WAASva,gBAAT,CACEuR,KADF,EAEE7lB,IAFF,EAGEiR,IAHF,EAIQ;AACN,QAAIjR,IAAI,KAAK,OAAb,EAAsB;AACpB,UAAM8uB,OAAO,GAAGC,gBAAgB,CAAClJ,KAAD,CAAhC,CADoB,CAEpB;;AACA,UAAIiJ,OAAO,IAAI,IAAX,IAAmBE,qBAAqB,CAAC9uB,GAAtB,CAA0B4uB,OAA1B,MAAuC,IAA9D,EAAoE;AAClE;AACD;AACF;;AACD,QAAMhI,OAAO,GAAG/V,+BAAM,MAAN,4BAAUE,IAAV,EAAhB;;AACA,QAAIpF,8BAAJ,EAAe;AACbojB,WAAK,CAAC,kBAAD,EAAqBpJ,KAArB,EAA4B,IAA5B,YAAqC7lB,IAArC,iBAA+C8mB,OAA/C,QAAL;AACD,KAXK,CAaN;;;AACA+G,yCAAqC,CAACtuB,GAAtC,CAA0CsmB,KAA1C,EAdM,CAgBN;;AACA,QAAMqJ,QAAQ,GACZlvB,IAAI,KAAK,OAAT,GAAmB8tB,uBAAnB,GAA6CC,yBAD/C;AAEA,QAAMoB,UAAU,GAAGD,QAAQ,CAAChvB,GAAT,CAAa2lB,KAAb,CAAnB;;AACA,QAAIsJ,UAAU,IAAI,IAAlB,EAAwB;AACtB,UAAMC,KAAK,GAAGD,UAAU,CAACjvB,GAAX,CAAe4mB,OAAf,KAA2B,CAAzC;AACAqI,gBAAU,CAAC/uB,GAAX,CAAe0mB,OAAf,EAAwBsI,KAAK,GAAG,CAAhC;AACD,KAHD,MAGO;AACLF,cAAQ,CAAC9uB,GAAT,CAAaylB,KAAb,EAAoB,IAAIjS,GAAJ,CAAQ,CAAC,CAACkT,OAAD,EAAU,CAAV,CAAD,CAAR,CAApB;AACD,KAzBK,CA2BN;AACA;AACA;AACA;AACA;AACA;;;AACAuI,2CAAuC;AACxC,GAxOkB,CA0OnB;AACA;AACA;;;AACAnY,qDAA2B,CAAC7C,QAAD,EAAWC,gBAAX,CAA3B,CA7OmB,CA+OnB;AACA;AACA;;AACAkC,kEAA6B;;AAE7B,MAAMyY,KAAK,GAAG,SAARA,KAAQ,CACZ9uB,IADY,EAEZ0lB,KAFY,EAGZyJ,WAHY,EAKH;AAAA,QADTC,WACS,uEADa,EACb;;AACT,QAAI1jB,8BAAJ,EAAe;AACb,UAAM/L,WAAW,GACf+lB,KAAK,CAACqG,GAAN,GAAY,GAAZ,IAAmBjJ,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,MAApD,CADF;AAGA,UAAMiJ,OAAO,GAAGC,gBAAgB,CAAClJ,KAAD,CAAhB,IAA2B,SAA3C;AACA,UAAM2J,iBAAiB,GAAGF,WAAW,GACjCA,WAAW,CAACpD,GAAZ,GACA,GADA,IAECjJ,sBAAsB,CAACqM,WAAD,CAAtB,IAAuC,MAFxC,CADiC,GAIjC,EAJJ;AAKA,UAAMG,aAAa,GAAGH,WAAW,GAC7BP,gBAAgB,CAACO,WAAD,CAAhB,IAAiC,SADJ,GAE7B,EAFJ;AAIA7rB,aAAO,CAACisB,cAAR,wBACkBvvB,IADlB,gBAC4BL,WAD5B,eAC4CgvB,OAD5C,iBAEIQ,WAAW,aAAME,iBAAN,eAA4BC,aAA5B,SAA+C,EAF9D,gBAGQF,WAHR,GAIE,gCAJF,EAKE,cALF,EAME,gBANF,EAOE,eAPF;AASA9rB,aAAO,CAACC,GAAR,CAAY,IAAIF,KAAJ,GAAYmsB,KAAZ,CAAkBC,KAAlB,CAAwB,IAAxB,EAA8BztB,KAA9B,CAAoC,CAApC,EAAuCgB,IAAvC,CAA4C,IAA5C,CAAZ;AACAM,aAAO,CAACosB,QAAR;AACD;AACF,GAhCD,CApPmB,CAsRnB;;;AACA,MAAMC,4BAAyC,GAAG,IAAIhxB,GAAJ,EAAlD;AACA,MAAMixB,qBAAkC,GAAG,IAAIjxB,GAAJ,EAA3C;AACA,MAAMkxB,qBAAuC,GAAG,IAAIlxB,GAAJ,EAAhD,CAzRmB,CA2RnB;;AACA,MAAImxB,mBAA4B,GAAG,KAAnC;AACA,MAAMC,oBAAqC,GAAG,IAAIpxB,GAAJ,EAA9C;;AAEA,WAASqxB,qBAAT,CAA+B3rB,gBAA/B,EAAyE;AACvEwrB,yBAAqB,CAAC1G,KAAtB;AACAwG,gCAA4B,CAACxG,KAA7B;AACAyG,yBAAqB,CAACzG,KAAtB;AAEA9kB,oBAAgB,CAACpF,OAAjB,CAAyB,UAAAgxB,eAAe,EAAI;AAC1C,UAAI,CAACA,eAAe,CAACrsB,SAArB,EAAgC;AAC9B;AACD;;AAED,cAAQqsB,eAAe,CAACpwB,IAAxB;AACE,aAAKuL,2CAAL;AACE,cAAI6kB,eAAe,CAACC,OAAhB,IAA2BD,eAAe,CAACvsB,KAAhB,KAA0B,EAAzD,EAA6D;AAC3DisB,wCAA4B,CAACvwB,GAA7B,CACE,IAAI+wB,MAAJ,CAAWF,eAAe,CAACvsB,KAA3B,EAAkC,GAAlC,CADF;AAGD;;AACD;;AACF,aAAKD,2CAAL;AACEosB,+BAAqB,CAACzwB,GAAtB,CAA0B6wB,eAAe,CAACvsB,KAA1C;AACA;;AACF,aAAK2H,wCAAL;AACE,cAAI4kB,eAAe,CAACC,OAAhB,IAA2BD,eAAe,CAACvsB,KAAhB,KAA0B,EAAzD,EAA6D;AAC3DksB,iCAAqB,CAACxwB,GAAtB,CAA0B,IAAI+wB,MAAJ,CAAWF,eAAe,CAACvsB,KAA3B,EAAkC,GAAlC,CAA1B;AACD;;AACD;;AACF,aAAK4H,mCAAL;AACEqkB,sCAA4B,CAACvwB,GAA7B,CAAiC,IAAI+wB,MAAJ,CAAW,KAAX,CAAjC;AACA;;AACF;AACE7sB,iBAAO,CAAC8sB,IAAR,2CACoCH,eAAe,CAACpwB,IADpD;AAGA;AAvBJ;AAyBD,KA9BD;AA+BD,GAnUkB,CAqUnB;AACA;AACA;;;AACA,MAAI4R,MAAM,CAAC4e,oCAAP,IAA+C,IAAnD,EAAyD;AACvDL,yBAAqB,CAACve,MAAM,CAAC4e,oCAAR,CAArB;AACD,GAFD,MAEO;AACL;AACA;AACA;AACA;AAEA;AACAL,yBAAqB,CAACxsB,mDAA0B,EAA3B,CAArB;AACD,GAlVkB,CAoVnB;AACA;AACA;AACA;;;AACA,WAAS8sB,sBAAT,CAAgCjsB,gBAAhC,EAA0E;AACxE,QAAIkf,WAAJ,EAAiB;AACf;AACA;AACA,YAAMlgB,KAAK,CAAC,kDAAD,CAAX;AACD,KALuE,CAOxE;;;AACAqpB,QAAI,CAAC6D,aAAL,CAAmB/uB,UAAnB,EAA+BvC,OAA/B,CAAuC,UAAA0Q,IAAI,EAAI;AAC7C6gB,mBAAa,GAAGC,oBAAoB,CAAC9gB,IAAI,CAAC/Q,OAAN,CAApC,CAD6C,CAE7C;AACA;AACA;;AACA8xB,mBAAa,CAAChuB,+CAAD,CAAb;AACAurB,wBAAkB,CAACte,IAAD,CAAlB;AACA6gB,mBAAa,GAAG,CAAC,CAAjB;AACD,KARD;AAUAR,yBAAqB,CAAC3rB,gBAAD,CAArB,CAlBwE,CAoBxE;;AACAssB,0BAAsB,CAACxH,KAAvB,GArBwE,CAuBxE;;AACAuD,QAAI,CAAC6D,aAAL,CAAmB/uB,UAAnB,EAA+BvC,OAA/B,CAAuC,UAAA0Q,IAAI,EAAI;AAC7C6gB,mBAAa,GAAGC,oBAAoB,CAAC9gB,IAAI,CAAC/Q,OAAN,CAApC;AACAgyB,sBAAgB,CAACJ,aAAD,EAAgB7gB,IAAI,CAAC/Q,OAArB,CAAhB;AACAiyB,2BAAqB,CAAClhB,IAAI,CAAC/Q,OAAN,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,CAArB;AACAqvB,wBAAkB,CAACte,IAAD,CAAlB;AACA6gB,mBAAa,GAAG,CAAC,CAAjB;AACD,KAND,EAxBwE,CAgCxE;;AACAM,+BAA2B;AAC3B7C,sBAAkB;AACnB,GA3XkB,CA6XnB;;;AACA,WAAS8C,iBAAT,CAA2BrL,KAA3B,EAAkD;AAAA,QACzCsL,YADyC,GACTtL,KADS,CACzCsL,YADyC;AAAA,QAC3BjF,GAD2B,GACTrG,KADS,CAC3BqG,GAD2B;AAAA,QACtBlsB,IADsB,GACT6lB,KADS,CACtB7lB,IADsB;AAAA,QAChBX,GADgB,GACTwmB,KADS,CAChBxmB,GADgB;;AAGhD,YAAQ6sB,GAAR;AACE,WAAK3B,2BAAL;AACE;AACA;AACA;AACA;AACA;AACA,eAAO,IAAP;;AACF,WAAKG,UAAL;AACA,WAAKI,QAAL;AACA,WAAKI,qBAAL;AACA,WAAKG,kBAAL;AACE,eAAO,IAAP;;AACF,WAAKV,QAAL;AACE;AACA,eAAO,KAAP;;AACF,WAAKthB,QAAL;AACE,eAAOhK,GAAG,KAAK,IAAf;;AACF;AACE,YAAM2sB,UAAU,GAAGJ,aAAa,CAAC5rB,IAAD,CAAhC;;AAEA,gBAAQgsB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKI,2DAAL;AACA,eAAKqB,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAO,IAAP;;AACF;AACE;AARJ;;AArBJ;;AAiCA,QAAMpF,WAAW,GAAGooB,sBAAsB,CAACvL,KAAD,CAA1C;;AACA,QAAImK,qBAAqB,CAAC3f,GAAtB,CAA0BrH,WAA1B,CAAJ,EAA4C;AAC1C,aAAO,IAAP;AACD;;AAED,QAAI8mB,4BAA4B,CAACplB,IAA7B,GAAoC,CAAxC,EAA2C;AACzC,UAAM5K,WAAW,GAAGmjB,sBAAsB,CAAC4C,KAAD,CAA1C;;AACA,UAAI/lB,WAAW,IAAI,IAAnB,EAAyB;AACvB;AADuB,oDAESgwB,4BAFT;AAAA;;AAAA;AAEvB,iEAA8D;AAAA,gBAAnDuB,iBAAmD;;AAC5D,gBAAIA,iBAAiB,CAACje,IAAlB,CAAuBtT,WAAvB,CAAJ,EAAyC;AACvC,qBAAO,IAAP;AACD;AACF;AANsB;AAAA;AAAA;AAAA;AAAA;AAOxB;AACF;;AAED,QAAIqxB,YAAY,IAAI,IAAhB,IAAwBpB,qBAAqB,CAACrlB,IAAtB,GAA6B,CAAzD,EAA4D;AAAA,UACnD4mB,QADmD,GACvCH,YADuC,CACnDG,QADmD,EAE1D;;AAF0D,kDAGjCvB,qBAHiC;AAAA;;AAAA;AAG1D,+DAAgD;AAAA,cAArCwB,UAAqC;;AAC9C,cAAIA,UAAU,CAACne,IAAX,CAAgBke,QAAhB,CAAJ,EAA+B;AAC7B,mBAAO,IAAP;AACD;AACF;AAPyD;AAAA;AAAA;AAAA;AAAA;AAQ3D;;AAED,WAAO,KAAP;AACD,GA9bkB,CAgcnB;;;AACA,WAASF,sBAAT,CAAgCvL,KAAhC,EAA2D;AAAA,QAClD7lB,IADkD,GACrC6lB,KADqC,CAClD7lB,IADkD;AAAA,QAC5CksB,GAD4C,GACrCrG,KADqC,CAC5CqG,GAD4C;;AAGzD,YAAQA,GAAR;AACE,WAAK9B,cAAL;AACA,WAAKW,wBAAL;AACE,eAAO/kB,iCAAP;;AACF,WAAKwkB,iBAAL;AACA,WAAKQ,sBAAL;AACE,eAAO9kB,oCAAP;;AACF,WAAKkD,UAAL;AACE,eAAOnD,sCAAP;;AACF,WAAK0kB,QAAL;AACE,eAAOpoB,gCAAP;;AACF,WAAKkoB,aAAL;AACA,WAAKG,aAAL;AACA,WAAKC,aAAL;AACE,eAAO/mB,yCAAP;;AACF,WAAK4mB,UAAL;AACA,WAAKI,QAAL;AACA,WAAKzhB,QAAL;AACE,eAAO6B,0CAAP;;AACF,WAAKigB,aAAL;AACA,WAAKI,mBAAL;AACE,eAAOplB,gCAAP;;AACF,WAAKqlB,iBAAL;AACE,eAAOpgB,oCAAP;;AACF,WAAKqgB,qBAAL;AACE,eAAOpgB,wCAAP;;AACF,WAAKqgB,sBAAL;AACE,eAAOpgB,yCAAP;;AACF;AACE,YAAM0gB,UAAU,GAAGJ,aAAa,CAAC5rB,IAAD,CAAhC;;AAEA,gBAAQgsB,UAAR;AACE,eAAKvf,8CAAL;AACA,eAAKC,qDAAL;AACA,eAAKI,2DAAL;AACE,mBAAO5B,0CAAP;;AACF,eAAK6C,uCAAL;AACA,eAAKC,8CAAL;AACE,mBAAO/C,mCAAP;;AACF,eAAK0B,sCAAL;AACA,eAAKC,6CAAL;AACE,mBAAO3B,mCAAP;;AACF,eAAKkD,0CAAL;AACA,eAAKC,iDAAL;AACE,mBAAOlD,0CAAP;;AACF,eAAK2C,uCAAL;AACA,eAAKC,8CAAL;AACE,mBAAO3C,oCAAP;;AACF;AACE,mBAAOD,0CAAP;AAlBJ;;AA/BJ;AAoDD,GAxfkB,CA0fnB;AACA;AACA;AACA;;;AACA,MAAMsmB,uBAA4C,GAAG,IAAI5d,GAAJ,EAArD,CA9fmB,CAggBnB;AACA;;AACA,MAAM6d,WAAgC,GAAG,IAAI7d,GAAJ,EAAzC,CAlgBmB,CAogBnB;;AACA,MAAI+c,aAAqB,GAAG,CAAC,CAA7B,CArgBmB,CAugBnB;AACA;;AACA,WAASC,oBAAT,CAA8B/K,KAA9B,EAAoD;AAClD,QAAIvjB,EAAE,GAAG,IAAT;;AACA,QAAIoqB,YAAY,CAACrc,GAAb,CAAiBwV,KAAjB,CAAJ,EAA6B;AAC3BvjB,QAAE,GAAGoqB,YAAY,CAACxsB,GAAb,CAAiB2lB,KAAjB,CAAL;AACD,KAFD,MAEO;AAAA,UACEgB,UADF,GACehB,KADf,CACEgB,SADF;;AAEL,UAAIA,UAAS,KAAK,IAAd,IAAsB6F,YAAY,CAACrc,GAAb,CAAiBwW,UAAjB,CAA1B,EAAuD;AACrDvkB,UAAE,GAAGoqB,YAAY,CAACxsB,GAAb,CAAiB2mB,UAAjB,CAAL;AACD;AACF;;AAED,QAAI6K,aAAa,GAAG,KAApB;;AACA,QAAIpvB,EAAE,KAAK,IAAX,EAAiB;AACfovB,mBAAa,GAAG,IAAhB;AACApvB,QAAE,GAAGhC,+BAAM,EAAX;AACD,KAfiD,CAiBlD;;;AACA,QAAMqxB,SAAS,GAAKrvB,EAApB,CAlBkD,CAoBlD;AACA;;AACA,QAAI,CAACoqB,YAAY,CAACrc,GAAb,CAAiBwV,KAAjB,CAAL,EAA8B;AAC5B6G,kBAAY,CAACtsB,GAAb,CAAiBylB,KAAjB,EAAwB8L,SAAxB;AACAhF,2BAAqB,CAACvsB,GAAtB,CAA0BuxB,SAA1B,EAAqC9L,KAArC;AACD,KAzBiD,CA2BlD;AACA;;;AA5BkD,QA6B3CgB,SA7B2C,GA6B9BhB,KA7B8B,CA6B3CgB,SA7B2C;;AA8BlD,QAAIA,SAAS,KAAK,IAAlB,EAAwB;AACtB,UAAI,CAAC6F,YAAY,CAACrc,GAAb,CAAiBwW,SAAjB,CAAL,EAAkC;AAChC6F,oBAAY,CAACtsB,GAAb,CAAiBymB,SAAjB,EAA4B8K,SAA5B;AACD;AACF;;AAED,QAAI9lB,8BAAJ,EAAe;AACb,UAAI6lB,aAAJ,EAAmB;AACjBzC,aAAK,CACH,wBADG,EAEHpJ,KAFG,EAGHA,KAAK,CAAC2C,MAHH,EAIH,qBAJG,CAAL;AAMD;AACF;;AAED,WAAOmJ,SAAP;AACD,GAzjBkB,CA2jBnB;;;AACA,WAASC,gBAAT,CAA0B/L,KAA1B,EAAgD;AAC9C,QAAMiJ,OAAO,GAAGC,gBAAgB,CAAClJ,KAAD,CAAhC;;AACA,QAAIiJ,OAAO,KAAK,IAAhB,EAAsB;AACpB,aAAOA,OAAP;AACD;;AACD,UAAMtrB,KAAK,yCACuByf,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,EADxD,QAAX;AAGD,GApkBkB,CAskBnB;AACA;;;AACA,WAASkJ,gBAAT,CAA0BlJ,KAA1B,EAAuD;AACrD,QAAI6G,YAAY,CAACrc,GAAb,CAAiBwV,KAAjB,CAAJ,EAA6B;AAC3B,aAAS6G,YAAY,CAACxsB,GAAb,CAAiB2lB,KAAjB,CAAT;AACD,KAFD,MAEO;AAAA,UACEgB,SADF,GACehB,KADf,CACEgB,SADF;;AAEL,UAAIA,SAAS,KAAK,IAAd,IAAsB6F,YAAY,CAACrc,GAAb,CAAiBwW,SAAjB,CAA1B,EAAuD;AACrD,eAAS6F,YAAY,CAACxsB,GAAb,CAAiB2mB,SAAjB,CAAT;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAllBkB,CAolBnB;AACA;;;AACA,WAASgL,cAAT,CAAwBhM,KAAxB,EAAsC;AACpC,QAAIha,8BAAJ,EAAe;AACbojB,WAAK,CAAC,kBAAD,EAAqBpJ,KAArB,EAA4BA,KAAK,CAAC2C,MAAlC,EAA0C,sBAA1C,CAAL;AACD,KAHmC,CAKpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAsJ,oBAAgB,CAACvyB,GAAjB,CAAqBsmB,KAArB,EApBoC,CAsBpC;AACA;;AACA,QAAMgB,SAAS,GAAGhB,KAAK,CAACgB,SAAxB;;AACA,QAAIA,SAAS,KAAK,IAAlB,EAAwB;AACtBiL,sBAAgB,CAACvyB,GAAjB,CAAqBsnB,SAArB;AACD;;AAED,QAAIkL,sBAAsB,KAAK,IAA/B,EAAqC;AACnCA,4BAAsB,GAAGlc,UAAU,CAACmc,aAAD,EAAgB,IAAhB,CAAnC;AACD;AACF;;AAED,MAAMF,gBAA4B,GAAG,IAAIhzB,GAAJ,EAArC;AACA,MAAIizB,sBAAwC,GAAG,IAA/C;;AAEA,WAASC,aAAT,GAAyB;AACvB,QAAID,sBAAsB,KAAK,IAA/B,EAAqC;AACnCvY,kBAAY,CAACuY,sBAAD,CAAZ;AACAA,4BAAsB,GAAG,IAAzB;AACD;;AAEDD,oBAAgB,CAAC1yB,OAAjB,CAAyB,UAAAymB,KAAK,EAAI;AAChC,UAAMyI,OAAO,GAAGS,gBAAgB,CAAClJ,KAAD,CAAhC;;AACA,UAAIyI,OAAO,KAAK,IAAhB,EAAsB;AACpB3B,6BAAqB,CAAC8B,MAAtB,CAA6BH,OAA7B,EADoB,CAGpB;;AACAI,6BAAqB,CAACJ,OAAD,CAArB;AACAK,+BAAuB,CAACL,OAAD,CAAvB;AACD;;AAED5B,kBAAY,CAAC+B,MAAb,CAAoB5I,KAApB;AAVgC,UAYzBgB,SAZyB,GAYZhB,KAZY,CAYzBgB,SAZyB;;AAahC,UAAIA,SAAS,KAAK,IAAlB,EAAwB;AACtB6F,oBAAY,CAAC+B,MAAb,CAAoB5H,SAApB;AACD;;AAED,UAAImI,qBAAqB,CAAC3e,GAAtB,CAA0Bie,OAA1B,CAAJ,EAAwC;AACtCU,6BAAqB,CAACP,MAAtB,CAA6BH,OAA7B;;AACA,YAAIU,qBAAqB,CAACtkB,IAAtB,KAA+B,CAA/B,IAAoC6iB,eAAe,IAAI,IAA3D,EAAiE;AAC/DA,yBAAe,CAAC0E,0BAAD,CAAf;AACD;AACF;AACF,KAvBD;AAwBAH,oBAAgB,CAACxI,KAAjB;AACD;;AAED,WAAS4I,oBAAT,CACEC,SADF,EAEEC,SAFF,EAG4B;AAC1B,YAAQhB,sBAAsB,CAACgB,SAAD,CAA9B;AACE,WAAKpsB,iCAAL;AACA,WAAKE,oCAAL;AACA,WAAKC,gCAAL;AACA,WAAKF,sCAAL;AACE,YAAIksB,SAAS,KAAK,IAAlB,EAAwB;AACtB,iBAAO;AACL3F,mBAAO,EAAE,IADJ;AAEL6F,0BAAc,EAAE,KAFX;AAGLC,wBAAY,EAAE,IAHT;AAILC,iBAAK,EAAE,IAJF;AAKLC,iBAAK,EAAE;AALF,WAAP;AAOD,SARD,MAQO;AACL,cAAMrqB,IAAuB,GAAG;AAC9BqkB,mBAAO,EAAEiG,qBAAqB,CAACL,SAAD,CADA;AAE9BC,0BAAc,EAAE,KAFc;AAG9BC,wBAAY,EAAE,KAHgB;AAI9BC,iBAAK,EAAEG,cAAc,CACnBP,SAAS,CAAC1F,aADS,EAEnB2F,SAAS,CAAC3F,aAFS,CAJS;AAQ9B+F,iBAAK,EAAEE,cAAc,CACnBP,SAAS,CAACQ,aADS,EAEnBP,SAAS,CAACO,aAFS;AARS,WAAhC,CADK,CAeL;;AACA,cAAMC,OAAO,GAAGC,sBAAsB,CACpCV,SAAS,CAACQ,aAD0B,EAEpCP,SAAS,CAACO,aAF0B,CAAtC;AAIAxqB,cAAI,CAAC2qB,KAAL,GAAaF,OAAb;AACAzqB,cAAI,CAACkqB,cAAL,GAAsBO,OAAO,KAAK,IAAZ,IAAoBA,OAAO,CAACjyB,MAAR,GAAiB,CAA3D;AAEA,iBAAOwH,IAAP;AACD;;AACH;AACE,eAAO,IAAP;AAvCJ;AAyCD;;AAED,WAAS4qB,sBAAT,CAAgClN,KAAhC,EAA8C;AAC5C,YAAQuL,sBAAsB,CAACvL,KAAD,CAA9B;AACE,WAAK7f,iCAAL;AACA,WAAKC,sCAAL;AACA,WAAKC,oCAAL;AACA,WAAKC,gCAAL;AACE,YAAI6sB,eAAe,KAAK,IAAxB,EAA8B;AAC5B,cAAM1wB,EAAE,GAAGsvB,gBAAgB,CAAC/L,KAAD,CAA3B;AACA,cAAMoN,QAAQ,GAAGC,mBAAmB,CAACrN,KAAD,CAApC;;AACA,cAAIoN,QAAQ,KAAK,IAAjB,EAAuB;AACrB;AACAD,2BAAe,CAAC5yB,GAAhB,CAAoBkC,EAApB,EAAwB2wB,QAAxB;AACD;AACF;;AACD;;AACF;AACE;AAfJ;AAiBD,GA7tBkB,CA+tBnB;;;AACA,MAAME,UAAU,GAAG,EAAnB;;AAEA,WAASD,mBAAT,CAA6BrN,KAA7B,EAAiE;AAC/D,QAAIuN,aAAa,GAAGD,UAApB;AACA,QAAIE,aAAa,GAAGF,UAApB;;AAEA,YAAQ/B,sBAAsB,CAACvL,KAAD,CAA9B;AACE,WAAK7f,iCAAL;AACE,YAAMstB,QAAQ,GAAGzN,KAAK,CAAC3V,SAAvB;;AACA,YAAIojB,QAAQ,IAAI,IAAhB,EAAsB;AACpB,cACEA,QAAQ,CAAC3qB,WAAT,IACA2qB,QAAQ,CAAC3qB,WAAT,CAAqB4qB,WAArB,IAAoC,IAFtC,EAGE;AACAF,yBAAa,GAAGC,QAAQ,CAAC9G,OAAzB;AACD,WALD,MAKO;AACL4G,yBAAa,GAAGE,QAAQ,CAAC9G,OAAzB;;AACA,gBAAI4G,aAAa,IAAIp1B,MAAM,CAACa,IAAP,CAAYu0B,aAAZ,EAA2BzyB,MAA3B,KAAsC,CAA3D,EAA8D;AAC5DyyB,2BAAa,GAAGD,UAAhB;AACD;AACF;AACF;;AACD,eAAO,CAACC,aAAD,EAAgBC,aAAhB,CAAP;;AACF,WAAKptB,sCAAL;AACA,WAAKC,oCAAL;AACA,WAAKC,gCAAL;AACE,YAAMqtB,YAAY,GAAG3N,KAAK,CAAC2N,YAA3B;;AACA,YAAIA,YAAY,IAAIA,YAAY,CAACC,YAAjC,EAA+C;AAC7CJ,uBAAa,GAAGG,YAAY,CAACC,YAA7B;AACD;;AAED,eAAO,CAACL,aAAD,EAAgBC,aAAhB,CAAP;;AACF;AACE,eAAO,IAAP;AA3BJ;AA6BD,GAnwBkB,CAqwBnB;AACA;AACA;;;AACA,WAASK,4BAAT,CAAsC7N,KAAtC,EAAoD;AAClD,QAAMvjB,EAAE,GAAGysB,gBAAgB,CAAClJ,KAAD,CAA3B,CADkD,CAGlD;AACA;AACA;;AACA,QAAIvjB,EAAE,KAAK,IAAX,EAAiB;AACfywB,4BAAsB,CAAClN,KAAD,CAAtB;AAEA,UAAI9mB,OAAO,GAAG8mB,KAAK,CAAC8N,KAApB;;AACA,aAAO50B,OAAO,KAAK,IAAnB,EAAyB;AACvB20B,oCAA4B,CAAC30B,OAAD,CAA5B;AACAA,eAAO,GAAGA,OAAO,CAAC60B,OAAlB;AACD;AACF;AACF;;AAED,WAASnB,qBAAT,CAA+B5M,KAA/B,EAA6E;AAC3E,QAAImN,eAAe,KAAK,IAAxB,EAA8B;AAC5B,UAAM1wB,EAAE,GAAGsvB,gBAAgB,CAAC/L,KAAD,CAA3B,CAD4B,CAE5B;;AACA,UAAMgO,YAAY,GAAGb,eAAe,CAAC3iB,GAAhB,CAAoB/N,EAApB,IACjB;AACA0wB,qBAAe,CAAC9yB,GAAhB,CAAoBoC,EAApB,CAFiB,GAGjB,IAHJ;AAIA,UAAMwxB,YAAY,GAAGZ,mBAAmB,CAACrN,KAAD,CAAxC;;AAEA,UAAIgO,YAAY,IAAI,IAAhB,IAAwBC,YAAY,IAAI,IAA5C,EAAkD;AAChD,eAAO,IAAP;AACD;;AAX2B,iDAamBD,YAbnB;AAAA,UAarBE,iBAbqB;AAAA,UAaFC,iBAbE;;AAAA,iDAcmBF,YAdnB;AAAA,UAcrBG,iBAdqB;AAAA,UAcFC,iBAdE;;AAgB5B,cAAQ9C,sBAAsB,CAACvL,KAAD,CAA9B;AACE,aAAK7f,iCAAL;AACE,cAAI6tB,YAAY,IAAIC,YAApB,EAAkC;AAChC,gBAAIG,iBAAiB,KAAKd,UAA1B,EAAsC;AACpC,qBAAOT,cAAc,CAACqB,iBAAD,EAAoBE,iBAApB,CAArB;AACD,aAFD,MAEO,IAAIC,iBAAiB,KAAKf,UAA1B,EAAsC;AAC3C,qBAAOa,iBAAiB,KAAKE,iBAA7B;AACD;AACF;;AACD;;AACF,aAAKjuB,sCAAL;AACA,aAAKC,oCAAL;AACA,aAAKC,gCAAL;AACE,cAAI+tB,iBAAiB,KAAKf,UAA1B,EAAsC;AACpC,gBAAIgB,WAAW,GAAGH,iBAAlB;AACA,gBAAII,WAAW,GAAGF,iBAAlB;;AAEA,mBAAOC,WAAW,IAAIC,WAAtB,EAAmC;AACjC;AACA;AACA;AACA;AACA,kBAAI,CAAC7U,eAAE,CAAC4U,WAAW,CAACE,aAAb,EAA4BD,WAAW,CAACC,aAAxC,CAAP,EAA+D;AAC7D,uBAAO,IAAP;AACD;;AAEDF,yBAAW,GAAGA,WAAW,CAACztB,IAA1B;AACA0tB,yBAAW,GAAGA,WAAW,CAAC1tB,IAA1B;AACD;;AAED,mBAAO,KAAP;AACD;;AACD;;AACF;AACE;AAlCJ;AAoCD;;AACD,WAAO,IAAP;AACD;;AAED,WAAS4tB,2BAAT,CAAqCC,UAArC,EAAsD;AACpD,QAAM1a,KAAK,GAAG0a,UAAU,CAAC1a,KAAzB;;AACA,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,KAAP;AACD;;AAED,QAAM2a,mBAAmB,GAAGz2B,qBAAc,CAAC02B,IAAf,CAAoB5a,KAApB,CAA5B,CANoD,CAQpD;AACA;AACA;;AACA,QAAM6a,gBAAgB,GACpBF,mBAAmB,CAAC,SAAD,CAAnB,IACAA,mBAAmB,CAAC,UAAD,CADnB,IAEA,OAAO3a,KAAK,CAAC8a,QAAb,KAA0B,UAH5B,CAXoD,CAgBpD;;AACA,QAAMC,mBAAmB,GACvBJ,mBAAmB,CAAC,OAAD,CAAnB,IACAA,mBAAmB,CAAC,aAAD,CADnB,IAEA,OAAO3a,KAAK,CAACgb,WAAb,KAA6B,UAH/B,CAjBoD,CAsBpD;;AACA,WAAOH,gBAAgB,IAAIE,mBAA3B;AACD;;AAED,WAASE,qBAAT,CAA+BruB,IAA/B,EAA0CC,IAA1C,EAA8D;AAC5D,QAAMquB,iBAAiB,GAAGtuB,IAAI,CAACksB,aAA/B;AACA,QAAMqC,iBAAiB,GAAGtuB,IAAI,CAACisB,aAA/B;;AAEA,QAAI2B,2BAA2B,CAAC7tB,IAAD,CAA/B,EAAuC;AACrC,aAAOsuB,iBAAiB,KAAKC,iBAA7B;AACD;;AAED,WAAO,KAAP;AACD;;AAED,WAASnC,sBAAT,CAAgCpsB,IAAhC,EAA2CC,IAA3C,EAA4E;AAC1E,QAAID,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA5B,EAAkC;AAChC,aAAO,IAAP;AACD;;AAED,QAAMksB,OAAO,GAAG,EAAhB;AACA,QAAIrjB,KAAK,GAAG,CAAZ;;AACA,QACE7I,IAAI,CAAC3I,cAAL,CAAoB,WAApB,KACA2I,IAAI,CAAC3I,cAAL,CAAoB,eAApB,CADA,IAEA2I,IAAI,CAAC3I,cAAL,CAAoB,MAApB,CAFA,IAGA2I,IAAI,CAAC3I,cAAL,CAAoB,OAApB,CAJF,EAKE;AACA,aAAO2I,IAAI,KAAK,IAAhB,EAAsB;AACpB,YAAIouB,qBAAqB,CAACruB,IAAD,EAAOC,IAAP,CAAzB,EAAuC;AACrCksB,iBAAO,CAACpxB,IAAR,CAAa+N,KAAb;AACD;;AACD7I,YAAI,GAAGA,IAAI,CAACA,IAAZ;AACAD,YAAI,GAAGA,IAAI,CAACC,IAAZ;AACA6I,aAAK;AACN;AACF;;AAED,WAAOqjB,OAAP;AACD;;AAED,WAASF,cAAT,CAAwBjsB,IAAxB,EAAmCC,IAAnC,EAAoE;AAClE,QAAID,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA5B,EAAkC;AAChC,aAAO,IAAP;AACD,KAHiE,CAKlE;;;AACA,QACEA,IAAI,CAAC3I,cAAL,CAAoB,WAApB,KACA2I,IAAI,CAAC3I,cAAL,CAAoB,eAApB,CADA,IAEA2I,IAAI,CAAC3I,cAAL,CAAoB,MAApB,CAFA,IAGA2I,IAAI,CAAC3I,cAAL,CAAoB,OAApB,CAJF,EAKE;AACA,aAAO,IAAP;AACD;;AAED,QAAMc,IAAI,GAAG,IAAIC,GAAJ,8BAAYd,MAAM,CAACa,IAAP,CAAY4H,IAAZ,CAAZ,sBAAkCzI,MAAM,CAACa,IAAP,CAAY6H,IAAZ,CAAlC,GAAb;AACA,QAAMuuB,WAAW,GAAG,EAApB,CAhBkE,CAiBlE;;AAjBkE,gDAkBhDp2B,IAlBgD;AAAA;;AAAA;AAkBlE,6DAAwB;AAAA,YAAbQ,GAAa;;AACtB,YAAIoH,IAAI,CAACpH,GAAD,CAAJ,KAAcqH,IAAI,CAACrH,GAAD,CAAtB,EAA6B;AAC3B41B,qBAAW,CAACzzB,IAAZ,CAAiBnC,GAAjB;AACD;AACF;AAtBiE;AAAA;AAAA;AAAA;AAAA;;AAwBlE,WAAO41B,WAAP;AACD,GA16BkB,CA46BnB;;;AACA,WAASC,cAAT,CAAwB/C,SAAxB,EAA0CC,SAA1C,EAAqE;AACnE,YAAQA,SAAS,CAAClG,GAAlB;AACE,WAAK9B,cAAL;AACA,WAAKI,iBAAL;AACA,WAAKthB,eAAL;AACA,WAAKiiB,aAAL;AACA,WAAKI,mBAAL;AACA,WAAKniB,UAAL;AACE;AACA;AACA;AACA;AACA;AACA,YAAM+rB,aAAa,GAAG,CAAtB;AACA,eAAO,CAAC3L,aAAa,CAAC4I,SAAD,CAAb,GAA2B+C,aAA5B,MAA+CA,aAAtD;AACF;AACA;;AACA;AACE;AACA;AACA,eACEhD,SAAS,CAAC1F,aAAV,KAA4B2F,SAAS,CAAC3F,aAAtC,IACA0F,SAAS,CAACQ,aAAV,KAA4BP,SAAS,CAACO,aADtC,IAEAR,SAAS,CAACiD,GAAV,KAAkBhD,SAAS,CAACgD,GAH9B;AAnBJ;AAyBD;;AASD,MAAMC,iBAAkC,GAAG,EAA3C;AACA,MAAMC,uBAAsC,GAAG,EAA/C;AACA,MAAMC,4BAA2C,GAAG,EAApD;AACA,MAAIC,sBAAqD,GAAG,EAA5D;AACA,MAAMC,kBAAiD,GAAG,IAAI7hB,GAAJ,EAA1D;AACA,MAAI8hB,wBAAgC,GAAG,CAAvC;AACA,MAAIC,sBAAqC,GAAG,IAA5C;;AAEA,WAAS9E,aAAT,CAAuB+E,EAAvB,EAAyC;AACvC,QAAIC,KAAJ,EAAa,EAOZ;;AACDR,qBAAiB,CAAC7zB,IAAlB,CAAuBo0B,EAAvB;AACD;;AAED,WAASE,kCAAT,GAA8C;AAC5C,QAAIpS,WAAJ,EAAiB;AACf,UACEqS,8BAA8B,IAAI,IAAlC,IACAA,8BAA8B,CAACC,SAA/B,CAAyCr1B,MAAzC,GAAkD,CAFpD,EAGE;AACA,eAAO,KAAP;AACD;AACF;;AAED,WACE00B,iBAAiB,CAAC10B,MAAlB,KAA6B,CAA7B,IACA20B,uBAAuB,CAAC30B,MAAxB,KAAmC,CADnC,IAEA40B,4BAA4B,CAAC50B,MAA7B,KAAwC,CAFxC,IAGAg1B,sBAAsB,KAAK,IAJ7B;AAMD;;AAED,WAASM,sBAAT,CAAgCv0B,UAAhC,EAAmE;AACjE,QAAIo0B,kCAAkC,EAAtC,EAA0C;AACxC;AACD;;AAED,QAAIN,sBAAsB,KAAK,IAA/B,EAAqC;AACnCA,4BAAsB,CAACh0B,IAAvB,CAA4BE,UAA5B;AACD,KAFD,MAEO;AACLmrB,UAAI,CAACxR,IAAL,CAAU,YAAV,EAAwB3Z,UAAxB;AACD;AACF;;AAED,MAAIw0B,gDAAkE,GAAG,IAAzE;;AAEA,WAASC,uCAAT,GAAmD;AACjD,QAAID,gDAAgD,KAAK,IAAzD,EAA+D;AAC7D1c,kBAAY,CAAC0c,gDAAD,CAAZ;AACAA,sDAAgD,GAAG,IAAnD;AACD;AACF;;AAED,WAAS7G,uCAAT,GAAmD;AACjD8G,2CAAuC;AAEvCD,oDAAgD,GAAGrgB,UAAU,CAAC,YAAM;AAClEqgB,sDAAgD,GAAG,IAAnD;;AAEA,UAAIb,iBAAiB,CAAC10B,MAAlB,GAA2B,CAA/B,EAAkC;AAChC;AACA;AACA;AACD;;AAEDy1B,oCAA8B;;AAE9B,UAAIN,kCAAkC,EAAtC,EAA0C;AACxC;AACA;AACD,OAdiE,CAgBlE;AACA;AACA;;;AACA,UAAMp0B,UAA2B,GAAG,IAAI2F,KAAJ,CAClC,IAAIguB,iBAAiB,CAAC10B,MADY,CAApC;AAGAe,gBAAU,CAAC,CAAD,CAAV,GAAgBC,UAAhB;AACAD,gBAAU,CAAC,CAAD,CAAV,GAAgBivB,aAAhB;AACAjvB,gBAAU,CAAC,CAAD,CAAV,GAAgB,CAAhB,CAxBkE,CAwB/C;;AACnB,WAAK,IAAI20B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,iBAAiB,CAAC10B,MAAtC,EAA8C01B,CAAC,EAA/C,EAAmD;AACjD30B,kBAAU,CAAC,IAAI20B,CAAL,CAAV,GAAoBhB,iBAAiB,CAACgB,CAAD,CAArC;AACD;;AAEDJ,4BAAsB,CAACv0B,UAAD,CAAtB;AAEA2zB,uBAAiB,CAAC10B,MAAlB,GAA2B,CAA3B;AACD,KAhC4D,EAgC1D,IAhC0D,CAA7D;AAiCD;;AAED,WAASswB,2BAAT,GAAuC;AACrCpD,yCAAqC,CAACvE,KAAtC;AACA0E,sBAAkB,CAAC5uB,OAAnB,CAA2B,UAACk3B,QAAD,EAAWhI,OAAX,EAAuB;AAChD,UAAMzI,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BouB,OAA1B,CAAd;;AACA,UAAIzI,KAAK,IAAI,IAAb,EAAmB;AACjBgI,6CAAqC,CAACtuB,GAAtC,CAA0CsmB,KAA1C;AACD;AACF,KALD;AAMAoI,wBAAoB,CAAC7uB,OAArB,CAA6B,UAACk3B,QAAD,EAAWhI,OAAX,EAAuB;AAClD,UAAMzI,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BouB,OAA1B,CAAd;;AACA,UAAIzI,KAAK,IAAI,IAAb,EAAmB;AACjBgI,6CAAqC,CAACtuB,GAAtC,CAA0CsmB,KAA1C;AACD;AACF,KALD;AAMAuQ,kCAA8B;AAC/B;;AAED,WAASG,0BAAT,CACE1Q,KADF,EAEEyI,OAFF,EAGEC,6BAHF,EAIEC,wBAJF,EAKU;AACR,QAAIgI,QAAQ,GAAG,CAAf;AAEA,QAAIC,eAAe,GAAGjI,wBAAwB,CAACtuB,GAAzB,CAA6BouB,OAA7B,CAAtB;AAEA,QAAMoI,sBAAsB,GAAGnI,6BAA6B,CAACruB,GAA9B,CAAkC2lB,KAAlC,CAA/B;;AACA,QAAI6Q,sBAAsB,IAAI,IAA9B,EAAoC;AAClC,UAAID,eAAe,IAAI,IAAvB,EAA6B;AAC3BA,uBAAe,GAAGC,sBAAlB;AAEAlI,gCAAwB,CAACpuB,GAAzB,CAA6BkuB,OAA7B,EAAsCoI,sBAAtC;AACD,OAJD,MAIO;AACL;AACA,YAAMC,sBAAsB,GAAKF,eAAjC;AAKAC,8BAAsB,CAACt3B,OAAvB,CAA+B,UAACw3B,YAAD,EAAe9P,OAAf,EAA2B;AACxD,cAAM+P,aAAa,GAAGF,sBAAsB,CAACz2B,GAAvB,CAA2B4mB,OAA3B,KAAuC,CAA7D;AACA6P,gCAAsB,CAACv2B,GAAvB,CAA2B0mB,OAA3B,EAAoC+P,aAAa,GAAGD,YAApD;AACD,SAHD;AAID;AACF;;AAED,QAAI,CAAC1F,iBAAiB,CAACrL,KAAD,CAAtB,EAA+B;AAC7B,UAAI4Q,eAAe,IAAI,IAAvB,EAA6B;AAC3BA,uBAAe,CAACr3B,OAAhB,CAAwB,UAAAgwB,KAAK,EAAI;AAC/BoH,kBAAQ,IAAIpH,KAAZ;AACD,SAFD;AAGD;AACF;;AAEDb,iCAA6B,CAACE,MAA9B,CAAqC5I,KAArC;AAEA,WAAO2Q,QAAP;AACD;;AAED,WAASJ,8BAAT,GAA0C;AACxCD,2CAAuC;AAEvCtI,yCAAqC,CAACzuB,OAAtC,CAA8C,UAAAymB,KAAK,EAAI;AACrD,UAAMyI,OAAO,GAAGS,gBAAgB,CAAClJ,KAAD,CAAhC;;AACA,UAAIyI,OAAO,KAAK,IAAhB,EAAsB,CACpB;AACD,OAFD,MAEO;AACL,YAAMwI,UAAU,GAAGP,0BAA0B,CAC3C1Q,KAD2C,EAE3CyI,OAF2C,EAG3CR,uBAH2C,EAI3CE,kBAJ2C,CAA7C;AAMA,YAAM+I,YAAY,GAAGR,0BAA0B,CAC7C1Q,KAD6C,EAE7CyI,OAF6C,EAG7CP,yBAH6C,EAI7CE,oBAJ6C,CAA/C;AAOA4C,qBAAa,CAACxtB,6DAAD,CAAb;AACAwtB,qBAAa,CAACvC,OAAD,CAAb;AACAuC,qBAAa,CAACiG,UAAD,CAAb;AACAjG,qBAAa,CAACkG,YAAD,CAAb;AACD,OAtBoD,CAwBrD;;;AACAjJ,6BAAuB,CAACW,MAAxB,CAA+B5I,KAA/B;AACAkI,+BAAyB,CAACU,MAA1B,CAAiC5I,KAAjC;AACD,KA3BD;AA4BAgI,yCAAqC,CAACvE,KAAtC;AACD;;AAED,WAAS8E,kBAAT,CAA4Bte,IAA5B,EAAgD;AAC9C;AACA;AACAsmB,kCAA8B;;AAE9B,QAAIN,kCAAkC,EAAtC,EAA0C;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED,QAAMkB,aAAa,GACjB1B,uBAAuB,CAAC30B,MAAxB,GACA40B,4BAA4B,CAAC50B,MAD7B,IAECg1B,sBAAsB,KAAK,IAA3B,GAAkC,CAAlC,GAAsC,CAFvC,CADF;AAKA,QAAMj0B,UAAU,GAAG,IAAI2F,KAAJ,EACjB;AACA,QAAI;AACF;AACA,KAFF,GAEM;AACJ;AACAquB,4BAJF,KAKE;AACA;AACCsB,iBAAa,GAAG,CAAhB,GAAoB,IAAIA,aAAxB,GAAwC,CAP3C,IAQE;AACA3B,qBAAiB,CAAC10B,MAXH,CAAnB,CAtB8C,CAoC9C;AACA;AACA;;AACA,QAAID,CAAC,GAAG,CAAR;AACAgB,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBiB,UAAlB;AACAD,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBiwB,aAAlB,CAzC8C,CA2C9C;AACA;;AACAjvB,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBg1B,wBAAlB;AACAD,sBAAkB,CAACr2B,OAAnB,CAA2B,UAAC4gB,KAAD,EAAQiX,SAAR,EAAsB;AAC/C,UAAMC,aAAa,GAAGlX,KAAK,CAACkX,aAA5B,CAD+C,CAG/C;AACA;;AACA,UAAMv2B,MAAM,GAAGu2B,aAAa,CAACv2B,MAA7B;AAEAe,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBC,MAAlB;;AACA,WAAK,IAAI01B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG11B,MAApB,EAA4B01B,CAAC,EAA7B,EAAiC;AAC/B30B,kBAAU,CAAChB,CAAC,GAAG21B,CAAL,CAAV,GAAoBa,aAAa,CAACb,CAAD,CAAjC;AACD;;AAED31B,OAAC,IAAIC,MAAL;AACD,KAbD;;AAeA,QAAIq2B,aAAa,GAAG,CAApB,EAAuB;AACrB;AACAt1B,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBgC,0CAAlB,CAFqB,CAGrB;;AACAhB,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBs2B,aAAlB,CAJqB,CAKrB;AACA;AACA;;AACA,WAAK,IAAIX,CAAC,GAAGf,uBAAuB,CAAC30B,MAAxB,GAAiC,CAA9C,EAAiD01B,CAAC,IAAI,CAAtD,EAAyDA,CAAC,EAA1D,EAA8D;AAC5D30B,kBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkB40B,uBAAuB,CAACe,CAAD,CAAzC;AACD,OAVoB,CAWrB;AACA;AACA;AACA;AACA;;;AACA,WAAK,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGd,4BAA4B,CAAC50B,MAAjD,EAAyD01B,EAAC,EAA1D,EAA8D;AAC5D30B,kBAAU,CAAChB,CAAC,GAAG21B,EAAL,CAAV,GAAoBd,4BAA4B,CAACc,EAAD,CAAhD;AACD;;AACD31B,OAAC,IAAI60B,4BAA4B,CAAC50B,MAAlC,CAnBqB,CAoBrB;;AACA,UAAIg1B,sBAAsB,KAAK,IAA/B,EAAqC;AACnCj0B,kBAAU,CAAChB,CAAD,CAAV,GAAgBi1B,sBAAhB;AACAj1B,SAAC;AACF;AACF,KAtF6C,CAuF9C;;;AACA,SAAK,IAAI21B,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGhB,iBAAiB,CAAC10B,MAAtC,EAA8C01B,GAAC,EAA/C,EAAmD;AACjD30B,gBAAU,CAAChB,CAAC,GAAG21B,GAAL,CAAV,GAAoBhB,iBAAiB,CAACgB,GAAD,CAArC;AACD;;AACD31B,KAAC,IAAI20B,iBAAiB,CAAC10B,MAAvB,CA3F8C,CA6F9C;;AACAs1B,0BAAsB,CAACv0B,UAAD,CAAtB,CA9F8C,CAgG9C;;AACA2zB,qBAAiB,CAAC10B,MAAlB,GAA2B,CAA3B;AACA20B,2BAAuB,CAAC30B,MAAxB,GAAiC,CAAjC;AACA40B,gCAA4B,CAAC50B,MAA7B,GAAsC,CAAtC;AACAg1B,0BAAsB,GAAG,IAAzB;AACAF,sBAAkB,CAACnM,KAAnB;AACAoM,4BAAwB,GAAG,CAA3B;AACD;;AAED,WAASyB,WAAT,CAAqB12B,MAArB,EAAoD;AAClD,QAAIA,MAAM,KAAK,IAAf,EAAqB;AACnB,aAAO,CAAP;AACD;;AACD,QAAM22B,aAAa,GAAG3B,kBAAkB,CAACv1B,GAAnB,CAAuBO,MAAvB,CAAtB;;AACA,QAAI22B,aAAa,KAAKh2B,SAAtB,EAAiC;AAC/B,aAAOg2B,aAAa,CAAC90B,EAArB;AACD;;AAED,QAAMA,EAAE,GAAGmzB,kBAAkB,CAAC/qB,IAAnB,GAA0B,CAArC;AACA,QAAMwsB,aAAa,GAAGh2B,wCAAe,CAACT,MAAD,CAArC;AAEAg1B,sBAAkB,CAACr1B,GAAnB,CAAuBK,MAAvB,EAA+B;AAC7By2B,mBAAa,EAAbA,aAD6B;AAE7B50B,QAAE,EAAFA;AAF6B,KAA/B,EAZkD,CAiBlD;AACA;AACA;AACA;AACA;;AACAozB,4BAAwB,IAAIwB,aAAa,CAACv2B,MAAd,GAAuB,CAAnD;AAEA,WAAO2B,EAAP;AACD;;AAED,WAAS+0B,WAAT,CAAqBxR,KAArB,EAAmCyJ,WAAnC,EAA8D;AAC5D,QAAMgI,MAAM,GAAGzR,KAAK,CAACqG,GAAN,KAAcvB,QAA7B;AACA,QAAMroB,EAAE,GAAGsuB,oBAAoB,CAAC/K,KAAD,CAA/B;;AAEA,QAAIha,8BAAJ,EAAe;AACbojB,WAAK,CAAC,eAAD,EAAkBpJ,KAAlB,EAAyByJ,WAAzB,CAAL;AACD;;AAED,QAAMiI,gBAAgB,GAAG1R,KAAK,CAAC9nB,cAAN,CAAqB,aAArB,CAAzB;AACA,QAAMy5B,oBAAoB,GAAG3R,KAAK,CAAC9nB,cAAN,CAAqB,kBAArB,CAA7B,CAT4D,CAW5D;AACA;;AACA,QAAI05B,cAAc,GAAG,CAArB;;AACA,QAAID,oBAAJ,EAA0B;AACxBC,oBAAc,GAAG1rB,iDAAjB;;AACA,UAAI,OAAOghB,oBAAP,KAAgC,UAApC,EAAgD;AAC9C0K,sBAAc,IAAIzrB,oDAAlB;AACD;AACF;;AAED,QAAIsrB,MAAJ,EAAY;AACVzG,mBAAa,CAACxuB,uCAAD,CAAb;AACAwuB,mBAAa,CAACvuB,EAAD,CAAb;AACAuuB,mBAAa,CAACtuB,gCAAD,CAAb;AACAsuB,mBAAa,CAAC,CAAChL,KAAK,CAAC9iB,IAAN,GAAamnB,cAAd,MAAkC,CAAlC,GAAsC,CAAtC,GAA0C,CAA3C,CAAb;AACA2G,mBAAa,CAAC4G,cAAD,CAAb;AACA5G,mBAAa,CAAC3G,cAAc,KAAK,CAAnB,GAAuB,CAAvB,GAA2B,CAA5B,CAAb;AACA2G,mBAAa,CAAC0G,gBAAgB,GAAG,CAAH,GAAO,CAAxB,CAAb;;AAEA,UAAI7T,WAAJ,EAAiB;AACf,YAAIgU,oBAAoB,KAAK,IAA7B,EAAmC;AACjCA,8BAAoB,CAACt3B,GAArB,CAAyBkC,EAAzB,EAA6Bq1B,qBAAqB,CAAC9R,KAAD,CAAlD;AACD;AACF;AACF,KAdD,MAcO;AAAA,UACExmB,GADF,GACSwmB,KADT,CACExmB,GADF;AAEL,UAAMS,WAAW,GAAGmjB,sBAAsB,CAAC4C,KAAD,CAA1C;AACA,UAAM7c,WAAW,GAAGooB,sBAAsB,CAACvL,KAAD,CAA1C;AAHK,UAIE+R,WAJF,GAIiB/R,KAJjB,CAIE+R,WAJF,EAML;AACA;AACA;AACA;AACA;;AACA,UAAMC,OAAO,GACXD,WAAW,IAAI,IAAf,GAAsBhH,oBAAoB,CAACgH,WAAD,CAA1C,GAA0D,CAD5D;AAEA,UAAMp1B,QAAQ,GAAG8sB,WAAW,GAAGsC,gBAAgB,CAACtC,WAAD,CAAnB,GAAmC,CAA/D;AAEA,UAAM7sB,mBAAmB,GAAG00B,WAAW,CAACr3B,WAAD,CAAvC,CAfK,CAiBL;AACA;;AACA,UAAMg4B,SAAS,GAAGz4B,GAAG,KAAK,IAAR,GAAe,IAAf,GAAsBwB,MAAM,CAACxB,GAAD,CAA9C;AACA,UAAM04B,WAAW,GAAGZ,WAAW,CAACW,SAAD,CAA/B;AAEAjH,mBAAa,CAACxuB,uCAAD,CAAb;AACAwuB,mBAAa,CAACvuB,EAAD,CAAb;AACAuuB,mBAAa,CAAC7nB,WAAD,CAAb;AACA6nB,mBAAa,CAACruB,QAAD,CAAb;AACAquB,mBAAa,CAACgH,OAAD,CAAb;AACAhH,mBAAa,CAACpuB,mBAAD,CAAb;AACAouB,mBAAa,CAACkH,WAAD,CAAb,CA5BK,CA8BL;;AACA,UACE,CAAClS,KAAK,CAAC9iB,IAAN,GAAamnB,cAAd,MAAkC,CAAlC,IACA,CAAGoF,WAAF,CAA4BvsB,IAA5B,GAAmCmnB,cAApC,MAAwD,CAF1D,EAGE;AACA2G,qBAAa,CAAC/tB,oDAAD,CAAb;AACA+tB,qBAAa,CAACvuB,EAAD,CAAb;AACAuuB,qBAAa,CAACnnB,2BAAD,CAAb;AACD;AACF;;AAED,QAAI8tB,oBAAJ,EAA0B;AACxB/F,iBAAW,CAACrxB,GAAZ,CAAgBkC,EAAhB,EAAoBquB,aAApB;AAEAqH,8BAAwB,CAACnS,KAAD,CAAxB;AACD;AACF;;AAED,WAASoS,aAAT,CAAuBpS,KAAvB,EAAqCqS,WAArC,EAA2D;AACzD,QAAIrsB,8BAAJ,EAAe;AACbojB,WAAK,CACH,iBADG,EAEHpJ,KAFG,EAGH,IAHG,EAIHqS,WAAW,GAAG,sBAAH,GAA4B,EAJpC,CAAL;AAMD;;AAED,QAAIC,qBAAqB,KAAK,IAA9B,EAAoC;AAClC;AACA;AACA;AACA,UACEtS,KAAK,KAAKsS,qBAAV,IACAtS,KAAK,KAAKsS,qBAAqB,CAACtR,SAFlC,EAGE;AACAuR,sBAAc,CAAC,IAAD,CAAd;AACD;AACF;;AAED,QAAMC,QAAQ,GAAGtJ,gBAAgB,CAAClJ,KAAD,CAAjC;;AACA,QAAIwS,QAAQ,KAAK,IAAjB,EAAuB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAhCwD,CAkCzD;;;AACA,QAAM/1B,EAAE,GAAK+1B,QAAb;AACA,QAAMf,MAAM,GAAGzR,KAAK,CAACqG,GAAN,KAAcvB,QAA7B;;AACA,QAAI2M,MAAJ,EAAY;AACV;AACA;AACA3B,4BAAsB,GAAGrzB,EAAzB;AACD,KAJD,MAIO,IAAI,CAAC4uB,iBAAiB,CAACrL,KAAD,CAAtB,EAA+B;AACpC;AACA;AACA;AACA,UAAIqS,WAAJ,EAAiB;AACf3C,oCAA4B,CAAC/zB,IAA7B,CAAkCc,EAAlC;AACD,OAFD,MAEO;AACLgzB,+BAAuB,CAAC9zB,IAAxB,CAA6Bc,EAA7B;AACD;AACF;;AAED,QAAI,CAACujB,KAAK,CAACyS,kBAAX,EAA+B;AAC7BzG,oBAAc,CAAChM,KAAD,CAAd;AAEA,UAAM2R,oBAAoB,GAAG3R,KAAK,CAAC9nB,cAAN,CAAqB,kBAArB,CAA7B;;AACA,UAAIy5B,oBAAJ,EAA0B;AACxB/F,mBAAW,CAAChD,MAAZ,CAAmBnsB,EAAnB;AACAkvB,+BAAuB,CAAC/C,MAAxB,CAA+BnsB,EAA/B;AACD;AACF;AACF;;AAED,WAAS0uB,qBAAT,CACEuH,UADF,EAEEjJ,WAFF,EAGEkJ,gBAHF,EAIEC,+BAJF,EAKE;AACA;AACA;AACA,QAAI5S,KAAmB,GAAG0S,UAA1B;;AACA,WAAO1S,KAAK,KAAK,IAAjB,EAAuB;AACrB;AACA+K,0BAAoB,CAAC/K,KAAD,CAApB;;AAEA,UAAIha,8BAAJ,EAAe;AACbojB,aAAK,CAAC,yBAAD,EAA4BpJ,KAA5B,EAAmCyJ,WAAnC,CAAL;AACD,OANoB,CAQrB;AACA;;;AACA,UAAMoJ,4BAA4B,GAChCC,iCAAiC,CAAC9S,KAAD,CADnC;AAGA,UAAM+S,mBAAmB,GAAG,CAAC1H,iBAAiB,CAACrL,KAAD,CAA9C;;AACA,UAAI+S,mBAAJ,EAAyB;AACvBvB,mBAAW,CAACxR,KAAD,EAAQyJ,WAAR,CAAX;AACD;;AAED,UAAIW,mBAAJ,EAAyB;AACvB,YAAIwI,+BAAJ,EAAqC;AACnC,cAAMzvB,WAAW,GAAGooB,sBAAsB,CAACvL,KAAD,CAA1C,CADmC,CAEnC;;AACA,cAAI7c,WAAW,KAAKlF,yCAApB,EAA8C;AAC5CosB,gCAAoB,CAAC3wB,GAArB,CAAyBsmB,KAAK,CAAC3V,SAA/B;AACAuoB,2CAA+B,GAAG,KAAlC;AACD;AACF,SARsB,CAUvB;AACA;;AACD;;AAED,UAAMI,UAAU,GAAGhT,KAAK,CAACqG,GAAN,KAAcvX,eAAe,CAAC6W,iBAAjD;;AACA,UAAIqN,UAAJ,EAAgB;AACd,YAAMC,UAAU,GAAGjT,KAAK,CAAC8M,aAAN,KAAwB,IAA3C;;AACA,YAAImG,UAAJ,EAAgB;AACd;AACA;AACA;AACA,cAAMC,oBAAoB,GAAGlT,KAAK,CAAC8N,KAAnC;AACA,cAAMqF,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAACnF,OADyB,GAE9C,IAFJ;AAGA,cAAMqF,aAAa,GAAGD,qBAAqB,GACvCA,qBAAqB,CAACrF,KADiB,GAEvC,IAFJ;;AAGA,cAAIsF,aAAa,KAAK,IAAtB,EAA4B;AAC1BjI,iCAAqB,CACnBiI,aADmB,EAEnBL,mBAAmB,GAAG/S,KAAH,GAAWyJ,WAFX,EAGnB,IAHmB,EAInBmJ,+BAJmB,CAArB;AAMD;AACF,SAnBD,MAmBO;AACL,cAAIS,YAA0B,GAAG,IAAjC;AACA,cAAMC,uCAAuC,GAC3C9N,kBAAkB,KAAK,CAAC,CAD1B;;AAEA,cAAI8N,uCAAJ,EAA6C;AAC3CD,wBAAY,GAAGrT,KAAK,CAAC8N,KAArB;AACD,WAFD,MAEO,IAAI9N,KAAK,CAAC8N,KAAN,KAAgB,IAApB,EAA0B;AAC/BuF,wBAAY,GAAGrT,KAAK,CAAC8N,KAAN,CAAYA,KAA3B;AACD;;AACD,cAAIuF,YAAY,KAAK,IAArB,EAA2B;AACzBlI,iCAAqB,CACnBkI,YADmB,EAEnBN,mBAAmB,GAAG/S,KAAH,GAAWyJ,WAFX,EAGnB,IAHmB,EAInBmJ,+BAJmB,CAArB;AAMD;AACF;AACF,OAvCD,MAuCO;AACL,YAAI5S,KAAK,CAAC8N,KAAN,KAAgB,IAApB,EAA0B;AACxB3C,+BAAqB,CACnBnL,KAAK,CAAC8N,KADa,EAEnBiF,mBAAmB,GAAG/S,KAAH,GAAWyJ,WAFX,EAGnB,IAHmB,EAInBmJ,+BAJmB,CAArB;AAMD;AACF,OAjFoB,CAmFrB;AACA;;;AACAW,sCAAgC,CAACV,4BAAD,CAAhC;AAEA7S,WAAK,GAAG2S,gBAAgB,GAAG3S,KAAK,CAAC+N,OAAT,GAAmB,IAA3C;AACD;AACF,GAvgDkB,CAygDnB;AACA;;;AACA,WAASyF,+BAAT,CAAyCxT,KAAzC,EAAuD;AACrD,QAAIha,8BAAJ,EAAe;AACbojB,WAAK,CAAC,mCAAD,EAAsCpJ,KAAtC,CAAL;AACD,KAHoD,CAKrD;;;AACA,QAAMyT,kBAAkB,GACtBzT,KAAK,CAACqG,GAAN,KAAcvX,eAAe,CAAC6W,iBAA9B,IACA3F,KAAK,CAAC8M,aAAN,KAAwB,IAF1B;AAIA,QAAIgB,KAAK,GAAG9N,KAAK,CAAC8N,KAAlB;;AACA,QAAI2F,kBAAJ,EAAwB;AACtB;AACA,UAAMP,oBAAoB,GAAGlT,KAAK,CAAC8N,KAAnC;AACA,UAAMqF,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAACnF,OADyB,GAE9C,IAFJ,CAHsB,CAMtB;;AACAD,WAAK,GAAGqF,qBAAqB,GAAGA,qBAAqB,CAACrF,KAAzB,GAAiC,IAA9D;AACD;;AAED,WAAOA,KAAK,KAAK,IAAjB,EAAuB;AACrB;AACA;AACA,UAAIA,KAAK,CAACnL,MAAN,KAAiB,IAArB,EAA2B;AACzB6Q,uCAA+B,CAAC1F,KAAD,CAA/B;AACAsE,qBAAa,CAACtE,KAAD,EAAQ,IAAR,CAAb;AACD;;AACDA,WAAK,GAAGA,KAAK,CAACC,OAAd;AACD;AACF;;AAED,WAASoE,wBAAT,CAAkCnS,KAAlC,EAAgD;AAC9C,QAAMvjB,EAAE,GAAGsvB,gBAAgB,CAAC/L,KAAD,CAA3B;AAD8C,QAEvC0T,cAFuC,GAEH1T,KAFG,CAEvC0T,cAFuC;AAAA,QAEvBC,gBAFuB,GAEH3T,KAFG,CAEvB2T,gBAFuB;AAI9ChI,2BAAuB,CAACpxB,GAAxB,CAA4BkC,EAA5B,EAAgCk3B,gBAAgB,IAAI,CAApD;;AAEA,QAAI9V,WAAJ,EAAiB;AAAA,UACRmD,SADQ,GACKhB,KADL,CACRgB,SADQ,EAGf;AACA;;AACA,UACEA,SAAS,IAAI,IAAb,IACA2S,gBAAgB,KAAK3S,SAAS,CAAC2S,gBAFjC,EAGE;AACA;AACA;AACA,YAAMC,yBAAyB,GAAG5c,IAAI,CAAC6c,KAAL,CAChC,CAACF,gBAAgB,IAAI,CAArB,IAA0B,IADM,CAAlC;AAGA3I,qBAAa,CAACztB,6DAAD,CAAb;AACAytB,qBAAa,CAACvuB,EAAD,CAAb;AACAuuB,qBAAa,CAAC4I,yBAAD,CAAb;AACD;;AAED,UAAI5S,SAAS,IAAI,IAAb,IAAqBqO,cAAc,CAACrO,SAAD,EAAYhB,KAAZ,CAAvC,EAA2D;AACzD,YAAI0T,cAAc,IAAI,IAAtB,EAA4B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,cAAII,YAAY,GAAGJ,cAAnB;AACA,cAAI5F,KAAK,GAAG9N,KAAK,CAAC8N,KAAlB;;AACA,iBAAOA,KAAK,KAAK,IAAjB,EAAuB;AACrBgG,wBAAY,IAAIhG,KAAK,CAAC4F,cAAN,IAAwB,CAAxC;AACA5F,iBAAK,GAAGA,KAAK,CAACC,OAAd;AACD,WAZyB,CAc1B;AACA;AACA;AACA;;;AACA,cAAMgG,QAAQ,GACV7D,8BADJ;AAEA6D,kBAAQ,CAAC5D,SAAT,CAAmBx0B,IAAnB,CAAwBc,EAAxB,EAA4Bi3B,cAA5B,EAA4CI,YAA5C;AACAC,kBAAQ,CAACC,iBAAT,GAA6Bhd,IAAI,CAACve,GAAL,CAC3Bs7B,QAAQ,CAACC,iBADkB,EAE3BN,cAF2B,CAA7B;;AAKA,cAAIO,wBAAJ,EAA8B;AAC5B,gBAAMC,iBAAiB,GAAG7H,oBAAoB,CAACrL,SAAD,EAAYhB,KAAZ,CAA9C;;AACA,gBAAIkU,iBAAiB,KAAK,IAA1B,EAAgC;AAC9B,kBAAIH,QAAQ,CAACI,kBAAT,KAAgC,IAApC,EAA0C;AACxCJ,wBAAQ,CAACI,kBAAT,CAA4B55B,GAA5B,CAAgCkC,EAAhC,EAAoCy3B,iBAApC;AACD;AACF;;AAEDhH,kCAAsB,CAAClN,KAAD,CAAtB;AACD;AACF;AACF;AACF;AACF;;AAED,WAASoU,mBAAT,CAA6BpU,KAA7B,EAA2CqU,QAA3C,EAA4D;AAC1D,QAAIruB,8BAAJ,EAAe;AACbojB,WAAK,CAAC,uBAAD,EAA0BiL,QAA1B,EAAoCrU,KAApC,CAAL;AACD,KAHyD,CAI1D;AACA;AACA;;;AACA,QAAMsU,YAA2B,GAAG,EAApC,CAP0D,CAS1D;AACA;;AACA,QAAIxG,KAAmB,GAAGuG,QAA1B;;AACA,WAAOvG,KAAK,KAAK,IAAjB,EAAuB;AACrByG,sCAAgC,CAACzG,KAAD,EAAQwG,YAAR,CAAhC;AACAxG,WAAK,GAAGA,KAAK,CAACC,OAAd;AACD;;AAED,QAAM3wB,WAAW,GAAGk3B,YAAY,CAACx5B,MAAjC;;AACA,QAAIsC,WAAW,GAAG,CAAlB,EAAqB;AACnB;AACA;AACD;;AACD4tB,iBAAa,CAAC7tB,oDAAD,CAAb;AACA6tB,iBAAa,CAACe,gBAAgB,CAAC/L,KAAD,CAAjB,CAAb;AACAgL,iBAAa,CAAC5tB,WAAD,CAAb;;AACA,SAAK,IAAIvC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGy5B,YAAY,CAACx5B,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CmwB,mBAAa,CAACsJ,YAAY,CAACz5B,CAAD,CAAb,CAAb;AACD;AACF;;AAED,WAAS05B,gCAAT,CACEvU,KADF,EAEEsU,YAFF,EAGE;AACA,QAAI,CAACjJ,iBAAiB,CAACrL,KAAD,CAAtB,EAA+B;AAC7BsU,kBAAY,CAAC34B,IAAb,CAAkBowB,gBAAgB,CAAC/L,KAAD,CAAlC;AACD,KAFD,MAEO;AACL,UAAI8N,KAAK,GAAG9N,KAAK,CAAC8N,KAAlB;AACA,UAAM2F,kBAAkB,GACtBzT,KAAK,CAACqG,GAAN,KAAcV,iBAAd,IAAmC3F,KAAK,CAAC8M,aAAN,KAAwB,IAD7D;;AAEA,UAAI2G,kBAAJ,EAAwB;AACtB;AACA;AACA;AACA,YAAMP,oBAAoB,GAAGlT,KAAK,CAAC8N,KAAnC;AACA,YAAMqF,qBAAqB,GAAGD,oBAAoB,GAC9CA,oBAAoB,CAACnF,OADyB,GAE9C,IAFJ;AAGA,YAAMqF,aAAa,GAAGD,qBAAqB,GACvCA,qBAAqB,CAACrF,KADiB,GAEvC,IAFJ;;AAGA,YAAIsF,aAAa,KAAK,IAAtB,EAA4B;AAC1BtF,eAAK,GAAGsF,aAAR;AACD;AACF;;AACD,aAAOtF,KAAK,KAAK,IAAjB,EAAuB;AACrByG,wCAAgC,CAACzG,KAAD,EAAQwG,YAAR,CAAhC;AACAxG,aAAK,GAAGA,KAAK,CAACC,OAAd;AACD;AACF;AACF,GA1qDkB,CA4qDnB;;;AACA,WAASyG,sBAAT,CACEjI,SADF,EAEED,SAFF,EAGE7C,WAHF,EAIEmJ,+BAJF,EAKW;AACT,QAAMn2B,EAAE,GAAGsuB,oBAAoB,CAACwB,SAAD,CAA/B;;AAEA,QAAIvmB,8BAAJ,EAAe;AACbojB,WAAK,CAAC,0BAAD,EAA6BmD,SAA7B,EAAwC9C,WAAxC,CAAL;AACD;;AAED,QAAIW,mBAAJ,EAAyB;AACvB,UAAMjnB,WAAW,GAAGooB,sBAAsB,CAACgB,SAAD,CAA1C;;AACA,UAAIqG,+BAAJ,EAAqC;AACnC;AACA,YAAIzvB,WAAW,KAAKlF,yCAApB,EAA8C;AAC5CosB,8BAAoB,CAAC3wB,GAArB,CAAyB6yB,SAAS,CAACliB,SAAnC;AACAuoB,yCAA+B,GAAG,KAAlC;AACD;AACF,OAND,MAMO;AACL,YACEzvB,WAAW,KAAK9C,oCAAhB,IACA8C,WAAW,KAAKhD,iCADhB,IAEAgD,WAAW,KAAKiC,mCAFhB,IAGAjC,WAAW,KAAK7C,gCAHhB,IAIA6C,WAAW,KAAK/C,sCALlB,EAME;AACA;AACAwyB,yCAA+B,GAAGvD,cAAc,CAC9C/C,SAD8C,EAE9CC,SAF8C,CAAhD;AAID;AACF;AACF;;AAED,QACExD,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAACtsB,EAA7B,KAAoCA,EADpC,IAEA4yB,cAAc,CAAC/C,SAAD,EAAYC,SAAZ,CAHhB,EAIE;AACA;AACA;AACAvD,yCAAmC,GAAG,IAAtC;AACD;;AAED,QAAM+J,mBAAmB,GAAG,CAAC1H,iBAAiB,CAACkB,SAAD,CAA9C;AACA,QAAMyG,UAAU,GAAGzG,SAAS,CAAClG,GAAV,KAAkBV,iBAArC;AACA,QAAI8O,mBAAmB,GAAG,KAA1B,CA5CS,CA6CT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAMC,cAAc,GAAG1B,UAAU,IAAI1G,SAAS,CAACQ,aAAV,KAA4B,IAAjE;AACA,QAAM6H,cAAc,GAAG3B,UAAU,IAAIzG,SAAS,CAACO,aAAV,KAA4B,IAAjE,CAtDS,CAuDT;AACA;;AACA,QAAI4H,cAAc,IAAIC,cAAtB,EAAsC;AACpC;AACA;AACA,UAAMC,cAAc,GAAGrI,SAAS,CAACuB,KAAjC;AACA,UAAM+G,oBAAoB,GAAGD,cAAc,GACvCA,cAAc,CAAC7G,OADwB,GAEvC,IAFJ,CAJoC,CAOpC;AACA;;AACA,UAAM+G,cAAc,GAAGxI,SAAS,CAACwB,KAAjC;AACA,UAAMiH,oBAAoB,GAAGD,cAAc,GACvCA,cAAc,CAAC/G,OADwB,GAEvC,IAFJ;;AAGA,UACE8G,oBAAoB,IAAI,IAAxB,IACAE,oBAAoB,IAAI,IADxB,IAEAP,sBAAsB,CACpBK,oBADoB,EAEpBE,oBAFoB,EAGpBxI,SAHoB,EAIpBqG,+BAJoB,CAHxB,EASE;AACA6B,2BAAmB,GAAG,IAAtB;AACD;AACF,KAzBD,MAyBO,IAAIC,cAAc,IAAI,CAACC,cAAvB,EAAuC;AAC5C;AACA;AACA;AACA;AACA,UAAMK,mBAAmB,GAAGzI,SAAS,CAACuB,KAAtC;;AACA,UAAIkH,mBAAmB,KAAK,IAA5B,EAAkC;AAChC7J,6BAAqB,CACnB6J,mBADmB,EAEnBjC,mBAAmB,GAAGxG,SAAH,GAAe9C,WAFf,EAGnB,IAHmB,EAInBmJ,+BAJmB,CAArB;AAMD;;AACD6B,yBAAmB,GAAG,IAAtB;AACD,KAfM,MAeA,IAAI,CAACC,cAAD,IAAmBC,cAAvB,EAAuC;AAC5C;AACA;AACA;AACA;AACAnB,qCAA+B,CAAClH,SAAD,CAA/B,CAL4C,CAM5C;;AACA,UAAMsI,eAAc,GAAGrI,SAAS,CAACuB,KAAjC;;AACA,UAAM+G,qBAAoB,GAAGD,eAAc,GACvCA,eAAc,CAAC7G,OADwB,GAEvC,IAFJ;;AAGA,UAAI8G,qBAAoB,IAAI,IAA5B,EAAkC;AAChC1J,6BAAqB,CACnB0J,qBADmB,EAEnB9B,mBAAmB,GAAGxG,SAAH,GAAe9C,WAFf,EAGnB,IAHmB,EAInBmJ,+BAJmB,CAArB;AAMA6B,2BAAmB,GAAG,IAAtB;AACD;AACF,KApBM,MAoBA;AACL;AACA;AACA,UAAIlI,SAAS,CAACuB,KAAV,KAAoBxB,SAAS,CAACwB,KAAlC,EAAyC;AACvC;AACA;AACA,YAAImH,SAAS,GAAG1I,SAAS,CAACuB,KAA1B;AACA,YAAIoH,oBAAoB,GAAG5I,SAAS,CAACwB,KAArC;;AACA,eAAOmH,SAAP,EAAkB;AAChB;AACA;AACA;AACA;AACA,cAAIA,SAAS,CAACjU,SAAd,EAAyB;AACvB,gBAAMmU,SAAS,GAAGF,SAAS,CAACjU,SAA5B;;AACA,gBACEwT,sBAAsB,CACpBS,SADoB,EAEpBE,SAFoB,EAGpBpC,mBAAmB,GAAGxG,SAAH,GAAe9C,WAHd,EAIpBmJ,+BAJoB,CADxB,EAOE;AACA;AACA;AACA;AACA6B,iCAAmB,GAAG,IAAtB;AACD,aAdsB,CAevB;AACA;AACA;;;AACA,gBAAIU,SAAS,KAAKD,oBAAlB,EAAwC;AACtCT,iCAAmB,GAAG,IAAtB;AACD;AACF,WArBD,MAqBO;AACLtJ,iCAAqB,CACnB8J,SADmB,EAEnBlC,mBAAmB,GAAGxG,SAAH,GAAe9C,WAFf,EAGnB,KAHmB,EAInBmJ,+BAJmB,CAArB;AAMA6B,+BAAmB,GAAG,IAAtB;AACD,WAlCe,CAmChB;;;AACAQ,mBAAS,GAAGA,SAAS,CAAClH,OAAtB,CApCgB,CAqChB;AACA;;AACA,cAAI,CAAC0G,mBAAD,IAAwBS,oBAAoB,KAAK,IAArD,EAA2D;AACzDA,gCAAoB,GAAGA,oBAAoB,CAACnH,OAA5C;AACD;AACF,SA/CsC,CAgDvC;;;AACA,YAAImH,oBAAoB,KAAK,IAA7B,EAAmC;AACjCT,6BAAmB,GAAG,IAAtB;AACD;AACF,OApDD,MAoDO;AACL,YAAIrK,mBAAJ,EAAyB;AACvB;AACA;AACA,cAAIwI,+BAAJ,EAAqC;AACnC,gBAAMwC,UAAU,GAAGC,wBAAwB,CACzCtJ,gBAAgB,CAACQ,SAAD,CADyB,CAA3C;AAGA6I,sBAAU,CAAC77B,OAAX,CAAmB,UAAA+7B,SAAS,EAAI;AAC9BjL,kCAAoB,CAAC3wB,GAArB,CAAyB47B,SAAS,CAACjrB,SAAnC;AACD,aAFD;AAGD;AACF;AACF;AACF;;AAED,QAAI0oB,mBAAJ,EAAyB;AACvB,UAAMpB,oBAAoB,GAAGpF,SAAS,CAACr0B,cAAV,CAAyB,kBAAzB,CAA7B;;AACA,UAAIy5B,oBAAJ,EAA0B;AACxBQ,gCAAwB,CAAC5F,SAAD,CAAxB;AACD;AACF;;AACD,QAAIkI,mBAAJ,EAAyB;AACvB;AACA;AACA,UAAI1B,mBAAJ,EAAyB;AACvB;AACA,YAAIwC,YAAY,GAAGhJ,SAAS,CAACuB,KAA7B;;AACA,YAAI6G,cAAJ,EAAoB;AAClB;AACA,cAAMC,gBAAc,GAAGrI,SAAS,CAACuB,KAAjC;AACAyH,sBAAY,GAAGX,gBAAc,GAAGA,gBAAc,CAAC7G,OAAlB,GAA4B,IAAzD;AACD;;AACD,YAAIwH,YAAY,IAAI,IAApB,EAA0B;AACxBnB,6BAAmB,CAAC7H,SAAD,EAAYgJ,YAAZ,CAAnB;AACD,SAVsB,CAWvB;AACA;;;AACA,eAAO,KAAP;AACD,OAdD,MAcO;AACL;AACA,eAAO,IAAP;AACD;AACF,KArBD,MAqBO;AACL,aAAO,KAAP;AACD;AACF;;AAED,WAASC,OAAT,GAAmB,CACjB;AACD;;AAED,WAASC,qBAAT,CAA+BxrB,IAA/B,EAA0C;AACxC,QAAIA,IAAI,CAACyrB,oBAAL,IAA6B,IAAjC,EAAuC;AACrC;AACA,aAAO,IAAP;AACD,KAHD,MAGO,IACLzrB,IAAI,CAAC/Q,OAAL,IAAgB,IAAhB,IACA+Q,IAAI,CAAC/Q,OAAL,CAAahB,cAAb,CAA4B,kBAA5B,CAFK,EAGL;AACA;AACA;AACA,aAAO,IAAP;AACD,KAPM,MAOA;AACL,aAAO,KAAP;AACD;AACF;;AAED,WAASy9B,sBAAT,GAAkC;AAChC,QAAMC,2BAA2B,GAAGjG,sBAApC;AAEAA,0BAAsB,GAAG,IAAzB;;AAEA,QACEiG,2BAA2B,KAAK,IAAhC,IACAA,2BAA2B,CAAC96B,MAA5B,GAAqC,CAFvC,EAGE;AACA;AACA;AACA86B,iCAA2B,CAACr8B,OAA5B,CAAoC,UAAAsC,UAAU,EAAI;AAChDmrB,YAAI,CAACxR,IAAL,CAAU,YAAV,EAAwB3Z,UAAxB;AACD,OAFD;AAGD,KATD,MASO;AACL;AACA;AACA,UAAIg6B,WAAW,KAAK,IAApB,EAA0B;AACxBC,4BAAoB,GAAG,IAAvB;AACD,OALI,CAML;;;AACA9O,UAAI,CAAC6D,aAAL,CAAmB/uB,UAAnB,EAA+BvC,OAA/B,CAAuC,UAAA0Q,IAAI,EAAI;AAC7C6gB,qBAAa,GAAGC,oBAAoB,CAAC9gB,IAAI,CAAC/Q,OAAN,CAApC;AACAgyB,wBAAgB,CAACJ,aAAD,EAAgB7gB,IAAI,CAAC/Q,OAArB,CAAhB,CAF6C,CAI7C;;AACA,YAAI2kB,WAAW,IAAI4X,qBAAqB,CAACxrB,IAAD,CAAxC,EAAgD;AAC9C;AACA;AACAimB,wCAA8B,GAAG;AAC/BiE,8BAAkB,EAAEF,wBAAwB,GAAG,IAAIlmB,GAAJ,EAAH,GAAe,IAD5B;AAE/BoiB,qBAAS,EAAE,EAFoB;AAG/B4F,sBAAU,EAAE/Y,uBAAc,KAAKgZ,kBAHA;AAI/BhC,6BAAiB,EAAE,CAJY;AAK/BiC,yBAAa,EAAE,IALgB;AAM/BC,oBAAQ,EAAEC,eAAe,CAAClsB,IAAD,CANM;AAO/BC,0BAAc,EAAE,IAPe;AAQ/BC,iCAAqB,EAAE;AARQ,WAAjC;AAUD;;AAEDghB,6BAAqB,CAAClhB,IAAI,CAAC/Q,OAAN,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,CAArB;AACAqvB,0BAAkB,CAACte,IAAD,CAAlB;AACA6gB,qBAAa,GAAG,CAAC,CAAjB;AACD,OAvBD;AAwBD;AACF;;AAED,WAASqL,eAAT,CAAyBlsB,IAAzB,EAAqE;AACnE,WAAOA,IAAI,CAACmsB,gBAAL,IAAyB,IAAzB,GACH50B,KAAK,CAACC,IAAN,CAAWwI,IAAI,CAACmsB,gBAAhB,EACGC,MADH,CACU,UAAArW,KAAK;AAAA,aAAIkJ,gBAAgB,CAAClJ,KAAD,CAAhB,KAA4B,IAAhC;AAAA,KADf,EAEGjO,GAFH,CAEOukB,wBAFP,CADG,GAIH,IAJJ;AAKD;;AAED,WAASC,wBAAT,CAAkCvW,KAAlC,EAA8C;AAC5C;AACA;AACA;AACA,QAAI,CAACiM,gBAAgB,CAACzhB,GAAjB,CAAqBwV,KAArB,CAAL,EAAkC;AAChC;AACA;AACA;AACAoS,mBAAa,CAACpS,KAAD,EAAQ,KAAR,CAAb;AACD;AACF;;AAED,WAASwW,yBAAT,CAAmCvsB,IAAnC,EAA8C;AAC5C,QAAI4T,WAAW,IAAI4X,qBAAqB,CAACxrB,IAAD,CAAxC,EAAgD;AAC9C,UAAIimB,8BAA8B,KAAK,IAAvC,EAA6C;AAAA,kCAEzClmB,mDAAkB,CAACC,IAAD,CAFuB;AAAA,YACpCC,cADoC,uBACpCA,cADoC;AAAA,YACpBC,qBADoB,uBACpBA,qBADoB,EAG3C;;;AACA+lB,sCAA8B,CAAChmB,cAA/B,GAAgDA,cAAhD,CAJ2C,CAK3C;;AACAgmB,sCAA8B,CAAC/lB,qBAA/B,GACEA,qBADF;AAED;AACF;AACF;;AAED,WAASssB,qBAAT,CAA+BxsB,IAA/B,EAA0CgsB,aAA1C,EAAwE;AACtE,QAAM/8B,OAAO,GAAG+Q,IAAI,CAAC/Q,OAArB;AACA,QAAM8nB,SAAS,GAAG9nB,OAAO,CAAC8nB,SAA1B,CAFsE,CAItE;AACA;;AACAmL,iBAAa;AAEbrB,iBAAa,GAAGC,oBAAoB,CAAC7xB,OAAD,CAApC,CARsE,CAUtE;AACA;;AACA,QAAI28B,WAAW,KAAK,IAApB,EAA0B;AACxBC,0BAAoB,GAAG,IAAvB;AACD;;AAED,QAAI1L,mBAAJ,EAAyB;AACvBC,0BAAoB,CAAC5G,KAArB;AACD,KAlBqE,CAoBtE;;;AACA,QAAMkO,oBAAoB,GAAG8D,qBAAqB,CAACxrB,IAAD,CAAlD;;AAEA,QAAI4T,WAAW,IAAI8T,oBAAnB,EAAyC;AACvC;AACA;AACAzB,oCAA8B,GAAG;AAC/BiE,0BAAkB,EAAEF,wBAAwB,GAAG,IAAIlmB,GAAJ,EAAH,GAAe,IAD5B;AAE/BoiB,iBAAS,EAAE,EAFoB;AAG/B4F,kBAAU,EAAE/Y,uBAAc,KAAKgZ,kBAHA;AAI/BhC,yBAAiB,EAAE,CAJY;AAK/BiC,qBAAa,EACXA,aAAa,IAAI,IAAjB,GAAwB,IAAxB,GAA+BS,mBAAmB,CAACT,aAAD,CANrB;AAQ/BC,gBAAQ,EAAEC,eAAe,CAAClsB,IAAD,CARM;AAU/B;AACA;AACAC,sBAAc,EAAE,IAZe;AAa/BC,6BAAqB,EAAE;AAbQ,OAAjC;AAeD;;AAED,QAAI6W,SAAJ,EAAe;AACb;AACA,UAAM2V,UAAU,GACd3V,SAAS,CAAC8L,aAAV,IAA2B,IAA3B,IACA9L,SAAS,CAAC8L,aAAV,CAAwB5pB,OAAxB,IAAmC,IADnC,IAEA;AACA8d,eAAS,CAAC8L,aAAV,CAAwB8J,YAAxB,KAAyC,IAJ3C;AAKA,UAAMC,SAAS,GACb39B,OAAO,CAAC4zB,aAAR,IAAyB,IAAzB,IACA5zB,OAAO,CAAC4zB,aAAR,CAAsB5pB,OAAtB,IAAiC,IADjC,IAEA;AACAhK,aAAO,CAAC4zB,aAAR,CAAsB8J,YAAtB,KAAuC,IAJzC;;AAKA,UAAI,CAACD,UAAD,IAAeE,SAAnB,EAA8B;AAC5B;AACA3L,wBAAgB,CAACJ,aAAD,EAAgB5xB,OAAhB,CAAhB;AACAiyB,6BAAqB,CAACjyB,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,KAAvB,CAArB;AACD,OAJD,MAIO,IAAIy9B,UAAU,IAAIE,SAAlB,EAA6B;AAClC;AACArC,8BAAsB,CAACt7B,OAAD,EAAU8nB,SAAV,EAAqB,IAArB,EAA2B,KAA3B,CAAtB;AACD,OAHM,MAGA,IAAI2V,UAAU,IAAI,CAACE,SAAnB,EAA8B;AACnC;AACAC,2BAAmB,CAAChM,aAAD,CAAnB;AACAsH,qBAAa,CAACl5B,OAAD,EAAU,KAAV,CAAb;AACD;AACF,KAxBD,MAwBO;AACL;AACAgyB,sBAAgB,CAACJ,aAAD,EAAgB5xB,OAAhB,CAAhB;AACAiyB,2BAAqB,CAACjyB,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,KAAvB,CAArB;AACD;;AAED,QAAI2kB,WAAW,IAAI8T,oBAAnB,EAAyC;AACvC,UAAI,CAAC1B,kCAAkC,EAAvC,EAA2C;AACzC,YAAM8G,uBAAuB,GACzBC,gCAAF,CAAsE38B,GAAtE,CACEywB,aADF,CADF;;AAKA,YAAIiM,uBAAuB,IAAI,IAA/B,EAAqC;AACnCA,iCAAuB,CAACp7B,IAAxB,CACIu0B,8BADJ;AAGD,SAJD,MAIO;AACH8G,0CAAF,CAAsEz8B,GAAtE,CACEuwB,aADF,EAEE,CAAGoF,8BAAH,CAFF;AAID;AACF;AACF,KA3FqE,CA6FtE;;;AACA3H,sBAAkB,CAACte,IAAD,CAAlB;;AAEA,QAAImgB,mBAAJ,EAAyB;AACvBpD,UAAI,CAACxR,IAAL,CAAU,cAAV,EAA0B6U,oBAA1B;AACD;;AAEDS,iBAAa,GAAG,CAAC,CAAjB;AACD;;AAED,WAASuK,wBAAT,CAAkC54B,EAAlC,EAAqE;AACnE,QAAMw6B,MAAM,GAAG,EAAf;AACA,QAAMjX,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAI,CAACujB,KAAL,EAAY;AACV,aAAOiX,MAAP;AACD,KALkE,CAOnE;;;AACA,QAAIpkB,IAAW,GAAGmN,KAAlB;;AACA,WAAO,IAAP,EAAa;AACX,UAAInN,IAAI,CAACwT,GAAL,KAAazB,aAAb,IAA8B/R,IAAI,CAACwT,GAAL,KAAapB,QAA/C,EAAyD;AACvDgS,cAAM,CAACt7B,IAAP,CAAYkX,IAAZ;AACD,OAFD,MAEO,IAAIA,IAAI,CAACib,KAAT,EAAgB;AACrBjb,YAAI,CAACib,KAAL,CAAWnL,MAAX,GAAoB9P,IAApB;AACAA,YAAI,GAAGA,IAAI,CAACib,KAAZ;AACA;AACD;;AACD,UAAIjb,IAAI,KAAKmN,KAAb,EAAoB;AAClB,eAAOiX,MAAP;AACD;;AACD,aAAO,CAACpkB,IAAI,CAACkb,OAAb,EAAsB;AACpB,YAAI,CAAClb,IAAI,CAAC8P,MAAN,IAAgB9P,IAAI,CAAC8P,MAAL,KAAgB3C,KAApC,EAA2C;AACzC,iBAAOiX,MAAP;AACD;;AACDpkB,YAAI,GAAGA,IAAI,CAAC8P,MAAZ;AACD;;AACD9P,UAAI,CAACkb,OAAL,CAAapL,MAAb,GAAsB9P,IAAI,CAAC8P,MAA3B;AACA9P,UAAI,GAAGA,IAAI,CAACkb,OAAZ;AACD,KA5BkE,CA6BnE;AACA;;;AACA,WAAOkJ,MAAP;AACD;;AAED,WAASE,yBAAT,CAAmC16B,EAAnC,EAA+C;AAC7C,QAAI;AACF,UAAIujB,OAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA7C;;AACA,UAAIujB,OAAK,KAAK,IAAd,EAAoB;AAClB,eAAO,IAAP;AACD,OAJC,CAKF;;;AACA,UAAMyT,kBAAkB,GACtBzT,OAAK,CAACqG,GAAN,KAAcV,iBAAd,IAAmC3F,OAAK,CAAC8M,aAAN,KAAwB,IAD7D;;AAEA,UAAI2G,kBAAJ,EAAwB;AACtB;AACA;AACA,YAAM2D,kBAAkB,GAAGpX,OAAK,CAAC8N,KAAN,IAAe9N,OAAK,CAAC8N,KAAN,CAAYC,OAAtD;;AACA,YAAIqJ,kBAAkB,IAAI,IAA1B,EAAgC;AAC9BpX,iBAAK,GAAGoX,kBAAR;AACD;AACF;;AACD,UAAMhC,UAAU,GAAGC,wBAAwB,CAAC54B,EAAD,CAA3C;AACA,aAAO24B,UAAU,CAACrjB,GAAX,CAAe,UAAAujB,SAAS;AAAA,eAAIA,SAAS,CAACjrB,SAAd;AAAA,OAAxB,EAAiDgsB,MAAjD,CAAwDgB,OAAxD,CAAP;AACD,KAlBD,CAkBE,OAAOC,GAAP,EAAY;AACZ;AACA,aAAO,IAAP;AACD;AACF;;AAED,WAASC,wBAAT,CAAkC96B,EAAlC,EAA8C;AAC5C,QAAMujB,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;AACA,WAAOujB,KAAK,IAAI,IAAT,GAAgB5C,sBAAsB,CAAG4C,KAAH,CAAtC,GAAgE,IAAvE;AACD;;AAED,WAASwX,iBAAT,CAA2BC,YAA3B,EAAqD;AACnD,WAAOjpB,QAAQ,CAACI,uBAAT,CAAiC6oB,YAAjC,CAAP;AACD;;AAED,WAASC,mBAAT,CACED,YADF,EAGE;AAAA,QADAE,6BACA,uEADyC,KACzC;AACA,QAAI3X,KAAK,GAAGxR,QAAQ,CAACI,uBAAT,CAAiC6oB,YAAjC,CAAZ;;AACA,QAAIzX,KAAK,IAAI,IAAb,EAAmB;AACjB,UAAI2X,6BAAJ,EAAmC;AACjC,eAAO3X,KAAK,KAAK,IAAV,IAAkBqL,iBAAiB,CAACrL,KAAD,CAA1C,EAAmD;AACjDA,eAAK,GAAGA,KAAK,CAAC2C,MAAd;AACD;AACF;;AACD,aAAOoJ,gBAAgB,CAAG/L,KAAH,CAAvB;AACD;;AACD,WAAO,IAAP;AACD,GA7qEkB,CA+qEnB;AACA;;;AACA,WAAS4X,eAAT,CAAyB5X,KAAzB,EAAuC;AACrC,QAAI6X,sBAAsB,CAAC7X,KAAD,CAAtB,KAAkCA,KAAtC,EAA6C;AAC3C,YAAM,IAAIriB,KAAJ,CAAU,gDAAV,CAAN;AACD;AACF,GArrEkB,CAurEnB;AACA;;;AACA,WAASk6B,sBAAT,CAAgC7X,KAAhC,EAA4D;AAC1D,QAAInN,IAAI,GAAGmN,KAAX;AACA,QAAI8X,cAA4B,GAAG9X,KAAnC;;AACA,QAAI,CAACA,KAAK,CAACgB,SAAX,EAAsB;AACpB;AACA;AACA,UAAI+W,QAAe,GAAGllB,IAAtB;;AACA,SAAG;AACDA,YAAI,GAAGklB,QAAP,CADC,CAED;AACA;AACA;;AACA,YAAMC,SAAS,GAAG,CAAlB;AACA,YAAMC,SAAS,GAAG,IAAlB;;AACA,YAAI,CAACplB,IAAI,CAAC+Q,KAAL,IAAcoU,SAAS,GAAGC,SAA1B,CAAD,MAA2C,CAA/C,EAAkD;AAChD;AACA;AACA;AACAH,wBAAc,GAAGjlB,IAAI,CAAC8P,MAAtB;AACD,SAZA,CAaD;;;AACAoV,gBAAQ,GAAGllB,IAAI,CAAC8P,MAAhB;AACD,OAfD,QAeSoV,QAfT;AAgBD,KApBD,MAoBO;AACL,aAAOllB,IAAI,CAAC8P,MAAZ,EAAoB;AAClB9P,YAAI,GAAGA,IAAI,CAAC8P,MAAZ;AACD;AACF;;AACD,QAAI9P,IAAI,CAACwT,GAAL,KAAavB,QAAjB,EAA2B;AACzB;AACA;AACA,aAAOgT,cAAP;AACD,KAhCyD,CAiC1D;AACA;;;AACA,WAAO,IAAP;AACD,GA7tEkB,CA+tEnB;AACA;AACA;AACA;;;AACA,WAASZ,iCAAT,CAA2Cz6B,EAA3C,EAAqE;AACnE,QAAMujB,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjBpiB,aAAO,CAAC8sB,IAAR,0CAA8CjuB,EAA9C;AACA,aAAO,IAAP;AACD;;AAED,QAAMukB,SAAS,GAAGhB,KAAK,CAACgB,SAAxB;;AACA,QAAI,CAACA,SAAL,EAAgB;AACd;AACA,UAAM8W,cAAc,GAAGD,sBAAsB,CAAC7X,KAAD,CAA7C;;AAEA,UAAI8X,cAAc,KAAK,IAAvB,EAA6B;AAC3B,cAAM,IAAIn6B,KAAJ,CAAU,gDAAV,CAAN;AACD;;AAED,UAAIm6B,cAAc,KAAK9X,KAAvB,EAA8B;AAC5B,eAAO,IAAP;AACD;;AACD,aAAOA,KAAP;AACD,KApBkE,CAqBnE;AACA;AACA;;;AACA,QAAIrnB,CAAQ,GAAGqnB,KAAf;AACA,QAAIpnB,CAAQ,GAAGooB,SAAf;;AACA,WAAO,IAAP,EAAa;AACX,UAAMkX,OAAO,GAAGv/B,CAAC,CAACgqB,MAAlB;;AACA,UAAIuV,OAAO,KAAK,IAAhB,EAAsB;AACpB;AACA;AACD;;AACD,UAAMC,OAAO,GAAGD,OAAO,CAAClX,SAAxB;;AACA,UAAImX,OAAO,KAAK,IAAhB,EAAsB;AACpB;AACA;AACA;AACA;AACA,YAAMC,UAAU,GAAGF,OAAO,CAACvV,MAA3B;;AACA,YAAIyV,UAAU,KAAK,IAAnB,EAAyB;AACvBz/B,WAAC,GAAGC,CAAC,GAAGw/B,UAAR;AACA;AACD,SATmB,CAUpB;;;AACA;AACD,OAnBU,CAqBX;AACA;AACA;;;AACA,UAAIF,OAAO,CAACpK,KAAR,KAAkBqK,OAAO,CAACrK,KAA9B,EAAqC;AACnC,YAAIA,KAAK,GAAGoK,OAAO,CAACpK,KAApB;;AACA,eAAOA,KAAP,EAAc;AACZ,cAAIA,KAAK,KAAKn1B,CAAd,EAAiB;AACf;AACAi/B,2BAAe,CAACM,OAAD,CAAf;AACA,mBAAOlY,KAAP;AACD;;AACD,cAAI8N,KAAK,KAAKl1B,CAAd,EAAiB;AACf;AACAg/B,2BAAe,CAACM,OAAD,CAAf;AACA,mBAAOlX,SAAP;AACD;;AACD8M,eAAK,GAAGA,KAAK,CAACC,OAAd;AACD,SAdkC,CAgBnC;AACA;;;AACA,cAAM,IAAIpwB,KAAJ,CAAU,gDAAV,CAAN;AACD;;AAED,UAAIhF,CAAC,CAACgqB,MAAF,KAAa/pB,CAAC,CAAC+pB,MAAnB,EAA2B;AACzB;AACA;AACA;AACA;AACAhqB,SAAC,GAAGu/B,OAAJ;AACAt/B,SAAC,GAAGu/B,OAAJ;AACD,OAPD,MAOO;AACL;AACA;AACA;AACA;AACA;AACA,YAAIE,YAAY,GAAG,KAAnB;AACA,YAAIvK,MAAK,GAAGoK,OAAO,CAACpK,KAApB;;AACA,eAAOA,MAAP,EAAc;AACZ,cAAIA,MAAK,KAAKn1B,CAAd,EAAiB;AACf0/B,wBAAY,GAAG,IAAf;AACA1/B,aAAC,GAAGu/B,OAAJ;AACAt/B,aAAC,GAAGu/B,OAAJ;AACA;AACD;;AACD,cAAIrK,MAAK,KAAKl1B,CAAd,EAAiB;AACfy/B,wBAAY,GAAG,IAAf;AACAz/B,aAAC,GAAGs/B,OAAJ;AACAv/B,aAAC,GAAGw/B,OAAJ;AACA;AACD;;AACDrK,gBAAK,GAAGA,MAAK,CAACC,OAAd;AACD;;AACD,YAAI,CAACsK,YAAL,EAAmB;AACjB;AACAvK,gBAAK,GAAGqK,OAAO,CAACrK,KAAhB;;AACA,iBAAOA,MAAP,EAAc;AACZ,gBAAIA,MAAK,KAAKn1B,CAAd,EAAiB;AACf0/B,0BAAY,GAAG,IAAf;AACA1/B,eAAC,GAAGw/B,OAAJ;AACAv/B,eAAC,GAAGs/B,OAAJ;AACA;AACD;;AACD,gBAAIpK,MAAK,KAAKl1B,CAAd,EAAiB;AACfy/B,0BAAY,GAAG,IAAf;AACAz/B,eAAC,GAAGu/B,OAAJ;AACAx/B,eAAC,GAAGu/B,OAAJ;AACA;AACD;;AACDpK,kBAAK,GAAGA,MAAK,CAACC,OAAd;AACD;;AAED,cAAI,CAACsK,YAAL,EAAmB;AACjB,kBAAM,IAAI16B,KAAJ,CACJ,oEACE,+DAFE,CAAN;AAID;AACF;AACF;;AAED,UAAIhF,CAAC,CAACqoB,SAAF,KAAgBpoB,CAApB,EAAuB;AACrB,cAAM,IAAI+E,KAAJ,CACJ,6DACE,sEAFE,CAAN;AAID;AACF,KAvIkE,CAyInE;AACA;;;AACA,QAAIhF,CAAC,CAAC0tB,GAAF,KAAUvB,QAAd,EAAwB;AACtB,YAAM,IAAInnB,KAAJ,CAAU,gDAAV,CAAN;AACD;;AAED,QAAIhF,CAAC,CAAC0R,SAAF,CAAYnR,OAAZ,KAAwBP,CAA5B,EAA+B;AAC7B;AACA,aAAOqnB,KAAP;AACD,KAlJkE,CAmJnE;;;AACA,WAAOgB,SAAP;AACD,GAx3EkB,CA03EnB;;;AAEA,WAASsX,0BAAT,CACE77B,EADF,EAEEwE,IAFF,EAGQ;AACN,QAAIs3B,8BAA8B,CAAC97B,EAAD,CAAlC,EAAwC;AACtCsP,YAAM,CAACysB,UAAP,GAAoBz3B,oCAAW,CAC3BgoB,4BAD2B,EAE7B9nB,IAF6B,CAA/B;AAID;AACF;;AAED,WAASw3B,wBAAT,CAAkCh8B,EAAlC,EAAoD;AAClD,QAAMujB,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjBpiB,aAAO,CAAC8sB,IAAR,0CAA8CjuB,EAA9C;AACA;AACD;;AALiD,QAO3C0G,WAP2C,GAOjB6c,KAPiB,CAO3C7c,WAP2C;AAAA,QAO9BkjB,GAP8B,GAOjBrG,KAPiB,CAO9BqG,GAP8B;AAAA,QAOzBlsB,IAPyB,GAOjB6lB,KAPiB,CAOzB7lB,IAPyB;;AASlD,YAAQksB,GAAR;AACE,WAAK9B,cAAL;AACA,WAAKW,wBAAL;AACA,WAAKC,sBAAL;AACA,WAAKR,iBAAL;AACEvW,cAAM,CAACsqB,KAAP,GAAev+B,IAAf;AACA;;AACF,WAAKoJ,UAAL;AACE6K,cAAM,CAACsqB,KAAP,GAAev+B,IAAI,CAACisB,MAApB;AACA;;AACF,WAAKd,aAAL;AACA,WAAKI,mBAAL;AACEtX,cAAM,CAACsqB,KAAP,GACEv1B,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAChJ,IAAZ,IAAoB,IAA3C,GACIgJ,WAAW,CAAChJ,IADhB,GAEIA,IAHN;AAIA;;AACF;AACEiU,cAAM,CAACsqB,KAAP,GAAe,IAAf;AACA;AAnBJ;AAqBD;;AAED,WAASpC,wBAAT,CAAkCtW,KAAlC,EAAmE;AACjE,WAAO;AACL/lB,iBAAW,EAAEmjB,sBAAsB,CAAC4C,KAAD,CAAtB,IAAiC,WADzC;AAELvjB,QAAE,EAAEsvB,gBAAgB,CAAC/L,KAAD,CAFf;AAGLxmB,SAAG,EAAEwmB,KAAK,CAACxmB,GAHN;AAILW,UAAI,EAAEoxB,sBAAsB,CAACvL,KAAD;AAJvB,KAAP;AAMD;;AAED,WAAS2Y,aAAT,CAAuBl8B,EAAvB,EAAoE;AAClE,QAAMujB,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AAJiE,QAM3D+R,WAN2D,GAM5C/R,KAN4C,CAM3D+R,WAN2D;AAQlE,QAAM6G,MAAgC,GAAG,CAACtC,wBAAwB,CAACtW,KAAD,CAAzB,CAAzC;;AAEA,QAAI+R,WAAJ,EAAiB;AACf,UAAI8G,KAAmB,GAAG9G,WAA1B;;AACA,aAAO8G,KAAK,KAAK,IAAjB,EAAuB;AACrBD,cAAM,CAAC/sB,OAAP,CAAeyqB,wBAAwB,CAACuC,KAAD,CAAvC;AACAA,aAAK,GAAGA,KAAK,CAAC9G,WAAN,IAAqB,IAA7B;AACD;AACF;;AAED,WAAO6G,MAAP;AACD,GAp8EkB,CAs8EnB;AACA;AACA;;;AACA,WAASE,mBAAT,CAA6Br8B,EAA7B,EAA2D;AACzD,QAAIgxB,QAAQ,GAAG,IAAf;AACA,QAAI9iB,KAAK,GAAG,IAAZ;AAEA,QAAMqV,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,KAAK,IAAd,EAAoB;AAClByN,cAAQ,GAAGzN,KAAK,CAAC3V,SAAjB;;AAEA,UAAI2V,KAAK,CAAC4G,aAAN,KAAwB,IAA5B,EAAkC;AAChCjc,aAAK,GAAGqV,KAAK,CAAC4G,aAAN,CAAoBjc,KAA5B;AACD;AACF;;AAED,WAAO;AAAC8iB,cAAQ,EAARA,QAAD;AAAW9iB,WAAK,EAALA;AAAX,KAAP;AACD;;AAED,WAASouB,eAAT,CAAyB/Y,KAAzB,EAAgD;AAAA,QACvCqG,GADuC,GAC1BrG,KAD0B,CACvCqG,GADuC;AAAA,QAClClsB,IADkC,GAC1B6lB,KAD0B,CAClC7lB,IADkC;;AAG9C,YAAQksB,GAAR;AACE,WAAK9B,cAAL;AACA,WAAKW,wBAAL;AACE,YAAMuI,QAAQ,GAAGzN,KAAK,CAAC3V,SAAvB;AACA,eACE,OAAOlQ,IAAI,CAAC6+B,wBAAZ,KAAyC,UAAzC,IACCvL,QAAQ,KAAK,IAAb,IACC,OAAOA,QAAQ,CAACwL,iBAAhB,KAAsC,UAH1C;;AAKF;AACE,eAAO,KAAP;AAVJ;AAYD;;AAED,WAASC,yBAAT,CAAmClZ,KAAnC,EAAgE;AAC9D,QAAIpe,MAAM,GAAGoe,KAAK,CAAC2C,MAAnB;;AACA,WAAO/gB,MAAM,KAAK,IAAlB,EAAwB;AACtB,UAAIm3B,eAAe,CAACn3B,MAAD,CAAnB,EAA6B;AAC3B,eAAOsnB,gBAAgB,CAACtnB,MAAD,CAAvB;AACD;;AACDA,YAAM,GAAGA,MAAM,CAAC+gB,MAAhB;AACD;;AACD,WAAO,IAAP;AACD;;AAED,WAASwW,iBAAT,CAA2B18B,EAA3B,EAAgE;AAC9D,QAAMujB,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AAJ6D,QAO5D+R,WAP4D,GAgB1D/R,KAhB0D,CAO5D+R,WAP4D;AAAA,QAQ5DzG,YAR4D,GAgB1DtL,KAhB0D,CAQ5DsL,YAR4D;AAAA,QAS5DjhB,SAT4D,GAgB1D2V,KAhB0D,CAS5D3V,SAT4D;AAAA,QAU5D7Q,GAV4D,GAgB1DwmB,KAhB0D,CAU5DxmB,GAV4D;AAAA,QAW5DotB,aAX4D,GAgB1D5G,KAhB0D,CAW5D4G,aAX4D;AAAA,QAY5DkG,aAZ4D,GAgB1D9M,KAhB0D,CAY5D8M,aAZ4D;AAAA,QAa5Da,YAb4D,GAgB1D3N,KAhB0D,CAa5D2N,YAb4D;AAAA,QAc5DtH,GAd4D,GAgB1DrG,KAhB0D,CAc5DqG,GAd4D;AAAA,QAe5DlsB,IAf4D,GAgB1D6lB,KAhB0D,CAe5D7lB,IAf4D;AAkB9D,QAAMgJ,WAAW,GAAGooB,sBAAsB,CAACvL,KAAD,CAA1C;AAEA,QAAMoZ,SAAS,GACb,CAAC/S,GAAG,KAAK1B,iBAAR,IACC0B,GAAG,KAAKX,mBADT,IAECW,GAAG,KAAK9iB,UAFV,MAGC,CAAC,CAACupB,aAAF,IAAmB,CAAC,CAACa,YAHtB,CADF,CApB8D,CA0B9D;AACA;;AACA,QAAM0L,SAAS,GAAG,CAACD,SAAD,IAAc/S,GAAG,KAAK/B,cAAxC;AAEA,QAAM6B,UAAU,GAAGJ,aAAa,CAAC5rB,IAAD,CAAhC;AAEA,QAAIm/B,aAAa,GAAG,KAApB;AACA,QAAI3S,OAAO,GAAG,IAAd;;AACA,QACEN,GAAG,KAAK9B,cAAR,IACA8B,GAAG,KAAK1B,iBADR,IAEA0B,GAAG,KAAKnB,wBAFR,IAGAmB,GAAG,KAAKlB,sBAHR,IAIAkB,GAAG,KAAKf,aAJR,IAKAe,GAAG,KAAK9iB,UALR,IAMA8iB,GAAG,KAAKX,mBAPV,EAQE;AACA4T,mBAAa,GAAG,IAAhB;;AACA,UAAIjvB,SAAS,IAAIA,SAAS,CAACsc,OAAV,IAAqB,IAAtC,EAA4C;AAC1C;AACA,YAAM4S,iBAAiB,GACrBp2B,WAAW,KAAKhD,iCAAhB,IACA,EAAEhG,IAAI,CAACq/B,YAAL,IAAqBr/B,IAAI,CAACuzB,WAA5B,CAFF;;AAIA,YAAI,CAAC6L,iBAAL,EAAwB;AACtB5S,iBAAO,GAAGtc,SAAS,CAACsc,OAApB;AACD;AACF;AACF,KApBD,MAoBO,IACLR,UAAU,KAAKrf,sCAAf,IACAqf,UAAU,KAAKpf,6CAFV,EAGL;AACA;AACA;AACA;AACA,UAAM0yB,uBAAuB,GAAGt/B,IAAI,CAACusB,QAAL,IAAiBvsB,IAAjD,CAJA,CAMA;;AACAwsB,aAAO,GAAG8S,uBAAuB,CAACC,aAAxB,IAAyC,IAAnD,CAPA,CASA;;AACA,UAAIxgC,QAAO,GAAK8mB,KAAF,CAAsB2C,MAApC;;AACA,aAAOzpB,QAAO,KAAK,IAAnB,EAAyB;AACvB,YAAMygC,WAAW,GAAGzgC,QAAO,CAACiB,IAA5B;AACA,YAAMy/B,iBAAiB,GAAG7T,aAAa,CAAC4T,WAAD,CAAvC;;AACA,YACEC,iBAAiB,KAAK1xB,uCAAtB,IACA0xB,iBAAiB,KAAKzxB,8CAFxB,EAGE;AACA;AACA;AACA;AACA,cAAM0xB,uBAAuB,GAC3BF,WAAW,CAACjT,QAAZ,IAAwBiT,WAAW,CAAChT,OADtC;;AAEA,cAAIkT,uBAAuB,KAAKJ,uBAAhC,EAAyD;AACvD9S,mBAAO,GAAGztB,QAAO,CAAC0tB,aAAR,CAAsB5oB,KAAhC;AACA;AACD;AACF;;AAED9E,gBAAO,GAAGA,QAAO,CAACypB,MAAlB;AACD;AACF;;AAED,QAAImX,gBAAgB,GAAG,KAAvB;;AACA,QAAInT,OAAO,KAAK,IAAhB,EAAsB;AACpBmT,sBAAgB,GAAG,CAAC,CAAC3/B,IAAI,CAACq/B,YAA1B,CADoB,CAGpB;AACA;;AACA7S,aAAO,GAAG;AAAC3oB,aAAK,EAAE2oB;AAAR,OAAV;AACD;;AAED,QAAIiS,MAAM,GAAG,IAAb;;AACA,QAAI7G,WAAJ,EAAiB;AACf6G,YAAM,GAAI,EAAV;AACA,UAAIC,KAAmB,GAAG9G,WAA1B;;AACA,aAAO8G,KAAK,KAAK,IAAjB,EAAuB;AACrBD,cAAM,CAACj9B,IAAP,CAAY26B,wBAAwB,CAACuC,KAAD,CAApC;AACAA,aAAK,GAAGA,KAAK,CAAC9G,WAAN,IAAqB,IAA7B;AACD;AACF;;AAED,QAAM0B,kBAAkB,GACtBpN,GAAG,KAAKV,iBAAR,IAA6BmH,aAAa,KAAK,IADjD;AAGA,QAAIG,KAAK,GAAG,IAAZ;;AACA,QAAImM,SAAJ,EAAe;AACb,UAAM/pB,sBAA8C,GAAG,EAAvD,CADa,CAGb;;AACA,WAAK,IAAM3B,MAAX,IAAqB9P,OAArB,EAA8B;AAC5B,YAAI;AACFyR,gCAAsB,CAAC3B,MAAD,CAAtB,GAAiC9P,OAAO,CAAC8P,MAAD,CAAxC,CADE,CAEF;;AACA9P,iBAAO,CAAC8P,MAAD,CAAP,GAAkB,YAAM,CAAE,CAA1B;AACD,SAJD,CAIE,OAAOjP,KAAP,EAAc,CAAE;AACnB;;AAED,UAAI;AACFwuB,aAAK,GAAG8M,gDAAmB,CACzB/Z,KADyB,EAExBxR,QAAQ,CAACE,oBAFe,EAGzB,IAHyB,CAGnB;AAHmB,SAA3B;AAKD,OAND,SAMU;AACR;AACA,aAAK,IAAMhB,OAAX,IAAqB2B,sBAArB,EAA6C;AAC3C,cAAI;AACF;AACAzR,mBAAO,CAAC8P,OAAD,CAAP,GAAkB2B,sBAAsB,CAAC3B,OAAD,CAAxC;AACD,WAHD,CAGE,OAAOjP,KAAP,EAAc,CAAE;AACnB;AACF;AACF;;AAED,QAAIu7B,QAAQ,GAAG,IAAf;AACA,QAAI9gC,OAAO,GAAG8mB,KAAd;;AACA,WAAO9mB,OAAO,CAACypB,MAAR,KAAmB,IAA1B,EAAgC;AAC9BzpB,aAAO,GAAGA,OAAO,CAACypB,MAAlB;AACD;;AACD,QAAM6D,SAAS,GAAGttB,OAAO,CAACmR,SAA1B;;AACA,QAAImc,SAAS,IAAI,IAAb,IAAqBA,SAAS,CAACC,cAAV,KAA6B,IAAtD,EAA4D;AAC1DuT,cAAQ,GAAGxT,SAAS,CAACC,cAArB;AACD;;AAED,QAAMwT,MAAM,GAAG9R,kBAAkB,CAAC9tB,GAAnB,CAAuBoC,EAAvB,KAA8B,IAAIsR,GAAJ,EAA7C;AACA,QAAMmsB,QAAQ,GAAG9R,oBAAoB,CAAC/tB,GAArB,CAAyBoC,EAAzB,KAAgC,IAAIsR,GAAJ,EAAjD;AAEA,QAAIosB,SAAS,GAAG,KAAhB;AACA,QAAIC,qBAAJ;;AACA,QAAIrB,eAAe,CAAC/Y,KAAD,CAAnB,EAA4B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAMqa,UAAU,GAAG,GAAnB;AACAF,eAAS,GACP,CAACna,KAAK,CAAC4D,KAAN,GAAcyW,UAAf,MAA+B,CAA/B,IACAlR,qBAAqB,CAAC9uB,GAAtB,CAA0BoC,EAA1B,MAAkC,IAFpC;AAGA29B,2BAAqB,GAAGD,SAAS,GAAG19B,EAAH,GAAQy8B,yBAAyB,CAAClZ,KAAD,CAAlE;AACD,KAdD,MAcO;AACLoa,2BAAqB,GAAGlB,yBAAyB,CAAClZ,KAAD,CAAjD;AACD;;AAED,QAAMsa,OAAgB,GAAG;AACvBC,YAAM,EAAE;AADe,KAAzB;;AAIA,QAAInnB,6DAAJ,EAA0B;AACxB,UAAIwT,aAAa,CAAC1uB,cAAd,CAA6B,QAA7B,CAAJ,EAA4C;AAC1CoiC,eAAO,CAACC,MAAR,GAAiBxgB,aAAa,CAAC6M,aAAa,CAAC4T,MAAf,CAA9B;AACD;AACF;;AAED,WAAO;AACL/9B,QAAE,EAAFA,EADK;AAGL;AACAg+B,kBAAY,EAAE,OAAOtT,iBAAP,KAA6B,UAJtC;AAKLuT,0BAAoB,EAAE,OAAOpT,aAAP,KAAyB,UAL1C;AAOL;AACAqT,gCAA0B,EACxB,OAAOvT,2BAAP,KAAuC,UATpC;AAULwT,gCAA0B,EACxB,OAAOvT,2BAAP,KAAuC,UAXpC;AAYLwT,qCAA+B,EAC7B,OAAOtT,uBAAP,KAAmC,UAbhC;AAcLuT,qCAA+B,EAC7B,OAAOtT,uBAAP,KAAmC,UAfhC;AAiBLuT,oBAAc,EAAElT,qBAAqB,IAAIuS,qBAAqB,IAAI,IAjB7D;AAkBL;AACAD,eAAS,EAATA,SAnBK;AAoBLC,2BAAqB,EAArBA,qBApBK;AAsBLY,uBAAiB,EACflT,wBAAwB,MACxB;AACC,OAAC2L,kBAAD,IACC;AACA;AACAwH,iCAA2B,CAACzwB,GAA5B,CAAgC/N,EAAhC,CALsB,CAvBrB;AA8BL;AACA68B,mBAAa,EAAbA,aA/BK;AAiCL;AACAQ,sBAAgB,EAAhBA,gBAlCK;AAoCLtgC,SAAG,EAAEA,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,IApCpB;AAsCLS,iBAAW,EAAEmjB,sBAAsB,CAAC4C,KAAD,CAtC9B;AAuCL7lB,UAAI,EAAEgJ,WAvCD;AAyCL;AACA;AACAwjB,aAAO,EAAPA,OA3CK;AA4CLsG,WAAK,EAALA,KA5CK;AA6CLP,WAAK,EAAE9F,aA7CF;AA8CL+F,WAAK,EAAE0M,SAAS,GAAGvM,aAAH,GAAmB,IA9C9B;AA+CLmN,YAAM,EAAEz4B,KAAK,CAACC,IAAN,CAAWw4B,MAAM,CAAC3f,OAAP,EAAX,CA/CH;AAgDL4f,cAAQ,EAAE14B,KAAK,CAACC,IAAN,CAAWy4B,QAAQ,CAAC5f,OAAT,EAAX,CAhDL;AAkDL;AACAse,YAAM,EAANA,MAnDK;AAqDL;AACA5lB,YAAM,EAAEsY,YAAY,IAAI,IAtDnB;AAwDL0O,cAAQ,EAARA,QAxDK;AAyDLkB,yBAAmB,EAAE1sB,QAAQ,CAAC0sB,mBAzDzB;AA0DLC,qBAAe,EAAE3sB,QAAQ,CAACzF,OA1DrB;AA4DLuxB,aAAO,EAAPA;AA5DK,KAAP;AA8DD;;AAED,MAAIvR,4BAAqD,GAAG,IAA5D;AACA,MAAIC,mCAA4C,GAAG,KAAnD;AACA,MAAIoS,uBAA+B,GAAG,EAAtC;;AAEA,WAAS7C,8BAAT,CAAwC97B,EAAxC,EAA6D;AAC3D,WACEssB,4BAA4B,KAAK,IAAjC,IACAA,4BAA4B,CAACtsB,EAA7B,KAAoCA,EAFtC;AAID;;AAED,WAAS4+B,qCAAT,CAA+C5+B,EAA/C,EAAoE;AAClE,WACE87B,8BAA8B,CAAC97B,EAAD,CAA9B,IAAsC,CAACusB,mCADzC;AAGD,GA7vFkB,CA+vFnB;AACA;;;AACA,WAASsS,mBAAT,CAA6Br6B,IAA7B,EAA2D;AACzD,QAAI/H,OAAO,GAAGkiC,uBAAd;AACAn6B,QAAI,CAAC1H,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,UAAI,CAACN,OAAO,CAACM,GAAD,CAAZ,EAAmB;AACjBN,eAAO,CAACM,GAAD,CAAP,GAAe,EAAf;AACD;;AACDN,aAAO,GAAGA,OAAO,CAACM,GAAD,CAAjB;AACD,KALD;AAMD;;AAED,WAAS+hC,mBAAT,CACE/hC,GADF,EAEEgiC,iBAFF,EAGE;AACA;AACA;AACA,WAAO,SAAStyB,aAAT,CAAuBjI,IAAvB,EAA8D;AACnE,cAAQu6B,iBAAR;AACE,aAAK,OAAL;AACE,cAAIv6B,IAAI,CAACnG,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACA,mBAAO,IAAP;AACD;;AAED,cACEmG,IAAI,CAACA,IAAI,CAACnG,MAAL,GAAc,CAAf,CAAJ,KAA0B,YAA1B,IACAmG,IAAI,CAACA,IAAI,CAACnG,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAF5B,EAGE;AACA;AACA;AACA;AACA,mBAAO,IAAP;AACD;;AAED,cACEmG,IAAI,CAACA,IAAI,CAACnG,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAA1B,IACAmG,IAAI,CAACA,IAAI,CAACnG,MAAL,GAAc,CAAf,CAAJ,KAA0B,UAF5B,EAGE;AACA;AACA;AACA;AACA,mBAAO,IAAP;AACD;;AACD;;AACF;AACE;AA5BJ;;AA+BA,UAAI5B,OAAO,GACTM,GAAG,KAAK,IAAR,GAAe4hC,uBAAf,GAAyCA,uBAAuB,CAAC5hC,GAAD,CADlE;;AAEA,UAAI,CAACN,OAAL,EAAc;AACZ,eAAO,KAAP;AACD;;AACD,WAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoG,IAAI,CAACnG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC3B,eAAO,GAAGA,OAAO,CAAC+H,IAAI,CAACpG,CAAD,CAAL,CAAjB;;AACA,YAAI,CAAC3B,OAAL,EAAc;AACZ,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD,KA5CD;AA6CD;;AAED,WAASuiC,qBAAT,CAA+BC,gBAA/B,EAAyE;AAAA,QAChEzO,KADgE,GAC5CyO,gBAD4C,CAChEzO,KADgE;AAAA,QACzDxwB,EADyD,GAC5Ci/B,gBAD4C,CACzDj/B,EADyD;AAAA,QACrDiwB,KADqD,GAC5CgP,gBAD4C,CACrDhP,KADqD;AAGvE,QAAM1M,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjBpiB,aAAO,CAAC8sB,IAAR,0CAA8CjuB,EAA9C;AACA;AACD;;AAPsE,QAShE0G,WATgE,GAS3B6c,KAT2B,CAShE7c,WATgE;AAAA,QASnDkH,SATmD,GAS3B2V,KAT2B,CASnD3V,SATmD;AAAA,QASxCgc,GATwC,GAS3BrG,KAT2B,CASxCqG,GATwC;AAAA,QASnClsB,IATmC,GAS3B6lB,KAT2B,CASnC7lB,IATmC;;AAWvE,YAAQksB,GAAR;AACE,WAAK9B,cAAL;AACA,WAAKW,wBAAL;AACA,WAAKC,sBAAL;AACE/W,cAAM,CAACutB,EAAP,GAAYtxB,SAAZ;AACA;;AACF,WAAKsa,iBAAL;AACEvW,cAAM,CAACutB,EAAP,GAAY;AACV1O,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVvyB,cAAI,EAAJA;AAHU,SAAZ;AAKA;;AACF,WAAKoJ,UAAL;AACE6K,cAAM,CAACutB,EAAP,GAAY;AACV1O,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVvyB,cAAI,EAAEA,IAAI,CAACisB;AAHD,SAAZ;AAKA;;AACF,WAAKd,aAAL;AACA,WAAKI,mBAAL;AACEtX,cAAM,CAACutB,EAAP,GAAY;AACV1O,eAAK,EAALA,KADU;AAEVP,eAAK,EAALA,KAFU;AAGVvyB,cAAI,EACFgJ,WAAW,IAAI,IAAf,IAAuBA,WAAW,CAAChJ,IAAZ,IAAoB,IAA3C,GACIgJ,WAAW,CAAChJ,IADhB,GAEIA;AANI,SAAZ;AAQA;;AACF;AACEiU,cAAM,CAACutB,EAAP,GAAY,IAAZ;AACA;AAjCJ;AAmCD;;AAED,WAASC,aAAT,CACEn/B,EADF,EAEEwE,IAFF,EAGEsoB,KAHF,EAIQ;AACN,QAAIgP,8BAA8B,CAAC97B,EAAD,CAAlC,EAAwC;AACtC,UAAMuB,KAAK,GAAG+C,oCAAW,CACrBgoB,4BADqB,EAEvB9nB,IAFuB,CAAzB;AAIA,UAAMzH,GAAG,uBAAgB+vB,KAAhB,CAAT;AAEAxd,YAAM,CAACvS,GAAD,CAAN,GAAcwE,KAAd;AAEAJ,aAAO,CAACC,GAAR,CAAYrE,GAAZ;AACAoE,aAAO,CAACC,GAAR,CAAYG,KAAZ;AACD;AACF;;AAED,WAAS69B,+BAAT,CACEp/B,EADF,EAEEwE,IAFF,EAGW;AACT,QAAIs3B,8BAA8B,CAAC97B,EAAD,CAAlC,EAAwC;AACtC,UAAMq/B,WAAW,GAAG/6B,oCAAW,CAC3BgoB,4BAD2B,EAE7B9nB,IAF6B,CAA/B;AAKA,aAAOqJ,kDAAiB,CAACwxB,WAAD,CAAxB;AACD;AACF;;AAED,WAASC,cAAT,CACEC,SADF,EAEEv/B,EAFF,EAGEwE,IAHF,EAIEg7B,aAJF,EAK2B;AACzB,QAAIh7B,IAAI,KAAK,IAAb,EAAmB;AACjBq6B,yBAAmB,CAACr6B,IAAD,CAAnB;AACD;;AAED,QAAIs3B,8BAA8B,CAAC97B,EAAD,CAA9B,IAAsC,CAACw/B,aAA3C,EAA0D;AACxD,UAAI,CAACjT,mCAAL,EAA0C;AACxC,YAAI/nB,IAAI,KAAK,IAAb,EAAmB;AACjB,cAAIu6B,iBAAiB,GAAG,IAAxB;;AACA,cAAIv6B,IAAI,CAAC,CAAD,CAAJ,KAAY,OAAhB,EAAyB;AACvBu6B,6BAAiB,GAAG,OAApB;AACD,WAJgB,CAMjB;AACA;;;AACA,iBAAO;AACL/+B,cAAE,EAAFA,EADK;AAELy/B,sBAAU,EAAEF,SAFP;AAGL7hC,gBAAI,EAAE,eAHD;AAIL8G,gBAAI,EAAJA,IAJK;AAKLjD,iBAAK,EAAEiL,+CAAc,CACnBlI,oCAAW,CACPgoB,4BADO,EAET9nB,IAFS,CADQ,EAKnBs6B,mBAAmB,CAAC,IAAD,EAAOC,iBAAP,CALA,EAMnBv6B,IANmB;AALhB,WAAP;AAcD,SAtBD,MAsBO;AACL;AACA;AACA,iBAAO;AACLxE,cAAE,EAAFA,EADK;AAELy/B,sBAAU,EAAEF,SAFP;AAGL7hC,gBAAI,EAAE;AAHD,WAAP;AAKD;AACF;AACF,KAlCD,MAkCO;AACLihC,6BAAuB,GAAG,EAA1B;AACD;;AAEDpS,uCAAmC,GAAG,KAAtC;;AAEA,QAAI;AACFD,kCAA4B,GAAGoQ,iBAAiB,CAAC18B,EAAD,CAAhD;AACD,KAFD,CAEE,OAAOgC,KAAP,EAAc;AACd;AACA,UAAIA,KAAK,CAACnE,IAAN,KAAe,4BAAnB,EAAiD;AAC/C,YAAI2mB,OAAO,GAAG,oCAAd;AACA,YAAI6I,KAAJ,CAF+C,CAG/C;;AACAlsB,eAAO,CAACa,KAAR,CAAcwiB,OAAO,GAAG,MAAxB,EAAgCxiB,KAAhC;;AACA,YAAIA,KAAK,CAAC09B,KAAN,IAAe,IAAnB,EAAyB;AACvB,cAAMnc,OAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,cAAMwjB,aAAa,GACjBD,OAAK,IAAI,IAAT,GAAgB5C,sBAAsB,CAAC4C,OAAD,CAAtC,GAAgD,IADlD;AAEApiB,iBAAO,CAACa,KAAR,CACE,wEACE,uEADF,IAEGwhB,aAAa,IAAI,IAAjB,iBAA8BA,aAA9B,WAAkD,GAFrD,IAGE,8CAJJ,EAKExhB,KAAK,CAAC09B,KALR;;AAOA,cAAI19B,KAAK,CAAC09B,KAAN,YAAuBx+B,KAA3B,EAAkC;AAChCsjB,mBAAO,GAAGxiB,KAAK,CAAC09B,KAAN,CAAYlb,OAAZ,IAAuBA,OAAjC;AACA6I,iBAAK,GAAGrrB,KAAK,CAAC09B,KAAN,CAAYrS,KAApB;AACD;AACF;;AAED,eAAO;AACL3vB,cAAI,EAAE,OADD;AAELiiC,mBAAS,EAAE,MAFN;AAGL3/B,YAAE,EAAFA,EAHK;AAILy/B,oBAAU,EAAEF,SAJP;AAKL/a,iBAAO,EAAPA,OALK;AAML6I,eAAK,EAALA;AANK,SAAP;AAQD,OAhCa,CAkCd;;;AACA,UAAIrrB,KAAK,CAACnE,IAAN,KAAe,qCAAnB,EAA0D;AACxD,eAAO;AACLH,cAAI,EAAE,OADD;AAELiiC,mBAAS,EAAE,cAFN;AAGL3/B,YAAE,EAAFA,EAHK;AAILy/B,oBAAU,EAAEF,SAJP;AAKL/a,iBAAO,EACL,wDACAxiB,KAAK,CAACwiB;AAPH,SAAP;AASD,OA7Ca,CA+Cd;;;AACArjB,aAAO,CAACa,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;AAEA,aAAO;AACLtE,YAAI,EAAE,OADD;AAELiiC,iBAAS,EAAE,UAFN;AAGL3/B,UAAE,EAAFA,EAHK;AAILy/B,kBAAU,EAAEF,SAJP;AAKL/a,eAAO,EAAExiB,KAAK,CAACwiB,OALV;AAML6I,aAAK,EAAErrB,KAAK,CAACqrB;AANR,OAAP;AAQD;;AAED,QAAIf,4BAA4B,KAAK,IAArC,EAA2C;AACzC,aAAO;AACLtsB,UAAE,EAAFA,EADK;AAELy/B,kBAAU,EAAEF,SAFP;AAGL7hC,YAAI,EAAE;AAHD,OAAP;AAKD,KAjHwB,CAmHzB;AACA;AACA;;;AACAshC,yBAAqB,CAAC1S,4BAAD,CAArB,CAtHyB,CAwHzB;AACA;AACA;;AACA,QAAMsT,uBAAuB,qBAAOtT,4BAAP,CAA7B,CA3HyB,CA4HzB;;;AACAsT,2BAAuB,CAAC1V,OAAxB,GAAkC1d,+CAAc,CAC9CozB,uBAAuB,CAAC1V,OADsB,EAE9C4U,mBAAmB,CAAC,SAAD,EAAY,IAAZ,CAF2B,CAAhD,CA7HyB,CAiIzB;;AACAc,2BAAuB,CAACpP,KAAxB,GAAgChkB,+CAAc,CAC5CozB,uBAAuB,CAACpP,KADoB,EAE5CsO,mBAAmB,CAAC,OAAD,EAAU,OAAV,CAFyB,CAA9C,CAlIyB,CAsIzB;;AACAc,2BAAuB,CAAC3P,KAAxB,GAAgCzjB,+CAAc,CAC5CozB,uBAAuB,CAAC3P,KADoB,EAE5C6O,mBAAmB,CAAC,OAAD,EAAU,IAAV,CAFyB,CAA9C,CAvIyB,CA2IzB;;AACAc,2BAAuB,CAAC1P,KAAxB,GAAgC1jB,+CAAc,CAC5CozB,uBAAuB,CAAC1P,KADoB,EAE5C4O,mBAAmB,CAAC,OAAD,EAAU,IAAV,CAFyB,CAA9C;AAKA,WAAO;AACL9+B,QAAE,EAAFA,EADK;AAELy/B,gBAAU,EAAEF,SAFP;AAGL7hC,UAAI,EAAE,WAHD;AAIL;AACA6D,WAAK,EAAEq+B;AALF,KAAP;AAOD;;AAED,WAASC,mBAAT,CAA6B7/B,EAA7B,EAAyC;AACvC,QAAMmb,MAAM,GAAGyjB,qCAAqC,CAAC5+B,EAAD,CAArC,GACXssB,4BADW,GAEXoQ,iBAAiB,CAAC18B,EAAD,CAFrB;;AAGA,QAAImb,MAAM,KAAK,IAAf,EAAqB;AACnBha,aAAO,CAAC8sB,IAAR,0CAA8CjuB,EAA9C;AACA;AACD;;AAED,QAAM8/B,aAAa,GAAG,OAAO3+B,OAAO,CAACisB,cAAf,KAAkC,UAAxD;;AACA,QAAI0S,aAAJ,EAAmB;AACjB3+B,aAAO,CAACisB,cAAR,gCAC0BjS,MAAM,CAAC3d,WAAP,IAAsB,WADhD,UAEE;AACA,8DAHF;AAKD;;AACD,QAAI2d,MAAM,CAAC8U,KAAP,KAAiB,IAArB,EAA2B;AACzB9uB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB+Z,MAAM,CAAC8U,KAA7B;AACD;;AACD,QAAI9U,MAAM,CAAC+U,KAAP,KAAiB,IAArB,EAA2B;AACzB/uB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB+Z,MAAM,CAAC+U,KAA7B;AACD;;AACD,QAAI/U,MAAM,CAACqV,KAAP,KAAiB,IAArB,EAA2B;AACzBrvB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB+Z,MAAM,CAACqV,KAA7B;AACD;;AACD,QAAMuP,WAAW,GAAGrF,yBAAyB,CAAC16B,EAAD,CAA7C;;AACA,QAAI+/B,WAAW,KAAK,IAApB,EAA0B;AACxB5+B,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB2+B,WAAtB;AACD;;AACD,QAAI5kB,MAAM,CAAC5E,MAAP,KAAkB,IAAtB,EAA4B;AAC1BpV,aAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB+Z,MAAM,CAAC5E,MAAhC;AACD;;AACD,QAAIjH,MAAM,CAAC0wB,MAAP,IAAiB,WAAWlvB,IAAX,CAAgBmvB,SAAS,CAACC,SAA1B,CAArB,EAA2D;AACzD/+B,aAAO,CAACC,GAAR,CACE,+EADF;AAGD;;AACD,QAAI0+B,aAAJ,EAAmB;AACjB3+B,aAAO,CAACosB,QAAR;AACD;AACF;;AAED,WAAS4S,UAAT,CACEziC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE57B,IAJF,EAKQ;AACN,QAAM+e,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyN,QAAQ,GAAGzN,KAAK,CAAC3V,SAAvB;;AAEA,cAAQlQ,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACA8G,cAAI,GAAGA,IAAI,CAAC3E,KAAL,CAAW,CAAX,CAAP;;AAEA,kBAAQ0jB,KAAK,CAACqG,GAAd;AACE,iBAAK9B,cAAL;AACE,kBAAItjB,IAAI,CAACnG,MAAL,KAAgB,CAApB,EAAuB,CACrB;AACD,eAFD,MAEO;AACL4G,2DAAkB,CAAC+rB,QAAQ,CAAC9G,OAAV,EAAmB1lB,IAAnB,CAAlB;AACD;;AACDwsB,sBAAQ,CAACqP,WAAT;AACA;;AACF,iBAAKnY,iBAAL;AACE;AACA;AACA;AAZJ;;AAcA;;AACF,aAAK,OAAL;AACE,cAAI,OAAOyC,2BAAP,KAAuC,UAA3C,EAAuD;AACrDA,uCAA2B,CAACpH,KAAD,EAAU6c,MAAV,EAAiC57B,IAAjC,CAA3B;AACD;;AACD;;AACF,aAAK,OAAL;AACE,cAAIwsB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,gBAAI,OAAOlG,uBAAP,KAAmC,UAAvC,EAAmD;AACjDA,qCAAuB,CAACvH,KAAD,EAAQ/e,IAAR,CAAvB;AACD;AACF,WAJD,MAIO;AACL+e,iBAAK,CAAC+c,YAAN,GAAqBtzB,+CAAc,CAACgkB,QAAQ,CAACf,KAAV,EAAiBzrB,IAAjB,CAAnC;AACAwsB,oBAAQ,CAACqP,WAAT;AACD;;AACD;;AACF,aAAK,OAAL;AACEp7B,qDAAkB,CAAC+rB,QAAQ,CAACd,KAAV,EAAiB1rB,IAAjB,CAAlB;AACAwsB,kBAAQ,CAACqP,WAAT;AACA;AAxCJ;AA0CD;AACF;;AAED,WAASE,UAAT,CACE7iC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE76B,OAJF,EAKEC,OALF,EAMQ;AACN,QAAM+d,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyN,QAAQ,GAAGzN,KAAK,CAAC3V,SAAvB;;AAEA,cAAQlQ,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACA6H,iBAAO,GAAGA,OAAO,CAAC1F,KAAR,CAAc,CAAd,CAAV;AACA2F,iBAAO,GAAGA,OAAO,CAAC3F,KAAR,CAAc,CAAd,CAAV;;AAEA,kBAAQ0jB,KAAK,CAACqG,GAAd;AACE,iBAAK9B,cAAL;AACE,kBAAIviB,OAAO,CAAClH,MAAR,KAAmB,CAAvB,EAA0B,CACxB;AACD,eAFD,MAEO;AACLiH,2DAAkB,CAAC0rB,QAAQ,CAAC9G,OAAV,EAAmB3kB,OAAnB,EAA4BC,OAA5B,CAAlB;AACD;;AACDwrB,sBAAQ,CAACqP,WAAT;AACA;;AACF,iBAAKnY,iBAAL;AACE;AACA;AACA;AAZJ;;AAcA;;AACF,aAAK,OAAL;AACE,cAAI,OAAO0C,2BAAP,KAAuC,UAA3C,EAAuD;AACrDA,uCAA2B,CACzBrH,KADyB,EAEvB6c,MAFuB,EAGzB76B,OAHyB,EAIzBC,OAJyB,CAA3B;AAMD;;AACD;;AACF,aAAK,OAAL;AACE,cAAIwrB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,gBAAI,OAAOjG,uBAAP,KAAmC,UAAvC,EAAmD;AACjDA,qCAAuB,CAACxH,KAAD,EAAQhe,OAAR,EAAiBC,OAAjB,CAAvB;AACD;AACF,WAJD,MAIO;AACL+d,iBAAK,CAAC+c,YAAN,GAAqBnzB,+CAAc,CACjC6jB,QAAQ,CAACf,KADwB,EAEjC1qB,OAFiC,EAGjCC,OAHiC,CAAnC;AAKAwrB,oBAAQ,CAACqP,WAAT;AACD;;AACD;;AACF,aAAK,OAAL;AACE/6B,qDAAkB,CAAC0rB,QAAQ,CAACd,KAAV,EAAiB3qB,OAAjB,EAA0BC,OAA1B,CAAlB;AACAwrB,kBAAQ,CAACqP,WAAT;AACA;AAlDJ;AAoDD;AACF;;AAED,WAASG,mBAAT,CACE9iC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE57B,IAJF,EAKEjD,KALF,EAMQ;AACN,QAAMgiB,KAAK,GAAGkX,iCAAiC,CAACz6B,EAAD,CAA/C;;AACA,QAAIujB,KAAK,KAAK,IAAd,EAAoB;AAClB,UAAMyN,QAAQ,GAAGzN,KAAK,CAAC3V,SAAvB;;AAEA,cAAQlQ,IAAR;AACE,aAAK,SAAL;AACE;AACA;AACA;AACA8G,cAAI,GAAGA,IAAI,CAAC3E,KAAL,CAAW,CAAX,CAAP;;AAEA,kBAAQ0jB,KAAK,CAACqG,GAAd;AACE,iBAAK9B,cAAL;AACE,kBAAItjB,IAAI,CAACnG,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACA2yB,wBAAQ,CAAC9G,OAAT,GAAmB3oB,KAAnB;AACD,eAHD,MAGO;AACLoE,oDAAW,CAACqrB,QAAQ,CAAC9G,OAAV,EAAmB1lB,IAAnB,EAAyBjD,KAAzB,CAAX;AACD;;AACDyvB,sBAAQ,CAACqP,WAAT;AACA;;AACF,iBAAKnY,iBAAL;AACE;AACA;AACA;AAbJ;;AAeA;;AACF,aAAK,OAAL;AACE,cAAI,OAAOwC,iBAAP,KAA6B,UAAjC,EAA6C;AAC3CA,6BAAiB,CAACnH,KAAD,EAAU6c,MAAV,EAAiC57B,IAAjC,EAAuCjD,KAAvC,CAAjB;AACD;;AACD;;AACF,aAAK,OAAL;AACE,kBAAQgiB,KAAK,CAACqG,GAAd;AACE,iBAAK9B,cAAL;AACEvE,mBAAK,CAAC+c,YAAN,GAAqBhzB,4CAAW,CAAC0jB,QAAQ,CAACf,KAAV,EAAiBzrB,IAAjB,EAAuBjD,KAAvB,CAAhC;AACAyvB,sBAAQ,CAACqP,WAAT;AACA;;AACF;AACE,kBAAI,OAAOxV,aAAP,KAAyB,UAA7B,EAAyC;AACvCA,6BAAa,CAACtH,KAAD,EAAQ/e,IAAR,EAAcjD,KAAd,CAAb;AACD;;AACD;AATJ;;AAWA;;AACF,aAAK,OAAL;AACE,kBAAQgiB,KAAK,CAACqG,GAAd;AACE,iBAAK9B,cAAL;AACEniB,kDAAW,CAACqrB,QAAQ,CAACd,KAAV,EAAiB1rB,IAAjB,EAAuBjD,KAAvB,CAAX;AACAyvB,sBAAQ,CAACqP,WAAT;AACA;AAJJ;;AAMA;AAhDJ;AAkDD;AACF;;AAgBD,MAAI5M,8BAA0D,GAAG,IAAjE;AACA,MAAI2B,oBAAiD,GAAG,IAAxD;AACA,MAAI1E,eAAwC,GAAG,IAA/C;AACA,MAAI+P,2BAAuD,GAAG,IAA9D;AACA,MAAIC,kBAA8C,GAAG,IAArD;AACA,MAAItf,WAAoB,GAAG,KAA3B;AACA,MAAImY,kBAA0B,GAAG,CAAjC;AACA,MAAI/B,wBAAiC,GAAG,KAAxC;AACA,MAAI+C,gCAAmE,GACrE,IADF;;AAGA,WAASoG,gBAAT,GAAkD;AAChD,QAAMC,YAAgD,GAAG,EAAzD;;AAEA,QAAIrG,gCAAgC,KAAK,IAAzC,EAA+C;AAC7C,YAAMr5B,KAAK,CACT,kEADS,CAAX;AAGD;;AAEDq5B,oCAAgC,CAACz9B,OAAjC,CACE,UAACw9B,uBAAD,EAA0Bh7B,MAA1B,EAAqC;AACnC,UAAMuhC,UAAoC,GAAG,EAA7C;AACA,UAAMC,wBAAiD,GAAG,EAA1D;AAEA,UAAMtjC,WAAW,GACd43B,oBAAoB,KAAK,IAAzB,IAAiCA,oBAAoB,CAACx3B,GAArB,CAAyB0B,MAAzB,CAAlC,IACA,SAFF;;AAIA,UAAImhC,2BAA2B,IAAI,IAAnC,EAAyC;AACvCA,mCAA2B,CAAC3jC,OAA5B,CAAoC,UAACo6B,gBAAD,EAAmBl3B,EAAnB,EAA0B;AAC5D,cACE0gC,kBAAkB,IAAI,IAAtB,IACAA,kBAAkB,CAAC9iC,GAAnB,CAAuBoC,EAAvB,MAA+BV,MAFjC,EAGE;AACA;AACA;AACAwhC,oCAAwB,CAAC5hC,IAAzB,CAA8B,CAACc,EAAD,EAAKk3B,gBAAL,CAA9B;AACD;AACF,SATD;AAUD;;AAEDoD,6BAAuB,CAACx9B,OAAxB,CAAgC,UAACikC,mBAAD,EAAsBC,WAAtB,EAAsC;AAAA,YAElEtJ,kBAFkE,GAUhEqJ,mBAVgE,CAElErJ,kBAFkE;AAAA,YAGlEhE,SAHkE,GAUhEqN,mBAVgE,CAGlErN,SAHkE;AAAA,YAIlEjmB,cAJkE,GAUhEszB,mBAVgE,CAIlEtzB,cAJkE;AAAA,YAKlE8pB,iBALkE,GAUhEwJ,mBAVgE,CAKlExJ,iBALkE;AAAA,YAMlE7pB,qBANkE,GAUhEqzB,mBAVgE,CAMlErzB,qBANkE;AAAA,YAOlE8rB,aAPkE,GAUhEuH,mBAVgE,CAOlEvH,aAPkE;AAAA,YAQlEF,UARkE,GAUhEyH,mBAVgE,CAQlEzH,UARkE;AAAA,YASlEG,QATkE,GAUhEsH,mBAVgE,CASlEtH,QATkE;AAYpE,YAAMwH,oBAA6C,GAAG,EAAtD;AACA,YAAMC,kBAA2C,GAAG,EAApD;;AACA,aAAK,IAAI9iC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs1B,SAAS,CAACr1B,MAA9B,EAAsCD,CAAC,IAAI,CAA3C,EAA8C;AAC5C,cAAM4tB,OAAO,GAAG0H,SAAS,CAACt1B,CAAD,CAAzB;AACA6iC,8BAAoB,CAAC/hC,IAArB,CAA0B,CAAC8sB,OAAD,EAAU0H,SAAS,CAACt1B,CAAC,GAAG,CAAL,CAAnB,CAA1B;AACA8iC,4BAAkB,CAAChiC,IAAnB,CAAwB,CAAC8sB,OAAD,EAAU0H,SAAS,CAACt1B,CAAC,GAAG,CAAL,CAAnB,CAAxB;AACD;;AAEDyiC,kBAAU,CAAC3hC,IAAX,CAAgB;AACdw4B,4BAAkB,EAChBA,kBAAkB,KAAK,IAAvB,GACI3yB,KAAK,CAACC,IAAN,CAAW0yB,kBAAkB,CAAC7Z,OAAnB,EAAX,CADJ,GAEI,IAJQ;AAKdkF,kBAAQ,EAAEwU,iBALI;AAMd9pB,wBAAc,EAAdA,cANc;AAOdwzB,8BAAoB,EAApBA,oBAPc;AAQdC,4BAAkB,EAAlBA,kBARc;AASdxzB,+BAAqB,EAArBA,qBATc;AAUd8rB,uBAAa,EAAbA,aAVc;AAWd1W,mBAAS,EAAEwW,UAXG;AAYdG,kBAAQ,EAARA;AAZc,SAAhB;AAcD,OAlCD;AAoCAmH,kBAAY,CAAC1hC,IAAb,CAAkB;AAChB2hC,kBAAU,EAAVA,UADgB;AAEhBrjC,mBAAW,EAAXA,WAFgB;AAGhBsjC,gCAAwB,EAAxBA,wBAHgB;AAIhBxhC,cAAM,EAANA;AAJgB,OAAlB;AAMD,KAhEH;AAmEA,QAAI6hC,YAAY,GAAG,IAAnB;;AACA,QAAI,OAAOvf,eAAP,KAA2B,UAA/B,EAA2C;AACzC,UAAMV,mBAAmB,GAAGU,eAAe,EAA3C;;AACA,UAAIV,mBAAJ,EAAyB;AAAA,YAErB8B,qBAFqB,GAOnB9B,mBAPmB,CAErB8B,qBAFqB;AAAA,YAGrBsD,4BAHqB,GAOnBpF,mBAPmB,CAGrBoF,4BAHqB;AAAA,YAIrBrE,cAJqB,GAOnBf,mBAPmB,CAIrBe,cAJqB;AAAA,YAKrBgB,qBALqB,GAOnB/B,mBAPmB,CAKrB+B,qBALqB;AAAA,YAMlBme,IANkB,4BAOnBlgB,mBAPmB;;AASvBigB,oBAAY,mCACPC,IADO;AAGV;AACA;AACA;AACA;AACAC,yCAA+B,EAAEt8B,KAAK,CAACC,IAAN,CAC/Bge,qBAAqB,CAACnF,OAAtB,EAD+B,CAPvB;AAUVyI,sCAA4B,EAAEvhB,KAAK,CAACC,IAAN,CAC5BshB,4BAA4B,CAACzI,OAA7B,EAD4B,CAVpB;AAaVyjB,kCAAwB,EAAEv8B,KAAK,CAACC,IAAN,CAAWid,cAAc,CAACpE,OAAf,EAAX,CAbhB;AAcV0jB,yCAA+B,EAAEx8B,KAAK,CAACC,IAAN,CAC/Bie,qBAAqB,CAACpF,OAAtB,EAD+B;AAdvB,UAAZ;AAkBD;AACF;;AAED,WAAO;AACL+iB,kBAAY,EAAZA,YADK;AAELvhC,gBAAU,EAAVA,UAFK;AAGL8hC,kBAAY,EAAZA;AAHK,KAAP;AAKD;;AAED,WAASK,cAAT,CAAwBC,8BAAxB,EAAiE;AAC/D,QAAIrgB,WAAJ,EAAiB;AACf;AACD;;AAEDoW,4BAAwB,GAAGiK,8BAA3B,CAL+D,CAO/D;AACA;AACA;AACA;;AACArM,wBAAoB,GAAG,IAAI9jB,GAAJ,EAAvB;AACAmvB,+BAA2B,GAAG,IAAInvB,GAAJ,CAAQ4d,uBAAR,CAA9B;AACAwR,sBAAkB,GAAG,IAAIpvB,GAAJ,CAAQ6d,WAAR,CAArB;AACAuB,mBAAe,GAAG,IAAIpf,GAAJ,EAAlB;AAEAiZ,QAAI,CAAC6D,aAAL,CAAmB/uB,UAAnB,EAA+BvC,OAA/B,CAAuC,UAAA0Q,IAAI,EAAI;AAC7C,UAAMlO,MAAM,GAAGgwB,gBAAgB,CAAC9hB,IAAI,CAAC/Q,OAAN,CAA/B;AACE24B,0BAAF,CAAoDt3B,GAApD,CACEwB,MADF,EAEE+1B,qBAAqB,CAAC7nB,IAAI,CAAC/Q,OAAN,CAFvB;;AAKA,UAAIglC,8BAAJ,EAAoC;AAClC;AACA;AACA;AACArQ,oCAA4B,CAAC5jB,IAAI,CAAC/Q,OAAN,CAA5B;AACD;AACF,KAbD;AAeA2kB,eAAW,GAAG,IAAd;AACAmY,sBAAkB,GAAGhZ,uBAAc,EAAnC;AACAga,oCAAgC,GAAG,IAAIjpB,GAAJ,EAAnC;;AAEA,QAAI+U,qBAAqB,KAAK,IAA9B,EAAoC;AAClCA,2BAAqB,CAAC,IAAD,CAArB;AACD;AACF;;AAED,WAASqb,aAAT,GAAyB;AACvBtgB,eAAW,GAAG,KAAd;AACAoW,4BAAwB,GAAG,KAA3B;;AAEA,QAAInR,qBAAqB,KAAK,IAA9B,EAAoC;AAClCA,2BAAqB,CAAC,KAAD,CAArB;AACD;AACF,GAh9GkB,CAk9GnB;;;AACA,MACEpW,gDAAqB,CAAClG,2DAAD,CAArB,KAAkE,MADpE,EAEE;AACAy3B,kBAAc,CACZvxB,gDAAqB,CAACnG,mEAAD,CAArB,KACE,MAFU,CAAd;AAID,GA19GkB,CA49GnB;AACA;;;AACA,WAAS6lB,0BAAT,GAAsC;AACpC,WAAO,IAAP;AACD,GAh+GkB,CAk+GnB;AACA;;;AACA,MAAMjD,qBAAqB,GAAG,IAAIpb,GAAJ,EAA9B;;AAEA,WAASqwB,8BAAT,CAAwCpe,KAAxC,EAAoD;AAClD,QAAI,OAAO0H,eAAP,KAA2B,UAA/B,EAA2C;AACzC,YAAM,IAAI/pB,KAAJ,CACJ,wEADI,CAAN;AAGD;;AAED,QAAMlB,EAAE,GAAGysB,gBAAgB,CAAClJ,KAAD,CAA3B;;AACA,QAAIvjB,EAAE,KAAK,IAAX,EAAiB;AACf,aAAO,IAAP;AACD;;AAED,QAAI4hC,MAAM,GAAG,IAAb;;AACA,QAAIlV,qBAAqB,CAAC3e,GAAtB,CAA0B/N,EAA1B,CAAJ,EAAmC;AACjC4hC,YAAM,GAAGlV,qBAAqB,CAAC9uB,GAAtB,CAA0BoC,EAA1B,CAAT;;AACA,UAAI4hC,MAAM,KAAK,KAAf,EAAsB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAlV,6BAAqB,CAACP,MAAtB,CAA6BnsB,EAA7B;;AAEA,YAAI0sB,qBAAqB,CAACtkB,IAAtB,KAA+B,CAAnC,EAAsC;AACpC;AACA6iB,yBAAe,CAAC0E,0BAAD,CAAf;AACD;AACF;AACF;;AACD,WAAOiS,MAAP;AACD;;AAED,WAASC,aAAT,CAAuB7hC,EAAvB,EAAmC8hC,UAAnC,EAAwD;AACtD,QACE,OAAO7W,eAAP,KAA2B,UAA3B,IACA,OAAOE,cAAP,KAA0B,UAF5B,EAGE;AACA,YAAM,IAAIjqB,KAAJ,CACJ,wEADI,CAAN;AAGD;;AAEDwrB,yBAAqB,CAAC5uB,GAAtB,CAA0BkC,EAA1B,EAA8B8hC,UAA9B;;AAEA,QAAIpV,qBAAqB,CAACtkB,IAAtB,KAA+B,CAAnC,EAAsC;AACpC;AACA6iB,qBAAe,CAAC0W,8BAAD,CAAf;AACD;;AAED,QAAMpe,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjB4H,oBAAc,CAAC5H,KAAD,CAAd;AACD;AACF;;AAED,WAASwe,6BAAT,GAAyC;AACvC,WAAO,KAAP;AACD;;AAED,MAAMvD,2BAA2B,GAAG,IAAIhiC,GAAJ,EAApC;;AAEA,WAASwlC,gCAAT,CAA0Cze,KAA1C,EAAsD;AACpD,QAAMiJ,OAAO,GAAGC,gBAAgB,CAAGlJ,KAAH,CAAhC;AACA,WAAOiJ,OAAO,KAAK,IAAZ,IAAoBgS,2BAA2B,CAACzwB,GAA5B,CAAgCye,OAAhC,CAA3B;AACD;;AAED,WAASyV,gBAAT,CAA0BjiC,EAA1B,EAAsCkiC,aAAtC,EAA8D;AAC5D,QACE,OAAOhX,kBAAP,KAA8B,UAA9B,IACA,OAAOC,cAAP,KAA0B,UAF5B,EAGE;AACA,YAAM,IAAIjqB,KAAJ,CACJ,2EADI,CAAN;AAGD;;AACD,QAAIghC,aAAJ,EAAmB;AACjB1D,iCAA2B,CAACvhC,GAA5B,CAAgC+C,EAAhC;;AACA,UAAIw+B,2BAA2B,CAACp2B,IAA5B,KAAqC,CAAzC,EAA4C;AAC1C;AACA8iB,0BAAkB,CAAC8W,gCAAD,CAAlB;AACD;AACF,KAND,MAMO;AACLxD,iCAA2B,CAACrS,MAA5B,CAAmCnsB,EAAnC;;AACA,UAAIw+B,2BAA2B,CAACp2B,IAA5B,KAAqC,CAAzC,EAA4C;AAC1C;AACA8iB,0BAAkB,CAAC6W,6BAAD,CAAlB;AACD;AACF;;AACD,QAAMxe,KAAK,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAAd;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjB4H,oBAAc,CAAC5H,KAAD,CAAd;AACD;AACF,GAtkHkB,CAwkHnB;AACA;;;AACA,MAAI6V,WAAoC,GAAG,IAA3C;AACA,MAAIvD,qBAAmC,GAAG,IAA1C;AACA,MAAIsM,qBAAqB,GAAG,CAAC,CAA7B;AACA,MAAI9I,oBAAoB,GAAG,KAA3B;;AAEA,WAASvD,cAAT,CAAwBtxB,IAAxB,EAAuD;AACrD,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjBqxB,2BAAqB,GAAG,IAAxB;AACAsM,2BAAqB,GAAG,CAAC,CAAzB;AACA9I,0BAAoB,GAAG,KAAvB;AACD;;AACDD,eAAW,GAAG50B,IAAd;AACD,GAtlHkB,CAwlHnB;AACA;AACA;;;AACA,WAAS6xB,iCAAT,CAA2C9S,KAA3C,EAAkE;AAChE,QAAI6V,WAAW,KAAK,IAAhB,IAAwB,CAACC,oBAA7B,EAAmD;AACjD;AACA,aAAO,KAAP;AACD;;AACD,QAAM+I,WAAW,GAAG7e,KAAK,CAAC2C,MAA1B;AACA,QAAMmc,eAAe,GAAGD,WAAW,KAAK,IAAhB,GAAuBA,WAAW,CAAC7d,SAAnC,GAA+C,IAAvE,CANgE,CAOhE;AACA;AACA;;AACA,QACEsR,qBAAqB,KAAKuM,WAA1B,IACCvM,qBAAqB,KAAKwM,eAA1B,IAA6CA,eAAe,KAAK,IAFpE,EAGE;AACA;AACA,UAAMC,WAAW,GAAGC,YAAY,CAAChf,KAAD,CAAhC,CAFA,CAGA;;AACA,UAAMif,aAAa,GAAGpJ,WAAW,CAAC+I,qBAAqB,GAAG,CAAzB,CAAjC;;AACA,UAAIK,aAAa,KAAK1jC,SAAtB,EAAiC;AAC/B,cAAM,IAAIoC,KAAJ,CAAU,4CAAV,CAAN;AACD;;AACD,UACEohC,WAAW,CAACr1B,KAAZ,KAAsBu1B,aAAa,CAACv1B,KAApC,IACAq1B,WAAW,CAACvlC,GAAZ,KAAoBylC,aAAa,CAACzlC,GADlC,IAEAulC,WAAW,CAAC9kC,WAAZ,KAA4BglC,aAAa,CAAChlC,WAH5C,EAIE;AACA;AACAq4B,6BAAqB,GAAGtS,KAAxB;AACA4e,6BAAqB,GAHrB,CAIA;AACA;;AACA,YAAIA,qBAAqB,KAAK/I,WAAW,CAAC/6B,MAAZ,GAAqB,CAAnD,EAAsD;AACpD;AACA;AACAg7B,8BAAoB,GAAG,KAAvB;AACD,SAJD,MAIO;AACL;AACAA,8BAAoB,GAAG,IAAvB;AACD,SAbD,CAcA;AACA;;;AACA,eAAO,KAAP;AACD;AACF,KA3C+D,CA4ChE;AACA;;;AACAA,wBAAoB,GAAG,KAAvB,CA9CgE,CA+ChE;;AACA,WAAO,IAAP;AACD;;AAED,WAASvC,gCAAT,CACEV,4BADF,EAEE;AACA;AACA;AACAiD,wBAAoB,GAAGjD,4BAAvB;AACD,GAppHkB,CAspHnB;AACA;AACA;AACA;;;AACA,MAAMqM,cAAmC,GAAG,IAAInxB,GAAJ,EAA5C;AACA,MAAMkd,sBAA2C,GAAG,IAAIld,GAAJ,EAApD;;AAEA,WAASmd,gBAAT,CAA0BzuB,EAA1B,EAAsCujB,KAAtC,EAAoD;AAClD,QAAM1lB,IAAI,GAAGw3B,qBAAqB,CAAC9R,KAAD,CAAlC;AACA,QAAMmf,OAAO,GAAGlU,sBAAsB,CAAC5wB,GAAvB,CAA2BC,IAA3B,KAAoC,CAApD;AACA2wB,0BAAsB,CAAC1wB,GAAvB,CAA2BD,IAA3B,EAAiC6kC,OAAO,GAAG,CAA3C;AACA,QAAMC,SAAS,aAAM9kC,IAAN,cAAc6kC,OAAd,CAAf;AACAD,kBAAc,CAAC3kC,GAAf,CAAmBkC,EAAnB,EAAuB2iC,SAAvB;AACD;;AAED,WAAStI,mBAAT,CAA6Br6B,EAA7B,EAAyC;AACvC,QAAM2iC,SAAS,GAAGF,cAAc,CAAC7kC,GAAf,CAAmBoC,EAAnB,CAAlB;;AACA,QAAI2iC,SAAS,KAAK7jC,SAAlB,EAA6B;AAC3B,YAAM,IAAIoC,KAAJ,CAAU,uCAAV,CAAN;AACD;;AACD,QAAMrD,IAAI,GAAG8kC,SAAS,CAAC9iC,KAAV,CAAgB,CAAhB,EAAmB8iC,SAAS,CAACC,WAAV,CAAsB,GAAtB,CAAnB,CAAb;AACA,QAAMF,OAAO,GAAGlU,sBAAsB,CAAC5wB,GAAvB,CAA2BC,IAA3B,CAAhB;;AACA,QAAI6kC,OAAO,KAAK5jC,SAAhB,EAA2B;AACzB,YAAM,IAAIoC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AACD,QAAIwhC,OAAO,GAAG,CAAd,EAAiB;AACflU,4BAAsB,CAAC1wB,GAAvB,CAA2BD,IAA3B,EAAiC6kC,OAAO,GAAG,CAA3C;AACD,KAFD,MAEO;AACLlU,4BAAsB,CAACrC,MAAvB,CAA8BtuB,IAA9B;AACD;;AACD4kC,kBAAc,CAACtW,MAAf,CAAsBnsB,EAAtB;AACD;;AAED,WAASq1B,qBAAT,CAA+B9R,KAA/B,EAAqD;AACnD,QAAIsf,oBAAoB,GAAG,IAA3B;AACA,QAAIC,mBAAmB,GAAG,IAA1B;AACA,QAAIzR,KAAK,GAAG9N,KAAK,CAAC8N,KAAlB,CAHmD,CAInD;AACA;;AACA,SAAK,IAAIjzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,UAAIizB,KAAK,KAAK,IAAd,EAAoB;AAClB;AACD;;AACD,UAAM7zB,WAAW,GAAGmjB,sBAAsB,CAAC0Q,KAAD,CAA1C;;AACA,UAAI7zB,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA;AACA,YAAI,OAAO6zB,KAAK,CAAC3zB,IAAb,KAAsB,UAA1B,EAAsC;AACpC;AACA;AACAmlC,8BAAoB,GAAGrlC,WAAvB;AACD,SAJD,MAIO,IAAIslC,mBAAmB,KAAK,IAA5B,EAAkC;AACvCA,6BAAmB,GAAGtlC,WAAtB;AACD;AACF;;AACD,UAAIqlC,oBAAoB,KAAK,IAA7B,EAAmC;AACjC;AACD;;AACDxR,WAAK,GAAGA,KAAK,CAACA,KAAd;AACD;;AACD,WAAOwR,oBAAoB,IAAIC,mBAAxB,IAA+C,WAAtD;AACD;;AAED,WAASP,YAAT,CAAsBhf,KAAtB,EAA+C;AAAA,QACtCxmB,GADsC,GAC/BwmB,KAD+B,CACtCxmB,GADsC;AAE7C,QAAIS,WAAW,GAAGmjB,sBAAsB,CAAC4C,KAAD,CAAxC;AACA,QAAMtW,KAAK,GAAGsW,KAAK,CAACtW,KAApB;;AACA,YAAQsW,KAAK,CAACqG,GAAd;AACE,WAAKvB,QAAL;AACE;AACA;AACA,YAAMroB,EAAE,GAAGsvB,gBAAgB,CAAC/L,KAAD,CAA3B;AACA,YAAMof,SAAS,GAAGF,cAAc,CAAC7kC,GAAf,CAAmBoC,EAAnB,CAAlB;;AACA,YAAI2iC,SAAS,KAAK7jC,SAAlB,EAA6B;AAC3B,gBAAM,IAAIoC,KAAJ,CAAU,iDAAV,CAAN;AACD;;AACD1D,mBAAW,GAAGmlC,SAAd;AACA;;AACF,WAAKxa,aAAL;AACE3qB,mBAAW,GAAG+lB,KAAK,CAAC7lB,IAApB;AACA;;AACF;AACE;AAfJ;;AAiBA,WAAO;AACLF,iBAAW,EAAXA,WADK;AAELT,SAAG,EAAHA,GAFK;AAGLkQ,WAAK,EAALA;AAHK,KAAP;AAKD,GA/uHkB,CAivHnB;AACA;AACA;AACA;;;AACA,WAAS81B,iBAAT,CAA2B/iC,EAA3B,EAAgE;AAC9D,QAAIujB,KAAa,GAAG8G,qBAAqB,CAACzsB,GAAtB,CAA0BoC,EAA1B,CAApB;;AACA,QAAIujB,KAAK,IAAI,IAAb,EAAmB;AACjB,aAAO,IAAP;AACD;;AACD,QAAMyf,OAAO,GAAG,EAAhB;;AACA,WAAOzf,KAAK,KAAK,IAAjB,EAAuB;AACrB;AACAyf,aAAO,CAAC9jC,IAAR,CAAaqjC,YAAY,CAAChf,KAAD,CAAzB,EAFqB,CAGrB;;AACAA,WAAK,GAAGA,KAAK,CAAC2C,MAAd;AACD;;AACD8c,WAAO,CAACC,OAAR;AACA,WAAOD,OAAP;AACD;;AAED,WAASE,0BAAT,GAAwD;AACtD,QAAI9J,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA,aAAO,IAAP;AACD;;AACD,QAAIvD,qBAAqB,KAAK,IAA9B,EAAoC;AAClC;AACA,aAAO,IAAP;AACD,KARqD,CAStD;;;AACA,QAAItS,KAAmB,GAAGsS,qBAA1B;;AACA,WAAOtS,KAAK,KAAK,IAAV,IAAkBqL,iBAAiB,CAACrL,KAAD,CAA1C,EAAmD;AACjDA,WAAK,GAAGA,KAAK,CAAC2C,MAAd;AACD;;AACD,QAAI3C,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAO,IAAP;AACD;;AACD,WAAO;AACLvjB,QAAE,EAAEsvB,gBAAgB,CAAC/L,KAAD,CADf;AAEL;AACA4f,iBAAW,EAAEhB,qBAAqB,KAAK/I,WAAW,CAAC/6B,MAAZ,GAAqB;AAHvD,KAAP;AAKD;;AAED,MAAM47B,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACT,aAAD,EAA4B;AACtD,QAAIA,aAAa,IAAI,IAArB,EAA2B;AACzB,aAAO,SAAP;AACD;;AAED,YAAQA,aAAR;AACE,WAAKlS,iBAAL;AACE,eAAO,WAAP;;AACF,WAAKC,oBAAL;AACE,eAAO,eAAP;;AACF,WAAKC,cAAL;AACE,eAAO,QAAP;;AACF,WAAKC,WAAL;AACE,eAAO,KAAP;;AACF,WAAKC,YAAL;AACE,eAAO,MAAP;;AACF,WAAKC,UAAL;AACA;AACE,eAAO,SAAP;AAbJ;AAeD,GApBD;;AAsBA,WAASyb,sBAAT,CAAgC3hC,SAAhC,EAA0D;AACxDksB,uBAAmB,GAAGlsB,SAAtB;AACD;;AAED,SAAO;AACLs3B,WAAO,EAAPA,OADK;AAELnN,0BAAsB,EAAtBA,sBAFK;AAGLQ,yBAAqB,EAArBA,qBAHK;AAILC,2BAAuB,EAAvBA,uBAJK;AAKL+S,mCAA+B,EAA/BA,+BALK;AAMLe,cAAU,EAAVA,UANK;AAOLzF,6BAAyB,EAAzBA,yBAPK;AAQLxB,0BAAsB,EAAtBA,sBARK;AASLgK,8BAA0B,EAA1BA,0BATK;AAULpI,4BAAwB,EAAxBA,wBAVK;AAWLC,qBAAiB,EAAjBA,iBAXK;AAYLE,uBAAmB,EAAnBA,mBAZK;AAaLoB,uBAAmB,EAAnBA,mBAbK;AAcLH,iBAAa,EAAbA,aAdK;AAeL6G,qBAAiB,EAAjBA,iBAfK;AAgBLpC,oBAAgB,EAAhBA,gBAhBK;AAiBL3G,yBAAqB,EAArBA,qBAjBK;AAkBLF,4BAAwB,EAAxBA,wBAlBK;AAmBLC,6BAAyB,EAAzBA,yBAnBK;AAoBLuF,kBAAc,EAAdA,cApBK;AAqBLO,uBAAmB,EAAnBA,mBArBK;AAsBLwD,6BAAyB,EAAzBA,6CAtBK;AAuBLxH,8BAA0B,EAA1BA,0BAvBK;AAwBLG,4BAAwB,EAAxBA,wBAxBK;AAyBL6F,iBAAa,EAAbA,aAzBK;AA0BLI,oBAAgB,EAAhBA,gBA1BK;AA2BLzB,uBAAmB,EAAnBA,mBA3BK;AA4BLD,cAAU,EAAVA,UA5BK;AA6BLxuB,YAAQ,EAARA,QA7BK;AA8BLqxB,0BAAsB,EAAtBA,sBA9BK;AA+BLtN,kBAAc,EAAdA,cA/BK;AAgCL0L,kBAAc,EAAdA,cAhCK;AAiCLE,iBAAa,EAAbA,aAjCK;AAkCLvC,iBAAa,EAAbA,aAlCK;AAmCLmE,+BAA2B,EAA3BA,+CAnCK;AAoCLnV,0BAAsB,EAAtBA;AApCK,GAAP;AAsCD,C;;;;;;;;;;;;;;;;;;;;;;ACh5ID;;;;;;;;AASA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,IAAIoV,aAAa,GAAG,CAApB;AACA,IAAIC,OAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,kBAAJ;AACA,IAAIC,YAAJ;;AAEA,SAASC,WAAT,GAAuB,CAAE;;AACzBA,WAAW,CAACC,kBAAZ,GAAiC,IAAjC;AAEO,SAASC,WAAT,GAA6B;AAClC,MAAIV,aAAa,KAAK,CAAtB,EAAyB;AACvB;AACAC,WAAO,GAAGriC,OAAO,CAACC,GAAlB;AACAqiC,YAAQ,GAAGtiC,OAAO,CAAC+iC,IAAnB;AACAR,YAAQ,GAAGviC,OAAO,CAAC8sB,IAAnB;AACA0V,aAAS,GAAGxiC,OAAO,CAACa,KAApB;AACA4hC,aAAS,GAAGziC,OAAO,CAACgjC,KAApB;AACAN,sBAAkB,GAAG1iC,OAAO,CAACisB,cAA7B;AACA0W,gBAAY,GAAG3iC,OAAO,CAACosB,QAAvB,CARuB,CASvB;;AACA,QAAM0C,KAAK,GAAG;AACZxZ,kBAAY,EAAE,IADF;AAEZzZ,gBAAU,EAAE,IAFA;AAGZuE,WAAK,EAAEwiC,WAHK;AAIZK,cAAQ,EAAE;AAJE,KAAd,CAVuB,CAgBvB;;AACA1oC,UAAM,CAAC8a,gBAAP,CAAwBrV,OAAxB,EAAiC;AAC/B+iC,UAAI,EAAEjU,KADyB;AAE/B7uB,SAAG,EAAE6uB,KAF0B;AAG/BhC,UAAI,EAAEgC,KAHyB;AAI/BjuB,WAAK,EAAEiuB,KAJwB;AAK/BkU,WAAK,EAAElU,KALwB;AAM/B7C,oBAAc,EAAE6C,KANe;AAO/B1C,cAAQ,EAAE0C;AAPqB,KAAjC;AASA;AACD;;AACDsT,eAAa;AACd;AAEM,SAASc,YAAT,GAA8B;AACnCd,eAAa;;AACb,MAAIA,aAAa,KAAK,CAAtB,EAAyB;AACvB;AACA,QAAMtT,KAAK,GAAG;AACZxZ,kBAAY,EAAE,IADF;AAEZzZ,gBAAU,EAAE,IAFA;AAGZonC,cAAQ,EAAE;AAHE,KAAd,CAFuB,CAOvB;;AACA1oC,UAAM,CAAC8a,gBAAP,CAAwBrV,OAAxB,EAAiC;AAC/BC,SAAG,kCAAM6uB,KAAN;AAAa1uB,aAAK,EAAEiiC;AAApB,QAD4B;AAE/BU,UAAI,kCAAMjU,KAAN;AAAa1uB,aAAK,EAAEkiC;AAApB,QAF2B;AAG/BxV,UAAI,kCAAMgC,KAAN;AAAa1uB,aAAK,EAAEmiC;AAApB,QAH2B;AAI/B1hC,WAAK,kCAAMiuB,KAAN;AAAa1uB,aAAK,EAAEoiC;AAApB,QAJ0B;AAK/BQ,WAAK,kCAAMlU,KAAN;AAAa1uB,aAAK,EAAEqiC;AAApB,QAL0B;AAM/BxW,oBAAc,kCAAM6C,KAAN;AAAa1uB,aAAK,EAAEsiC;AAApB,QANiB;AAO/BtW,cAAQ,kCAAM0C,KAAN;AAAa1uB,aAAK,EAAEuiC;AAApB;AAPuB,KAAjC;AASA;AACD;;AACD,MAAIP,aAAa,GAAG,CAApB,EAAuB;AACrBpiC,WAAO,CAACa,KAAR,CACE,oCACE,+CAFJ;AAID;AACF,C;;;;ACzFD;;;;;;;;AASA;AACA;AACA;AACA;CAkBA;AACA;;AACA;AAEA,IAAIsiC,MAAJ;AACO,SAASC,6BAAT,CACL1mC,IADK,EAEL2mC,OAFK,EAGG;AACR,MAAIF,MAAM,KAAKxlC,SAAf,EAA0B;AACxB;AACA,QAAI;AACF,YAAMoC,KAAK,EAAX;AACD,KAFD,CAEE,OAAOgc,CAAP,EAAU;AACV,UAAMlZ,KAAK,GAAGkZ,CAAC,CAACmQ,KAAF,CAAQoX,IAAR,GAAezgC,KAAf,CAAqB,cAArB,CAAd;AACAsgC,YAAM,GAAItgC,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAf,IAAuB,EAAhC;AACD;AACF,GATO,CAUR;;;AACA,SAAO,OAAOsgC,MAAP,GAAgBzmC,IAAvB;AACD;AAED,IAAI6mC,OAAO,GAAG,KAAd;AACA,IAAIC,mBAAJ;;AACA,IAAIpR,KAAJ,EAAa,wBAGZ;;AAEM,SAASqR,4BAAT,CACLC,EADK,EAELC,SAFK,EAGL7yB,oBAHK,EAIG;AACR;AACA,MAAI,CAAC4yB,EAAD,IAAOH,OAAX,EAAoB;AAClB,WAAO,EAAP;AACD;;AAED,MAAInR,KAAJ,EAAa,cAKZ;;AAED,MAAIwR,OAAJ;AAEA,MAAMC,yBAAyB,GAAG9jC,KAAK,CAAC+jC,iBAAxC,CAfQ,CAgBR;;AACA/jC,OAAK,CAAC+jC,iBAAN,GAA0BnmC,SAA1B;AAEA4lC,SAAO,GAAG,IAAV,CAnBQ,CAqBR;AACA;AACA;AACA;AACA;;AACA,MAAMQ,kBAAkB,GAAGjzB,oBAAoB,CAACxV,OAAhD;AACAwV,sBAAoB,CAACxV,OAArB,GAA+B,IAA/B;AACAwnC,aAAW;;AAEX,MAAI;AACF;AACA,QAAIa,SAAJ,EAAe;AACb;AACA,UAAMK,IAAI,GAAG,SAAPA,IAAO,GAAY;AACvB,cAAMjkC,KAAK,EAAX;AACD,OAFD,CAFa,CAKb;;;AACAxF,YAAM,CAAC4kB,cAAP,CAAsB6kB,IAAI,CAACxpC,SAA3B,EAAsC,OAAtC,EAA+C;AAC7CmC,WAAG,EAAE,eAAY;AACf;AACA;AACA,gBAAMoD,KAAK,EAAX;AACD;AAL4C,OAA/C;;AAOA,UAAI,QAAOkkC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+BA,OAAO,CAACN,SAA3C,EAAsD;AACpD;AACA;AACA,YAAI;AACFM,iBAAO,CAACN,SAAR,CAAkBK,IAAlB,EAAwB,EAAxB;AACD,SAFD,CAEE,OAAOjoB,CAAP,EAAU;AACV6nB,iBAAO,GAAG7nB,CAAV;AACD;;AACDkoB,eAAO,CAACN,SAAR,CAAkBD,EAAlB,EAAsB,EAAtB,EAA0BM,IAA1B;AACD,OATD,MASO;AACL,YAAI;AACFA,cAAI,CAACvgC,IAAL;AACD,SAFD,CAEE,OAAOsY,CAAP,EAAU;AACV6nB,iBAAO,GAAG7nB,CAAV;AACD,SALI,CAML;;;AACA2nB,UAAE,CAACjgC,IAAH,CAAQugC,IAAI,CAACxpC,SAAb;AACD;AACF,KA/BD,MA+BO;AACL,UAAI;AACF,cAAMuF,KAAK,EAAX;AACD,OAFD,CAEE,OAAOgc,CAAP,EAAU;AACV6nB,eAAO,GAAG7nB,CAAV;AACD;;AACD2nB,QAAE;AACH;AACF,GAzCD,CAyCE,OAAOQ,MAAP,EAAe;AACf;AACA,QAAIA,MAAM,IAAIN,OAAV,IAAqB,OAAOM,MAAM,CAAChY,KAAd,KAAwB,QAAjD,EAA2D;AACzD;AACA;AACA,UAAMiY,WAAW,GAAGD,MAAM,CAAChY,KAAP,CAAaC,KAAb,CAAmB,IAAnB,CAApB;AACA,UAAMiY,YAAY,GAAGR,OAAO,CAAC1X,KAAR,CAAcC,KAAd,CAAoB,IAApB,CAArB;AACA,UAAIhrB,CAAC,GAAGgjC,WAAW,CAACjnC,MAAZ,GAAqB,CAA7B;AACA,UAAImnC,CAAC,GAAGD,YAAY,CAAClnC,MAAb,GAAsB,CAA9B;;AACA,aAAOiE,CAAC,IAAI,CAAL,IAAUkjC,CAAC,IAAI,CAAf,IAAoBF,WAAW,CAAChjC,CAAD,CAAX,KAAmBijC,YAAY,CAACC,CAAD,CAA1D,EAA+D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACAA,SAAC;AACF;;AACD,aAAOljC,CAAC,IAAI,CAAL,IAAUkjC,CAAC,IAAI,CAAtB,EAAyBljC,CAAC,IAAIkjC,CAAC,EAA/B,EAAmC;AACjC;AACA;AACA,YAAIF,WAAW,CAAChjC,CAAD,CAAX,KAAmBijC,YAAY,CAACC,CAAD,CAAnC,EAAwC;AACtC;AACA;AACA;AACA;AACA;AACA,cAAIljC,CAAC,KAAK,CAAN,IAAWkjC,CAAC,KAAK,CAArB,EAAwB;AACtB,eAAG;AACDljC,eAAC;AACDkjC,eAAC,GAFA,CAGD;AACA;;AACA,kBAAIA,CAAC,GAAG,CAAJ,IAASF,WAAW,CAAChjC,CAAD,CAAX,KAAmBijC,YAAY,CAACC,CAAD,CAA5C,EAAiD;AAC/C;AACA,oBAAMC,MAAK,GAAG,OAAOH,WAAW,CAAChjC,CAAD,CAAX,CAAesM,OAAf,CAAuB,UAAvB,EAAmC,MAAnC,CAArB;;AACA,oBAAI2kB,KAAJ,EAAa,EAHkC,CAQ/C;;;AACA,uBAAOkS,MAAP;AACD;AACF,aAhBD,QAgBSnjC,CAAC,IAAI,CAAL,IAAUkjC,CAAC,IAAI,CAhBxB;AAiBD;;AACD;AACD;AACF;AACF;AACF,GA3FD,SA2FU;AACRd,WAAO,GAAG,KAAV;AAEAxjC,SAAK,CAAC+jC,iBAAN,GAA0BD,yBAA1B;AAEA/yB,wBAAoB,CAACxV,OAArB,GAA+ByoC,kBAA/B;AACAb,gBAAY;AACb,GAhIO,CAiIR;;;AACA,MAAMxmC,IAAI,GAAGgnC,EAAE,GAAGA,EAAE,CAACrnC,WAAH,IAAkBqnC,EAAE,CAAChnC,IAAxB,GAA+B,EAA9C;AACA,MAAM6nC,cAAc,GAAG7nC,IAAI,GAAG0mC,6BAA6B,CAAC1mC,IAAD,CAAhC,GAAyC,EAApE;;AACA,MAAI01B,KAAJ,EAAa,EAIZ;;AACD,SAAOmS,cAAP;AACD;AAEM,SAASC,2BAAT,CACLC,IADK,EAELpB,OAFK,EAGLvyB,oBAHK,EAIG;AACR,SAAO2yB,4BAA4B,CAACgB,IAAD,EAAO,IAAP,EAAa3zB,oBAAb,CAAnC;AACD;AAEM,SAAS4zB,8BAAT,CACLhB,EADK,EAELL,OAFK,EAGLvyB,oBAHK,EAIG;AACR,SAAO2yB,4BAA4B,CAACC,EAAD,EAAK,KAAL,EAAY5yB,oBAAZ,CAAnC;AACD;;AAED,SAAS6zB,eAAT,CAAyBC,SAAzB,EAA8C;AAC5C,MAAMpqC,SAAS,GAAGoqC,SAAS,CAACpqC,SAA5B;AACA,SAAO,CAAC,EAAEA,SAAS,IAAIA,SAAS,CAACqqC,gBAAzB,CAAR;AACD;;AAEM,SAASC,oCAAT,CACLvoC,IADK,EAEL8mC,OAFK,EAGLvyB,oBAHK,EAIG;AACR,MAAI,IAAJ,EAAc;AACZ,WAAO,EAAP;AACD;;AACD,MAAIvU,IAAI,IAAI,IAAZ,EAAkB;AAChB,WAAO,EAAP;AACD;;AACD,MAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAC9B,WAAOknC,4BAA4B,CACjClnC,IADiC,EAEjCooC,eAAe,CAACpoC,IAAD,CAFkB,EAGjCuU,oBAHiC,CAAnC;AAKD;;AACD,MAAI,OAAOvU,IAAP,KAAgB,QAApB,EAA8B;AAC5B,WAAO6mC,6BAA6B,CAAC7mC,IAAD,EAAO8mC,OAAP,CAApC;AACD;;AACD,UAAQ9mC,IAAR;AACE,SAAKqO,uCAAL;AACA,SAAKC,8CAAL;AACE,aAAOu4B,6BAA6B,CAAC,UAAD,EAAaC,OAAb,CAApC;;AACF,SAAKv4B,4CAAL;AACA,SAAKC,mDAAL;AACE,aAAOq4B,6BAA6B,CAAC,cAAD,EAAiBC,OAAjB,CAApC;AANJ;;AAQA,MAAI,QAAO9mC,IAAP,MAAgB,QAApB,EAA8B;AAC5B,YAAQA,IAAI,CAAC8rB,QAAb;AACE,WAAK3e,0CAAL;AACA,WAAKC,iDAAL;AACE,eAAO+6B,8BAA8B,CACnCnoC,IAAI,CAACisB,MAD8B,EAEnC6a,OAFmC,EAGnCvyB,oBAHmC,CAArC;;AAKF,WAAK9G,mCAAL;AACA,WAAKC,0CAAL;AACE;AACA,eAAO66B,oCAAoC,CACzCvoC,IAAI,CAACA,IADoC,EAEzC8mC,OAFyC,EAGzCvyB,oBAHyC,CAA3C;;AAKF,WAAKhH,mCAAL;AACA,WAAKC,0CAAL;AAAyB;AACvB,cAAMg7B,aAAsC,GAAIxoC,IAAhD;AACA,cAAMyoC,OAAO,GAAGD,aAAa,CAACE,QAA9B;AACA,cAAMC,IAAI,GAAGH,aAAa,CAACI,KAA3B;;AACA,cAAI;AACF;AACA,mBAAOL,oCAAoC,CACzCI,IAAI,CAACF,OAAD,CADqC,EAEzC3B,OAFyC,EAGzCvyB,oBAHyC,CAA3C;AAKD,WAPD,CAOE,OAAOiL,CAAP,EAAU,CAAE;AACf;AA7BH;AA+BD;;AACD,SAAO,EAAP;AACD,C;;AC/RD;;;;;;;;AASA;AACA;AACA;AACA;AAKA;AAMO,SAAS6J,aAAT,CACLzU,UADK,EAELi0B,cAFK,EAGLt0B,oBAHK,EAIG;AAAA,MAENkW,aAFM,GAWJ7V,UAXI,CAEN6V,aAFM;AAAA,MAGNQ,aAHM,GAWJrW,UAXI,CAGNqW,aAHM;AAAA,MAINO,iBAJM,GAWJ5W,UAXI,CAIN4W,iBAJM;AAAA,MAKNC,qBALM,GAWJ7W,UAXI,CAKN6W,qBALM;AAAA,MAMNjB,iBANM,GAWJ5V,UAXI,CAMN4V,iBANM;AAAA,MAONQ,sBAPM,GAWJpW,UAXI,CAONoW,sBAPM;AAAA,MAQNO,mBARM,GAWJ3W,UAXI,CAQN2W,mBARM;AAAA,MASNniB,UATM,GAWJwL,UAXI,CASNxL,UATM;AAAA,MAUNghB,cAVM,GAWJxV,UAXI,CAUNwV,cAVM;AAaR,MAAMsU,KAAsB,GAAG7I,MAAO,GAClCgT,SADkC,GAIlC,IAJJ;;AAKA,UAAQA,cAAc,CAAC3c,GAAvB;AACE,SAAKzB,aAAL;AACE,aAAOoc,6BAA6B,CAACgC,cAAc,CAAC7oC,IAAhB,EAAsB0+B,KAAtB,CAApC;;AACF,SAAKzT,aAAL;AACE,aAAO4b,6BAA6B,CAAC,MAAD,EAASnI,KAAT,CAApC;;AACF,SAAKlT,iBAAL;AACE,aAAOqb,6BAA6B,CAAC,UAAD,EAAanI,KAAb,CAApC;;AACF,SAAKjT,qBAAL;AACE,aAAOob,6BAA6B,CAAC,cAAD,EAAiBnI,KAAjB,CAApC;;AACF,SAAKlU,iBAAL;AACA,SAAKQ,sBAAL;AACA,SAAKO,mBAAL;AACE,aAAO4c,8BAA8B,CACnCU,cAAc,CAAC7oC,IADoB,EAEnC0+B,KAFmC,EAGnCnqB,oBAHmC,CAArC;;AAKF,SAAKnL,UAAL;AACE,aAAO++B,8BAA8B,CACnCU,cAAc,CAAC7oC,IAAf,CAAoBisB,MADe,EAEnCyS,KAFmC,EAGnCnqB,oBAHmC,CAArC;;AAKF,SAAK6V,cAAL;AACE,aAAO6d,2BAA2B,CAChCY,cAAc,CAAC7oC,IADiB,EAEhC0+B,KAFgC,EAGhCnqB,oBAHgC,CAAlC;;AAKF;AACE,aAAO,EAAP;AA9BJ;AAgCD;AAEM,SAASqB,2BAAT,CACLhB,UADK,EAELi0B,cAFK,EAGLt0B,oBAHK,EAIG;AACR,MAAI;AACF,QAAIiyB,IAAI,GAAG,EAAX;AACA,QAAI9tB,IAAW,GAAGmwB,cAAlB;;AACA,OAAG;AACDrC,UAAI,IAAInd,aAAa,CAACzU,UAAD,EAAa8D,IAAb,EAAmBnE,oBAAnB,CAArB,CADC,CAED;;AACAmE,UAAI,GAAGA,IAAI,CAAC8P,MAAZ;AACD,KAJD,QAIS9P,IAJT;;AAKA,WAAO8tB,IAAP;AACD,GATD,CASE,OAAOhnB,CAAP,EAAU;AACV,WAAO,+BAA+BA,CAAC,CAACsH,OAAjC,GAA2C,IAA3C,GAAkDtH,CAAC,CAACmQ,KAA3D;AACD;AACF,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChGD;;;;;;;;AASA;AACA;AACA;AAEA;AACO,IAAMmZ,kBAA0B,GAAG3hC,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAnC;AACA,IAAMC,iBAAyB,GAAG7hC,MAAM,CAAC4hC,GAAP,CAAW,cAAX,CAAlC;AACA,IAAME,mBAA2B,GAAG9hC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAApC;AACA,IAAMG,sBAA8B,GAAG/hC,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAvC;AACA,IAAMI,mBAA2B,GAAGhiC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAApC;AACA,IAAMK,mBAA2B,GAAGjiC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAApC;AACA,IAAMM,kBAA0B,GAAGliC,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAnC;AACA,IAAMO,yBAAiC,GAAGniC,MAAM,CAAC4hC,GAAP,CAC/C,sBAD+C,CAA1C;AAGA,IAAMQ,sBAA8B,GAAGpiC,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAvC;AACA,IAAMS,mBAA2B,GAAGriC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAApC;AACA,IAAMU,wBAAgC,GAAGtiC,MAAM,CAAC4hC,GAAP,CAC9C,qBAD8C,CAAzC;AAGA,IAAMW,eAAuB,GAAGviC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAhC;AACA,IAAMY,eAAuB,GAAGxiC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAhC;AACA,IAAMa,gBAAwB,GAAGziC,MAAM,CAAC4hC,GAAP,CAAW,aAAX,CAAjC;AACA,IAAMc,6BAAqC,GAAG1iC,MAAM,CAAC4hC,GAAP,CACnD,wBADmD,CAA9C;AAGA,IAAMe,oBAA4B,GAAG3iC,MAAM,CAAC4hC,GAAP,CAAW,iBAAX,CAArC;AACA,IAAMgB,wBAAgC,GAAG5iC,MAAM,CAAC4hC,GAAP,CAC9C,qBAD8C,CAAzC;AAGA,IAAMiB,gBAAwB,GAAG7iC,MAAM,CAAC4hC,GAAP,CAAW,aAAX,CAAjC;AACA,IAAMkB,yBAAiC,GAAG9iC,MAAM,CAAC4hC,GAAP,CAC/C,sBAD+C,CAA1C;AAGA,IAAMmB,6CAAqD,GAAG/iC,MAAM,CAAC4hC,GAAP,CACnE,qBADmE,CAA9D;AAIA,IAAMoB,yBAAiC,GAAGhjC,MAAM,CAAC4hC,GAAP,CAC/C,2BAD+C,CAA1C;AAIP,IAAMqB,qBAAqB,GAAGjjC,MAAM,CAACC,QAArC;AACA,IAAMijC,oBAAoB,GAAG,YAA7B;AAEO,SAASC,aAAT,CAAuBC,aAAvB,EAAmE;AACxE,MAAIA,aAAa,KAAK,IAAlB,IAA0B,QAAOA,aAAP,MAAyB,QAAvD,EAAiE;AAC/D,WAAO,IAAP;AACD;;AACD,MAAMC,aAAa,GAChBJ,qBAAqB,IAAIG,aAAa,CAACH,qBAAD,CAAvC,IACAG,aAAa,CAACF,oBAAD,CAFf;;AAGA,MAAI,OAAOG,aAAP,KAAyB,UAA7B,EAAyC;AACvC,WAAOA,aAAP;AACD;;AACD,SAAO,IAAP;AACD,C;;;;;;;;ACjED,IAAIC,CAAJ,C,CAEA;;AACAA,CAAC,GAAI,YAAW;AACf,SAAO,IAAP;AACA,CAFG,EAAJ;;AAIA,IAAI;AACH;AACAA,GAAC,GAAGA,CAAC,IAAI,IAAIhuB,QAAJ,CAAa,aAAb,GAAT;AACA,CAHD,CAGE,OAAOlD,CAAP,EAAU;AACX;AACA,MAAI,QAAO3H,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC64B,CAAC,GAAG74B,MAAJ;AAChC,C,CAED;AACA;AACA;;;AAEAe,MAAM,CAACC,OAAP,GAAiB63B,CAAjB,C;;;;;;;ACnBA;;AAEA93B,MAAM,CAACC,OAAP,GAAiB83B,QAAjB,C,CAEA;AACA;;AACA,IAAI92B,GAAG,GAAGf,mBAAO,CAAC,EAAD,CAAjB;;AACA,IAAI83B,IAAI,GAAG93B,mBAAO,CAAC,EAAD,CAAlB,C,CAEA;;;AACA,IAAI+3B,OAAO,GAAG/3B,mBAAO,CAAC,EAAD,CAArB,C,CAEA;;;AACA,IAAIg4B,SAAS,GAAG,OAAO1jC,MAAP,KAAkB,UAAlB,IAAgC1B,OAAO,CAACC,GAAR,CAAYolC,0BAAZ,KAA2C,GAA3F;AACA,IAAIC,UAAJ;;AACA,IAAIF,SAAJ,EAAe;AACbE,YAAU,GAAG,oBAAU1rC,GAAV,EAAe;AAC1B,WAAO8H,MAAM,CAAC9H,GAAD,CAAb;AACD,GAFD;AAGD,CAJD,MAIO;AACL0rC,YAAU,GAAG,oBAAU1rC,GAAV,EAAe;AAC1B,WAAO,MAAMA,GAAb;AACD,GAFD;AAGD;;AAED,IAAI2rC,GAAG,GAAGD,UAAU,CAAC,KAAD,CAApB;AACA,IAAIE,MAAM,GAAGF,UAAU,CAAC,QAAD,CAAvB;AACA,IAAIG,iBAAiB,GAAGH,UAAU,CAAC,kBAAD,CAAlC;AACA,IAAII,WAAW,GAAGJ,UAAU,CAAC,YAAD,CAA5B;AACA,IAAIK,OAAO,GAAGL,UAAU,CAAC,QAAD,CAAxB;AACA,IAAIM,OAAO,GAAGN,UAAU,CAAC,SAAD,CAAxB;AACA,IAAIO,iBAAiB,GAAGP,UAAU,CAAC,gBAAD,CAAlC;AACA,IAAIQ,QAAQ,GAAGR,UAAU,CAAC,SAAD,CAAzB;AACA,IAAIS,KAAK,GAAGT,UAAU,CAAC,OAAD,CAAtB;;AAEA,SAASU,WAAT,GAAwB;AAAE,SAAO,CAAP;AAAU,C,CAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASf,QAAT,CAAmBrtB,OAAnB,EAA4B;AAC1B,MAAI,EAAE,gBAAgBqtB,QAAlB,CAAJ,EAAiC;AAC/B,WAAO,IAAIA,QAAJ,CAAartB,OAAb,CAAP;AACD;;AAED,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/BA,WAAO,GAAG;AAAE/e,SAAG,EAAE+e;AAAP,KAAV;AACD;;AAED,MAAI,CAACA,OAAL,EAAc;AACZA,WAAO,GAAG,EAAV;AACD;;AAED,MAAI/e,GAAG,GAAG,KAAK0sC,GAAL,IAAY3tB,OAAO,CAAC/e,GAA9B,CAb0B,CAc1B;;AACA,MAAI,CAACA,GAAD,IACA,EAAE,OAAOA,GAAP,KAAe,QAAjB,CADA,IAEAA,GAAG,IAAI,CAFX,EAEc;AACZ,SAAK0sC,GAAL,IAAYzyB,QAAZ;AACD;;AAED,MAAImzB,EAAE,GAAGruB,OAAO,CAAC1c,MAAR,IAAkB8qC,WAA3B;;AACA,MAAI,OAAOC,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,MAAE,GAAGD,WAAL;AACD;;AACD,OAAKP,iBAAL,IAA0BQ,EAA1B;AAEA,OAAKP,WAAL,IAAoB9tB,OAAO,CAACsuB,KAAR,IAAiB,KAArC;AACA,OAAKP,OAAL,IAAgB/tB,OAAO,CAACuuB,MAAR,IAAkB,CAAlC;AACA,OAAKP,OAAL,IAAgBhuB,OAAO,CAACwuB,OAAxB;AACA,OAAKP,iBAAL,IAA0BjuB,OAAO,CAACyuB,cAAR,IAA0B,KAApD;AACA,OAAKC,KAAL;AACD,C,CAED;;;AACA/tC,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,KAA1C,EAAiD;AAC/CmC,KAAG,EAAE,aAAU4rC,EAAV,EAAc;AACjB,QAAI,CAACA,EAAD,IAAO,EAAE,OAAOA,EAAP,KAAc,QAAhB,CAAP,IAAoCA,EAAE,IAAI,CAA9C,EAAiD;AAC/CA,QAAE,GAAGzzB,QAAL;AACD;;AACD,SAAKyyB,GAAL,IAAYgB,EAAZ;AACAjF,QAAI,CAAC,IAAD,CAAJ;AACD,GAP8C;AAQ/C7mC,KAAG,EAAE,eAAY;AACf,WAAO,KAAK8qC,GAAL,CAAP;AACD,GAV8C;AAW/C1rC,YAAU,EAAE;AAXmC,CAAjD;AAcAtB,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,YAA1C,EAAwD;AACtDmC,KAAG,EAAE,aAAU6rC,UAAV,EAAsB;AACzB,SAAKd,WAAL,IAAoB,CAAC,CAACc,UAAtB;AACD,GAHqD;AAItD/rC,KAAG,EAAE,eAAY;AACf,WAAO,KAAKirC,WAAL,CAAP;AACD,GANqD;AAOtD7rC,YAAU,EAAE;AAP0C,CAAxD;AAUAtB,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,QAA1C,EAAoD;AAClDmC,KAAG,EAAE,aAAU8rC,EAAV,EAAc;AACjB,QAAI,CAACA,EAAD,IAAO,EAAE,OAAOA,EAAP,KAAc,QAAhB,CAAP,IAAoCA,EAAE,GAAG,CAA7C,EAAgD;AAC9CA,QAAE,GAAG,CAAL;AACD;;AACD,SAAKd,OAAL,IAAgBc,EAAhB;AACAnF,QAAI,CAAC,IAAD,CAAJ;AACD,GAPiD;AAQlD7mC,KAAG,EAAE,eAAY;AACf,WAAO,KAAKkrC,OAAL,CAAP;AACD,GAViD;AAWlD9rC,YAAU,EAAE;AAXsC,CAApD,E,CAcA;;AACAtB,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,kBAA1C,EAA8D;AAC5DmC,KAAG,EAAE,aAAU+rC,EAAV,EAAc;AACjB,QAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,QAAE,GAAGV,WAAL;AACD;;AACD,QAAIU,EAAE,KAAK,KAAKjB,iBAAL,CAAX,EAAoC;AAClC,WAAKA,iBAAL,IAA0BiB,EAA1B;AACA,WAAKlB,MAAL,IAAe,CAAf;AACA,WAAKM,QAAL,EAAensC,OAAf,CAAuB,UAAUgtC,GAAV,EAAe;AACpCA,WAAG,CAACzrC,MAAJ,GAAa,KAAKuqC,iBAAL,EAAwBkB,GAAG,CAACvoC,KAA5B,EAAmCuoC,GAAG,CAAC/sC,GAAvC,CAAb;AACA,aAAK4rC,MAAL,KAAgBmB,GAAG,CAACzrC,MAApB;AACD,OAHD,EAGG,IAHH;AAID;;AACDomC,QAAI,CAAC,IAAD,CAAJ;AACD,GAd2D;AAe5D7mC,KAAG,EAAE,eAAY;AAAE,WAAO,KAAKgrC,iBAAL,CAAP;AAAgC,GAfS;AAgB5D5rC,YAAU,EAAE;AAhBgD,CAA9D;AAmBAtB,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,QAA1C,EAAoD;AAClDiC,KAAG,EAAE,eAAY;AAAE,WAAO,KAAK+qC,MAAL,CAAP;AAAqB,GADU;AAElD3rC,YAAU,EAAE;AAFsC,CAApD;AAKAtB,MAAM,CAAC4kB,cAAP,CAAsB8nB,QAAQ,CAACzsC,SAA/B,EAA0C,WAA1C,EAAuD;AACrDiC,KAAG,EAAE,eAAY;AAAE,WAAO,KAAKqrC,QAAL,EAAe5qC,MAAtB;AAA8B,GADI;AAErDrB,YAAU,EAAE;AAFyC,CAAvD;;AAKAorC,QAAQ,CAACzsC,SAAT,CAAmBouC,QAAnB,GAA8B,UAAUlF,EAAV,EAAcmF,KAAd,EAAqB;AACjDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKhB,QAAL,EAAeiB,IAAjC,EAAuCD,MAAM,KAAK,IAAlD,GAAyD;AACvD,QAAI9lC,IAAI,GAAG8lC,MAAM,CAAC9lC,IAAlB;AACAgmC,eAAW,CAAC,IAAD,EAAOtF,EAAP,EAAWoF,MAAX,EAAmBD,KAAnB,CAAX;AACAC,UAAM,GAAG9lC,IAAT;AACD;AACF,CAPD;;AASA,SAASgmC,WAAT,CAAsBjwB,IAAtB,EAA4B2qB,EAA5B,EAAgCzuB,IAAhC,EAAsC4zB,KAAtC,EAA6C;AAC3C,MAAIF,GAAG,GAAG1zB,IAAI,CAAC7U,KAAf;;AACA,MAAI6oC,OAAO,CAAClwB,IAAD,EAAO4vB,GAAP,CAAX,EAAwB;AACtBO,OAAG,CAACnwB,IAAD,EAAO9D,IAAP,CAAH;;AACA,QAAI,CAAC8D,IAAI,CAAC2uB,WAAD,CAAT,EAAwB;AACtBiB,SAAG,GAAGhrC,SAAN;AACD;AACF;;AACD,MAAIgrC,GAAJ,EAAS;AACPjF,MAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAeF,GAAG,CAACvoC,KAAnB,EAA0BuoC,GAAG,CAAC/sC,GAA9B,EAAmCmd,IAAnC;AACD;AACF;;AAEDkuB,QAAQ,CAACzsC,SAAT,CAAmBmB,OAAnB,GAA6B,UAAU+nC,EAAV,EAAcmF,KAAd,EAAqB;AAChDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKhB,QAAL,EAAeqB,IAAjC,EAAuCL,MAAM,KAAK,IAAlD,GAAyD;AACvD,QAAI7lC,IAAI,GAAG6lC,MAAM,CAAC7lC,IAAlB;AACA+lC,eAAW,CAAC,IAAD,EAAOtF,EAAP,EAAWoF,MAAX,EAAmBD,KAAnB,CAAX;AACAC,UAAM,GAAG7lC,IAAT;AACD;AACF,CAPD;;AASAgkC,QAAQ,CAACzsC,SAAT,CAAmBY,IAAnB,GAA0B,YAAY;AACpC,SAAO,KAAK0sC,QAAL,EAAesB,OAAf,GAAyBj1B,GAAzB,CAA6B,UAAUk1B,CAAV,EAAa;AAC/C,WAAOA,CAAC,CAACztC,GAAT;AACD,GAFM,EAEJ,IAFI,CAAP;AAGD,CAJD;;AAMAqrC,QAAQ,CAACzsC,SAAT,CAAmByX,MAAnB,GAA4B,YAAY;AACtC,SAAO,KAAK61B,QAAL,EAAesB,OAAf,GAAyBj1B,GAAzB,CAA6B,UAAUk1B,CAAV,EAAa;AAC/C,WAAOA,CAAC,CAACjpC,KAAT;AACD,GAFM,EAEJ,IAFI,CAAP;AAGD,CAJD;;AAMA6mC,QAAQ,CAACzsC,SAAT,CAAmB8tC,KAAnB,GAA2B,YAAY;AACrC,MAAI,KAAKV,OAAL,KACA,KAAKE,QAAL,CADA,IAEA,KAAKA,QAAL,EAAe5qC,MAFnB,EAE2B;AACzB,SAAK4qC,QAAL,EAAensC,OAAf,CAAuB,UAAUgtC,GAAV,EAAe;AACpC,WAAKf,OAAL,EAAce,GAAG,CAAC/sC,GAAlB,EAAuB+sC,GAAG,CAACvoC,KAA3B;AACD,KAFD,EAEG,IAFH;AAGD;;AAED,OAAK2nC,KAAL,IAAc,IAAI53B,GAAJ,EAAd,CATqC,CASb;;AACxB,OAAK23B,QAAL,IAAiB,IAAIX,OAAJ,EAAjB,CAVqC,CAUN;;AAC/B,OAAKK,MAAL,IAAe,CAAf,CAXqC,CAWpB;AAClB,CAZD;;AAcAP,QAAQ,CAACzsC,SAAT,CAAmB8uC,IAAnB,GAA0B,YAAY;AACpC,SAAO,KAAKxB,QAAL,EAAe3zB,GAAf,CAAmB,UAAUw0B,GAAV,EAAe;AACvC,QAAI,CAACM,OAAO,CAAC,IAAD,EAAON,GAAP,CAAZ,EAAyB;AACvB,aAAO;AACLU,SAAC,EAAEV,GAAG,CAAC/sC,GADF;AAELyF,SAAC,EAAEsnC,GAAG,CAACvoC,KAFF;AAGL0V,SAAC,EAAE6yB,GAAG,CAACpvB,GAAJ,IAAWovB,GAAG,CAACR,MAAJ,IAAc,CAAzB;AAHE,OAAP;AAKD;AACF,GARM,EAQJ,IARI,EAQEiB,OARF,GAQY3Q,MARZ,CAQmB,UAAU8Q,CAAV,EAAa;AACrC,WAAOA,CAAP;AACD,GAVM,CAAP;AAWD,CAZD;;AAcAtC,QAAQ,CAACzsC,SAAT,CAAmBgvC,OAAnB,GAA6B,YAAY;AACvC,SAAO,KAAK1B,QAAL,CAAP;AACD,CAFD;AAIA;;;AACAb,QAAQ,CAACzsC,SAAT,CAAmBivC,OAAnB,GAA6B,UAAUC,CAAV,EAAaC,IAAb,EAAmB;AAC9C,MAAIC,GAAG,GAAG,YAAV;AACA,MAAIC,MAAM,GAAG,KAAb;AAEA,MAAIC,EAAE,GAAG,KAAKpC,WAAL,CAAT;;AACA,MAAIoC,EAAJ,EAAQ;AACNF,OAAG,IAAI,sBAAP;AACAC,UAAM,GAAG,IAAT;AACD;;AAED,MAAIhvC,GAAG,GAAG,KAAK0sC,GAAL,CAAV;;AACA,MAAI1sC,GAAG,IAAIA,GAAG,KAAKia,QAAnB,EAA6B;AAC3B,QAAI+0B,MAAJ,EAAY;AACVD,SAAG,IAAI,GAAP;AACD;;AACDA,OAAG,IAAI,cAAc1C,IAAI,CAACuC,OAAL,CAAa5uC,GAAb,EAAkB8uC,IAAlB,CAArB;AACAE,UAAM,GAAG,IAAT;AACD;;AAED,MAAI1B,MAAM,GAAG,KAAKR,OAAL,CAAb;;AACA,MAAIQ,MAAJ,EAAY;AACV,QAAI0B,MAAJ,EAAY;AACVD,SAAG,IAAI,GAAP;AACD;;AACDA,OAAG,IAAI,iBAAiB1C,IAAI,CAACuC,OAAL,CAAatB,MAAb,EAAqBwB,IAArB,CAAxB;AACAE,UAAM,GAAG,IAAT;AACD;;AAED,MAAI5B,EAAE,GAAG,KAAKR,iBAAL,CAAT;;AACA,MAAIQ,EAAE,IAAIA,EAAE,KAAKD,WAAjB,EAA8B;AAC5B,QAAI6B,MAAJ,EAAY;AACVD,SAAG,IAAI,GAAP;AACD;;AACDA,OAAG,IAAI,iBAAiB1C,IAAI,CAACuC,OAAL,CAAa,KAAKjC,MAAL,CAAb,EAA2BmC,IAA3B,CAAxB;AACAE,UAAM,GAAG,IAAT;AACD;;AAED,MAAIE,QAAQ,GAAG,KAAf;AACA,OAAKjC,QAAL,EAAensC,OAAf,CAAuB,UAAUyY,IAAV,EAAgB;AACrC,QAAI21B,QAAJ,EAAc;AACZH,SAAG,IAAI,OAAP;AACD,KAFD,MAEO;AACL,UAAIC,MAAJ,EAAY;AACVD,WAAG,IAAI,KAAP;AACD;;AACDG,cAAQ,GAAG,IAAX;AACAH,SAAG,IAAI,MAAP;AACD;;AACD,QAAIhuC,GAAG,GAAGsrC,IAAI,CAACuC,OAAL,CAAar1B,IAAI,CAACxY,GAAlB,EAAuBuwB,KAAvB,CAA6B,IAA7B,EAAmCzsB,IAAnC,CAAwC,MAAxC,CAAV;AACA,QAAIsqC,GAAG,GAAG;AAAE5pC,WAAK,EAAEgU,IAAI,CAAChU;AAAd,KAAV;;AACA,QAAIgU,IAAI,CAAC+zB,MAAL,KAAgBA,MAApB,EAA4B;AAC1B6B,SAAG,CAAC7B,MAAJ,GAAa/zB,IAAI,CAAC+zB,MAAlB;AACD;;AACD,QAAIF,EAAE,KAAKD,WAAX,EAAwB;AACtBgC,SAAG,CAAC9sC,MAAJ,GAAakX,IAAI,CAAClX,MAAlB;AACD;;AACD,QAAI+rC,OAAO,CAAC,IAAD,EAAO70B,IAAP,CAAX,EAAyB;AACvB41B,SAAG,CAAC9B,KAAJ,GAAY,IAAZ;AACD;;AAED8B,OAAG,GAAG9C,IAAI,CAACuC,OAAL,CAAaO,GAAb,EAAkBL,IAAlB,EAAwBxd,KAAxB,CAA8B,IAA9B,EAAoCzsB,IAApC,CAAyC,MAAzC,CAAN;AACAkqC,OAAG,IAAIhuC,GAAG,GAAG,MAAN,GAAeouC,GAAtB;AACD,GAxBD;;AA0BA,MAAID,QAAQ,IAAIF,MAAhB,EAAwB;AACtBD,OAAG,IAAI,IAAP;AACD;;AACDA,KAAG,IAAI,GAAP;AAEA,SAAOA,GAAP;AACD,CAtED;;AAwEA3C,QAAQ,CAACzsC,SAAT,CAAmBmC,GAAnB,GAAyB,UAAUf,GAAV,EAAewE,KAAf,EAAsB+nC,MAAtB,EAA8B;AACrDA,QAAM,GAAGA,MAAM,IAAI,KAAKR,OAAL,CAAnB;AAEA,MAAIpuB,GAAG,GAAG4uB,MAAM,GAAG3uB,IAAI,CAACD,GAAL,EAAH,GAAgB,CAAhC;AACA,MAAI5C,GAAG,GAAG,KAAK8wB,iBAAL,EAAwBrnC,KAAxB,EAA+BxE,GAA/B,CAAV;;AAEA,MAAI,KAAKmsC,KAAL,EAAYn7B,GAAZ,CAAgBhR,GAAhB,CAAJ,EAA0B;AACxB,QAAI+a,GAAG,GAAG,KAAK4wB,GAAL,CAAV,EAAqB;AACnB2B,SAAG,CAAC,IAAD,EAAO,KAAKnB,KAAL,EAAYtrC,GAAZ,CAAgBb,GAAhB,CAAP,CAAH;AACA,aAAO,KAAP;AACD;;AAED,QAAIqZ,IAAI,GAAG,KAAK8yB,KAAL,EAAYtrC,GAAZ,CAAgBb,GAAhB,CAAX;AACA,QAAIwY,IAAI,GAAGa,IAAI,CAAC7U,KAAhB,CAPwB,CASxB;AACA;;AACA,QAAI,KAAKwnC,OAAL,CAAJ,EAAmB;AACjB,UAAI,CAAC,KAAKC,iBAAL,CAAL,EAA8B;AAC5B,aAAKD,OAAL,EAAchsC,GAAd,EAAmBwY,IAAI,CAAChU,KAAxB;AACD;AACF;;AAEDgU,QAAI,CAACmF,GAAL,GAAWA,GAAX;AACAnF,QAAI,CAAC+zB,MAAL,GAAcA,MAAd;AACA/zB,QAAI,CAAChU,KAAL,GAAaA,KAAb;AACA,SAAKonC,MAAL,KAAgB7wB,GAAG,GAAGvC,IAAI,CAAClX,MAA3B;AACAkX,QAAI,CAAClX,MAAL,GAAcyZ,GAAd;AACA,SAAKla,GAAL,CAASb,GAAT;AACA0nC,QAAI,CAAC,IAAD,CAAJ;AACA,WAAO,IAAP;AACD;;AAED,MAAIqF,GAAG,GAAG,IAAIsB,KAAJ,CAAUruC,GAAV,EAAewE,KAAf,EAAsBuW,GAAtB,EAA2B4C,GAA3B,EAAgC4uB,MAAhC,CAAV,CAjCqD,CAmCrD;;AACA,MAAIQ,GAAG,CAACzrC,MAAJ,GAAa,KAAKqqC,GAAL,CAAjB,EAA4B;AAC1B,QAAI,KAAKK,OAAL,CAAJ,EAAmB;AACjB,WAAKA,OAAL,EAAchsC,GAAd,EAAmBwE,KAAnB;AACD;;AACD,WAAO,KAAP;AACD;;AAED,OAAKonC,MAAL,KAAgBmB,GAAG,CAACzrC,MAApB;AACA,OAAK4qC,QAAL,EAAe75B,OAAf,CAAuB06B,GAAvB;AACA,OAAKZ,KAAL,EAAYprC,GAAZ,CAAgBf,GAAhB,EAAqB,KAAKksC,QAAL,EAAeqB,IAApC;AACA7F,MAAI,CAAC,IAAD,CAAJ;AACA,SAAO,IAAP;AACD,CAhDD;;AAkDA2D,QAAQ,CAACzsC,SAAT,CAAmBoS,GAAnB,GAAyB,UAAUhR,GAAV,EAAe;AACtC,MAAI,CAAC,KAAKmsC,KAAL,EAAYn7B,GAAZ,CAAgBhR,GAAhB,CAAL,EAA2B,OAAO,KAAP;AAC3B,MAAI+sC,GAAG,GAAG,KAAKZ,KAAL,EAAYtrC,GAAZ,CAAgBb,GAAhB,EAAqBwE,KAA/B;;AACA,MAAI6oC,OAAO,CAAC,IAAD,EAAON,GAAP,CAAX,EAAwB;AACtB,WAAO,KAAP;AACD;;AACD,SAAO,IAAP;AACD,CAPD;;AASA1B,QAAQ,CAACzsC,SAAT,CAAmBiC,GAAnB,GAAyB,UAAUb,GAAV,EAAe;AACtC,SAAOa,GAAG,CAAC,IAAD,EAAOb,GAAP,EAAY,IAAZ,CAAV;AACD,CAFD;;AAIAqrC,QAAQ,CAACzsC,SAAT,CAAmB0vC,IAAnB,GAA0B,UAAUtuC,GAAV,EAAe;AACvC,SAAOa,GAAG,CAAC,IAAD,EAAOb,GAAP,EAAY,KAAZ,CAAV;AACD,CAFD;;AAIAqrC,QAAQ,CAACzsC,SAAT,CAAmBsI,GAAnB,GAAyB,YAAY;AACnC,MAAImS,IAAI,GAAG,KAAK6yB,QAAL,EAAeiB,IAA1B;AACA,MAAI,CAAC9zB,IAAL,EAAW,OAAO,IAAP;AACXi0B,KAAG,CAAC,IAAD,EAAOj0B,IAAP,CAAH;AACA,SAAOA,IAAI,CAAC7U,KAAZ;AACD,CALD;;AAOA6mC,QAAQ,CAACzsC,SAAT,CAAmB0uC,GAAnB,GAAyB,UAAUttC,GAAV,EAAe;AACtCstC,KAAG,CAAC,IAAD,EAAO,KAAKnB,KAAL,EAAYtrC,GAAZ,CAAgBb,GAAhB,CAAP,CAAH;AACD,CAFD;;AAIAqrC,QAAQ,CAACzsC,SAAT,CAAmB2vC,IAAnB,GAA0B,UAAUC,GAAV,EAAe;AACvC;AACA,OAAK9B,KAAL;AAEA,MAAI/uB,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAV,CAJuC,CAKvC;;AACA,OAAK,IAAI8wB,CAAC,GAAGD,GAAG,CAACltC,MAAJ,GAAa,CAA1B,EAA6BmtC,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,QAAI1B,GAAG,GAAGyB,GAAG,CAACC,CAAD,CAAb;AACA,QAAIC,SAAS,GAAG3B,GAAG,CAAC7yB,CAAJ,IAAS,CAAzB;;AACA,QAAIw0B,SAAS,KAAK,CAAlB,EAAqB;AACnB;AACA,WAAK3tC,GAAL,CAASgsC,GAAG,CAACU,CAAb,EAAgBV,GAAG,CAACtnC,CAApB;AACD,KAHD,MAGO;AACL,UAAI8mC,MAAM,GAAGmC,SAAS,GAAG/wB,GAAzB,CADK,CAEL;;AACA,UAAI4uB,MAAM,GAAG,CAAb,EAAgB;AACd,aAAKxrC,GAAL,CAASgsC,GAAG,CAACU,CAAb,EAAgBV,GAAG,CAACtnC,CAApB,EAAuB8mC,MAAvB;AACD;AACF;AACF;AACF,CApBD;;AAsBAlB,QAAQ,CAACzsC,SAAT,CAAmB+vC,KAAnB,GAA2B,YAAY;AACrC,MAAIxxB,IAAI,GAAG,IAAX;AACA,OAAKgvB,KAAL,EAAYpsC,OAAZ,CAAoB,UAAUyE,KAAV,EAAiBxE,GAAjB,EAAsB;AACxCa,OAAG,CAACsc,IAAD,EAAOnd,GAAP,EAAY,KAAZ,CAAH;AACD,GAFD;AAGD,CALD;;AAOA,SAASa,GAAT,CAAcsc,IAAd,EAAoBnd,GAApB,EAAyB4uC,KAAzB,EAAgC;AAC9B,MAAIv1B,IAAI,GAAG8D,IAAI,CAACgvB,KAAD,CAAJ,CAAYtrC,GAAZ,CAAgBb,GAAhB,CAAX;;AACA,MAAIqZ,IAAJ,EAAU;AACR,QAAI0zB,GAAG,GAAG1zB,IAAI,CAAC7U,KAAf;;AACA,QAAI6oC,OAAO,CAAClwB,IAAD,EAAO4vB,GAAP,CAAX,EAAwB;AACtBO,SAAG,CAACnwB,IAAD,EAAO9D,IAAP,CAAH;AACA,UAAI,CAAC8D,IAAI,CAAC2uB,WAAD,CAAT,EAAwBiB,GAAG,GAAGhrC,SAAN;AACzB,KAHD,MAGO;AACL,UAAI6sC,KAAJ,EAAW;AACTzxB,YAAI,CAAC+uB,QAAD,CAAJ,CAAe2C,WAAf,CAA2Bx1B,IAA3B;AACD;AACF;;AACD,QAAI0zB,GAAJ,EAASA,GAAG,GAAGA,GAAG,CAACvoC,KAAV;AACV;;AACD,SAAOuoC,GAAP;AACD;;AAED,SAASM,OAAT,CAAkBlwB,IAAlB,EAAwB4vB,GAAxB,EAA6B;AAC3B,MAAI,CAACA,GAAD,IAAS,CAACA,GAAG,CAACR,MAAL,IAAe,CAACpvB,IAAI,CAAC4uB,OAAD,CAAjC,EAA6C;AAC3C,WAAO,KAAP;AACD;;AACD,MAAIO,KAAK,GAAG,KAAZ;AACA,MAAIwC,IAAI,GAAGlxB,IAAI,CAACD,GAAL,KAAaovB,GAAG,CAACpvB,GAA5B;;AACA,MAAIovB,GAAG,CAACR,MAAR,EAAgB;AACdD,SAAK,GAAGwC,IAAI,GAAG/B,GAAG,CAACR,MAAnB;AACD,GAFD,MAEO;AACLD,SAAK,GAAGnvB,IAAI,CAAC4uB,OAAD,CAAJ,IAAkB+C,IAAI,GAAG3xB,IAAI,CAAC4uB,OAAD,CAArC;AACD;;AACD,SAAOO,KAAP;AACD;;AAED,SAAS5E,IAAT,CAAevqB,IAAf,EAAqB;AACnB,MAAIA,IAAI,CAACyuB,MAAD,CAAJ,GAAezuB,IAAI,CAACwuB,GAAD,CAAvB,EAA8B;AAC5B,SAAK,IAAIuB,MAAM,GAAG/vB,IAAI,CAAC+uB,QAAD,CAAJ,CAAeiB,IAAjC,EACEhwB,IAAI,CAACyuB,MAAD,CAAJ,GAAezuB,IAAI,CAACwuB,GAAD,CAAnB,IAA4BuB,MAAM,KAAK,IADzC,GACgD;AAC9C;AACA;AACA;AACA,UAAI9lC,IAAI,GAAG8lC,MAAM,CAAC9lC,IAAlB;AACAkmC,SAAG,CAACnwB,IAAD,EAAO+vB,MAAP,CAAH;AACAA,YAAM,GAAG9lC,IAAT;AACD;AACF;AACF;;AAED,SAASkmC,GAAT,CAAcnwB,IAAd,EAAoB9D,IAApB,EAA0B;AACxB,MAAIA,IAAJ,EAAU;AACR,QAAI0zB,GAAG,GAAG1zB,IAAI,CAAC7U,KAAf;;AACA,QAAI2Y,IAAI,CAAC6uB,OAAD,CAAR,EAAmB;AACjB7uB,UAAI,CAAC6uB,OAAD,CAAJ,CAAce,GAAG,CAAC/sC,GAAlB,EAAuB+sC,GAAG,CAACvoC,KAA3B;AACD;;AACD2Y,QAAI,CAACyuB,MAAD,CAAJ,IAAgBmB,GAAG,CAACzrC,MAApB;AACA6b,QAAI,CAACgvB,KAAD,CAAJ,CAAY/c,MAAZ,CAAmB2d,GAAG,CAAC/sC,GAAvB;AACAmd,QAAI,CAAC+uB,QAAD,CAAJ,CAAe6C,UAAf,CAA0B11B,IAA1B;AACD;AACF,C,CAED;;;AACA,SAASg1B,KAAT,CAAgBruC,GAAhB,EAAqBwE,KAArB,EAA4BlD,MAA5B,EAAoCqc,GAApC,EAAyC4uB,MAAzC,EAAiD;AAC/C,OAAKvsC,GAAL,GAAWA,GAAX;AACA,OAAKwE,KAAL,GAAaA,KAAb;AACA,OAAKlD,MAAL,GAAcA,MAAd;AACA,OAAKqc,GAAL,GAAWA,GAAX;AACA,OAAK4uB,MAAL,GAAcA,MAAM,IAAI,CAAxB;AACD,C;;;;;;;;ACndY;;AAEb,IAAInmC,IAAJ,EAA2C;AACzCkN,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;ACJP,mDAAIpN,OAAO,CAACC,GAAR,CAAY2oC,gBAAZ,KAAiC,WAAjC,IACA5oC,OAAO,CAACC,GAAR,CAAY4oC,oBAAZ,KAAqC,MADzC,EAEE7oC,OAAO,CAACC,GAAR,CAAY6oC,cAAZ,GAA6B,MAA7B;;AAEF,IAAI,OAAO36B,GAAP,KAAe,UAAf,IAA6B,CAACnO,OAAO,CAACC,GAAR,CAAY6oC,cAA9C,EAA8D;AAC5D57B,QAAM,CAACC,OAAP,GAAiBgB,GAAjB;AACD,CAFD,MAEO;AACLjB,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,C;;;;;;;ACRD,IAAI9U,cAAc,GAAGC,MAAM,CAACC,SAAP,CAAiBF,cAAtC;AAEA4U,MAAM,CAACC,OAAP,GAAiB47B,SAAjB;;AAEA,SAASA,SAAT,CAAoBpuC,GAApB,EAAyB;AACvB,MAAI,EAAE,gBAAgBouC,SAAlB,CAAJ,EAAkC;AAChC,UAAM,IAAIxwB,SAAJ,CAAc,sCAAd,CAAN;AAEF,OAAKsL,KAAL;;AAEA,MAAIlpB,GAAJ,EAAS;AACP,QAAKA,GAAG,YAAYouC,SAAhB,IACC,OAAO56B,GAAP,KAAe,UAAf,IAA6BxT,GAAG,YAAYwT,GADjD,EAEExT,GAAG,CAAChB,OAAJ,CAAY,UAAUyE,KAAV,EAAiBxE,GAAjB,EAAsB;AAChC,WAAKe,GAAL,CAASf,GAAT,EAAcwE,KAAd;AACD,KAFD,EAEG,IAFH,EAFF,KAKK,IAAIwD,KAAK,CAACK,OAAN,CAActH,GAAd,CAAJ,EACHA,GAAG,CAAChB,OAAJ,CAAY,UAAUqvC,EAAV,EAAc;AACxB,WAAKruC,GAAL,CAASquC,EAAE,CAAC,CAAD,CAAX,EAAgBA,EAAE,CAAC,CAAD,CAAlB;AACD,KAFD,EAEG,IAFH,EADG,KAKH,MAAM,IAAIzwB,SAAJ,CAAc,kBAAd,CAAN;AACH;AACF;;AAEDwwB,SAAS,CAACvwC,SAAV,CAAoBmB,OAApB,GAA8B,UAAU+nC,EAAV,EAAcmF,KAAd,EAAqB;AACjDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;AACAtuC,QAAM,CAACa,IAAP,CAAY,KAAK6vC,KAAjB,EAAwBtvC,OAAxB,CAAgC,UAAU0tC,CAAV,EAAa;AAC3C,QAAIA,CAAC,KAAK,MAAV,EACE3F,EAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAe,KAAKoC,KAAL,CAAW5B,CAAX,EAAcjpC,KAA7B,EAAoC,KAAK6qC,KAAL,CAAW5B,CAAX,EAAcztC,GAAlD;AACH,GAHD,EAGG,IAHH;AAID,CAND;;AAQAmvC,SAAS,CAACvwC,SAAV,CAAoBoS,GAApB,GAA0B,UAAUy8B,CAAV,EAAa;AACrC,SAAO,CAAC,CAAC6B,IAAI,CAAC,KAAKD,KAAN,EAAa5B,CAAb,CAAb;AACD,CAFD;;AAIA0B,SAAS,CAACvwC,SAAV,CAAoBiC,GAApB,GAA0B,UAAU4sC,CAAV,EAAa;AACrC,MAAI8B,GAAG,GAAGD,IAAI,CAAC,KAAKD,KAAN,EAAa5B,CAAb,CAAd;AACA,SAAO8B,GAAG,IAAIA,GAAG,CAAC/qC,KAAlB;AACD,CAHD;;AAKA2qC,SAAS,CAACvwC,SAAV,CAAoBmC,GAApB,GAA0B,UAAU0sC,CAAV,EAAahoC,CAAb,EAAgB;AACxC1E,KAAG,CAAC,KAAKsuC,KAAN,EAAa5B,CAAb,EAAgBhoC,CAAhB,CAAH;AACD,CAFD;;AAIA0pC,SAAS,CAACvwC,SAAV,CAAoBwwB,MAApB,GAA6B,UAAUqe,CAAV,EAAa;AACxC,MAAI8B,GAAG,GAAGD,IAAI,CAAC,KAAKD,KAAN,EAAa5B,CAAb,CAAd;;AACA,MAAI8B,GAAJ,EAAS;AACP,WAAO,KAAKF,KAAL,CAAWE,GAAG,CAACC,MAAf,CAAP;AACA,SAAKH,KAAL,CAAWhkC,IAAX;AACD;AACF,CAND;;AAQA8jC,SAAS,CAACvwC,SAAV,CAAoBqrB,KAApB,GAA4B,YAAY;AACtC,MAAInhB,IAAI,GAAGnK,MAAM,CAAC8wC,MAAP,CAAc,IAAd,CAAX;AACA3mC,MAAI,CAACuC,IAAL,GAAY,CAAZ;AAEA1M,QAAM,CAAC4kB,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACnC/e,SAAK,EAAEsE,IAD4B;AAEnC7I,cAAU,EAAE,KAFuB;AAGnCyZ,gBAAY,EAAE,IAHqB;AAInC2tB,YAAQ,EAAE;AAJyB,GAArC;AAMD,CAVD;;AAYA1oC,MAAM,CAAC4kB,cAAP,CAAsB4rB,SAAS,CAACvwC,SAAhC,EAA2C,MAA3C,EAAmD;AACjDiC,KAAG,EAAE,eAAY;AACf,WAAO,KAAKwuC,KAAL,CAAWhkC,IAAlB;AACD,GAHgD;AAIjDtK,KAAG,EAAE,aAAU+sC,CAAV,EAAa,CAAE,CAJ6B;AAKjD7tC,YAAU,EAAE,IALqC;AAMjDyZ,cAAY,EAAE;AANmC,CAAnD;;AASAy1B,SAAS,CAACvwC,SAAV,CAAoByX,MAApB,GACA84B,SAAS,CAACvwC,SAAV,CAAoBY,IAApB,GACA2vC,SAAS,CAACvwC,SAAV,CAAoBkiB,OAApB,GAA8B,YAAY;AACxC,QAAM,IAAI3c,KAAJ,CAAU,+CAAV,CAAN;AACD,CAJD,C,CAMA;;;AACA,SAASurC,IAAT,CAAevwC,CAAf,EAAkBC,CAAlB,EAAqB;AACnB,SAAOD,CAAC,KAAKC,CAAN,IAAWD,CAAC,KAAKA,CAAN,IAAWC,CAAC,KAAKA,CAAnC;AACD;;AAED,SAASivC,KAAT,CAAgBZ,CAAhB,EAAmBhoC,CAAnB,EAAsBpE,CAAtB,EAAyB;AACvB,OAAKrB,GAAL,GAAWytC,CAAX;AACA,OAAKjpC,KAAL,GAAaiB,CAAb;AACA,OAAK+pC,MAAL,GAAcnuC,CAAd;AACD;;AAED,SAASiuC,IAAT,CAAexmC,IAAf,EAAqB2kC,CAArB,EAAwB;AACtB,OAAK,IAAIpsC,CAAC,GAAG,CAAR,EAAWkE,CAAC,GAAG,MAAMkoC,CAArB,EAAwBztC,GAAG,GAAGuF,CAAnC,EACK7G,cAAc,CAACmJ,IAAf,CAAoBiB,IAApB,EAA0B9I,GAA1B,CADL,EAEKA,GAAG,GAAGuF,CAAC,GAAGlE,CAAC,EAFhB,EAEoB;AAClB,QAAIquC,IAAI,CAAC5mC,IAAI,CAAC9I,GAAD,CAAJ,CAAUA,GAAX,EAAgBytC,CAAhB,CAAR,EACE,OAAO3kC,IAAI,CAAC9I,GAAD,CAAX;AACH;AACF;;AAED,SAASe,GAAT,CAAc+H,IAAd,EAAoB2kC,CAApB,EAAuBhoC,CAAvB,EAA0B;AACxB,OAAK,IAAIpE,CAAC,GAAG,CAAR,EAAWkE,CAAC,GAAG,MAAMkoC,CAArB,EAAwBztC,GAAG,GAAGuF,CAAnC,EACK7G,cAAc,CAACmJ,IAAf,CAAoBiB,IAApB,EAA0B9I,GAA1B,CADL,EAEKA,GAAG,GAAGuF,CAAC,GAAGlE,CAAC,EAFhB,EAEoB;AAClB,QAAIquC,IAAI,CAAC5mC,IAAI,CAAC9I,GAAD,CAAJ,CAAUA,GAAX,EAAgBytC,CAAhB,CAAR,EAA4B;AAC1B3kC,UAAI,CAAC9I,GAAD,CAAJ,CAAUwE,KAAV,GAAkBiB,CAAlB;AACA;AACD;AACF;;AACDqD,MAAI,CAACuC,IAAL;AACAvC,MAAI,CAAC9I,GAAD,CAAJ,GAAY,IAAIquC,KAAJ,CAAUZ,CAAV,EAAahoC,CAAb,EAAgBzF,GAAhB,CAAZ;AACD,C;;;;;;;;AChHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIF,yBAAyB,GAAGnB,MAAM,CAACmB,yBAAP,IAC9B,SAASA,yBAAT,CAAmCP,GAAnC,EAAwC;AACtC,MAAIC,IAAI,GAAGb,MAAM,CAACa,IAAP,CAAYD,GAAZ,CAAX;AACA,MAAIM,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIwB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7B,IAAI,CAAC8B,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpCxB,eAAW,CAACL,IAAI,CAAC6B,CAAD,CAAL,CAAX,GAAuB1C,MAAM,CAACgxC,wBAAP,CAAgCpwC,GAAhC,EAAqCC,IAAI,CAAC6B,CAAD,CAAzC,CAAvB;AACD;;AACD,SAAOxB,WAAP;AACD,CARH;;AAUA,IAAI+vC,YAAY,GAAG,UAAnB;;AACAr8B,OAAO,CAAC7B,MAAR,GAAiB,UAASm+B,CAAT,EAAY;AAC3B,MAAI,CAACC,QAAQ,CAACD,CAAD,CAAb,EAAkB;AAChB,QAAIE,OAAO,GAAG,EAAd;;AACA,SAAK,IAAI1uC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Z,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC0uC,aAAO,CAAC5tC,IAAR,CAAa0rC,OAAO,CAAC3yB,SAAS,CAAC7Z,CAAD,CAAV,CAApB;AACD;;AACD,WAAO0uC,OAAO,CAACjsC,IAAR,CAAa,GAAb,CAAP;AACD;;AAED,MAAIzC,CAAC,GAAG,CAAR;AACA,MAAIuQ,IAAI,GAAGsJ,SAAX;AACA,MAAIH,GAAG,GAAGnJ,IAAI,CAACtQ,MAAf;AACA,MAAI0sC,GAAG,GAAGxsC,MAAM,CAACquC,CAAD,CAAN,CAAUh+B,OAAV,CAAkB+9B,YAAlB,EAAgC,UAASzvB,CAAT,EAAY;AACpD,QAAIA,CAAC,KAAK,IAAV,EAAgB,OAAO,GAAP;AAChB,QAAI9e,CAAC,IAAI0Z,GAAT,EAAc,OAAOoF,CAAP;;AACd,YAAQA,CAAR;AACE,WAAK,IAAL;AAAW,eAAO3e,MAAM,CAACoQ,IAAI,CAACvQ,CAAC,EAAF,CAAL,CAAb;;AACX,WAAK,IAAL;AAAW,eAAO4H,MAAM,CAAC2I,IAAI,CAACvQ,CAAC,EAAF,CAAL,CAAb;;AACX,WAAK,IAAL;AACE,YAAI;AACF,iBAAO0D,IAAI,CAACM,SAAL,CAAeuM,IAAI,CAACvQ,CAAC,EAAF,CAAnB,CAAP;AACD,SAFD,CAEE,OAAO2uC,CAAP,EAAU;AACV,iBAAO,YAAP;AACD;;AACH;AACE,eAAO7vB,CAAP;AAVJ;AAYD,GAfS,CAAV;;AAgBA,OAAK,IAAIA,CAAC,GAAGvO,IAAI,CAACvQ,CAAD,CAAjB,EAAsBA,CAAC,GAAG0Z,GAA1B,EAA+BoF,CAAC,GAAGvO,IAAI,CAAC,EAAEvQ,CAAH,CAAvC,EAA8C;AAC5C,QAAI4uC,MAAM,CAAC9vB,CAAD,CAAN,IAAa,CAACtB,QAAQ,CAACsB,CAAD,CAA1B,EAA+B;AAC7B6tB,SAAG,IAAI,MAAM7tB,CAAb;AACD,KAFD,MAEO;AACL6tB,SAAG,IAAI,MAAMH,OAAO,CAAC1tB,CAAD,CAApB;AACD;AACF;;AACD,SAAO6tB,GAAP;AACD,CApCD,C,CAuCA;AACA;AACA;;;AACAz6B,OAAO,CAAC28B,SAAR,GAAoB,UAASpI,EAAT,EAAaqI,GAAb,EAAkB;AACpC,MAAI,OAAO/pC,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,CAACgqC,aAAR,KAA0B,IAAhE,EAAsE;AACpE,WAAOtI,EAAP;AACD,GAHmC,CAKpC;;;AACA,MAAI,OAAO1hC,OAAP,KAAmB,WAAvB,EAAoC;AAClC,WAAO,YAAW;AAChB,aAAOmN,OAAO,CAAC28B,SAAR,CAAkBpI,EAAlB,EAAsBqI,GAAtB,EAA2B/0B,KAA3B,CAAiC,IAAjC,EAAuCF,SAAvC,CAAP;AACD,KAFD;AAGD;;AAED,MAAIm1B,MAAM,GAAG,KAAb;;AACA,WAASC,UAAT,GAAsB;AACpB,QAAI,CAACD,MAAL,EAAa;AACX,UAAIjqC,OAAO,CAACmqC,gBAAZ,EAA8B;AAC5B,cAAM,IAAIpsC,KAAJ,CAAUgsC,GAAV,CAAN;AACD,OAFD,MAEO,IAAI/pC,OAAO,CAACoqC,gBAAZ,EAA8B;AACnCpsC,eAAO,CAAC2lB,KAAR,CAAcomB,GAAd;AACD,OAFM,MAEA;AACL/rC,eAAO,CAACa,KAAR,CAAckrC,GAAd;AACD;;AACDE,YAAM,GAAG,IAAT;AACD;;AACD,WAAOvI,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAeF,SAAf,CAAP;AACD;;AAED,SAAOo1B,UAAP;AACD,CA5BD;;AA+BA,IAAIG,MAAM,GAAG,EAAb;AACA,IAAIC,YAAJ;;AACAn9B,OAAO,CAACo9B,QAAR,GAAmB,UAAS5vC,GAAT,EAAc;AAC/B,MAAI6vC,WAAW,CAACF,YAAD,CAAf,EACEA,YAAY,GAAGtqC,OAAO,CAACC,GAAR,CAAYwqC,UAAZ,IAA0B,EAAzC;AACF9vC,KAAG,GAAGA,GAAG,CAAC+vC,WAAJ,EAAN;;AACA,MAAI,CAACL,MAAM,CAAC1vC,GAAD,CAAX,EAAkB;AAChB,QAAI,IAAIkwB,MAAJ,CAAW,QAAQlwB,GAAR,GAAc,KAAzB,EAAgC,GAAhC,EAAqCgT,IAArC,CAA0C28B,YAA1C,CAAJ,EAA6D;AAC3D,UAAIK,GAAG,GAAG3qC,OAAO,CAAC2qC,GAAlB;;AACAN,YAAM,CAAC1vC,GAAD,CAAN,GAAc,YAAW;AACvB,YAAIovC,GAAG,GAAG58B,OAAO,CAAC7B,MAAR,CAAe0J,KAAf,CAAqB7H,OAArB,EAA8B2H,SAA9B,CAAV;AACA9W,eAAO,CAACa,KAAR,CAAc,WAAd,EAA2BlE,GAA3B,EAAgCgwC,GAAhC,EAAqCZ,GAArC;AACD,OAHD;AAID,KAND,MAMO;AACLM,YAAM,CAAC1vC,GAAD,CAAN,GAAc,YAAW,CAAE,CAA3B;AACD;AACF;;AACD,SAAO0vC,MAAM,CAAC1vC,GAAD,CAAb;AACD,CAhBD;AAmBA;;;;;;;;AAOA;;;AACA,SAAS8sC,OAAT,CAAiBtuC,GAAjB,EAAsBwuC,IAAtB,EAA4B;AAC1B;AACA,MAAIiD,GAAG,GAAG;AACRC,QAAI,EAAE,EADE;AAERC,WAAO,EAAEC;AAFD,GAAV,CAF0B,CAM1B;;AACA,MAAIj2B,SAAS,CAAC5Z,MAAV,IAAoB,CAAxB,EAA2B0vC,GAAG,CAACrrB,KAAJ,GAAYzK,SAAS,CAAC,CAAD,CAArB;AAC3B,MAAIA,SAAS,CAAC5Z,MAAV,IAAoB,CAAxB,EAA2B0vC,GAAG,CAACI,MAAJ,GAAal2B,SAAS,CAAC,CAAD,CAAtB;;AAC3B,MAAIm2B,SAAS,CAACtD,IAAD,CAAb,EAAqB;AACnB;AACAiD,OAAG,CAACM,UAAJ,GAAiBvD,IAAjB;AACD,GAHD,MAGO,IAAIA,IAAJ,EAAU;AACf;AACAx6B,WAAO,CAACg+B,OAAR,CAAgBP,GAAhB,EAAqBjD,IAArB;AACD,GAfyB,CAgB1B;;;AACA,MAAI6C,WAAW,CAACI,GAAG,CAACM,UAAL,CAAf,EAAiCN,GAAG,CAACM,UAAJ,GAAiB,KAAjB;AACjC,MAAIV,WAAW,CAACI,GAAG,CAACrrB,KAAL,CAAf,EAA4BqrB,GAAG,CAACrrB,KAAJ,GAAY,CAAZ;AAC5B,MAAIirB,WAAW,CAACI,GAAG,CAACI,MAAL,CAAf,EAA6BJ,GAAG,CAACI,MAAJ,GAAa,KAAb;AAC7B,MAAIR,WAAW,CAACI,GAAG,CAACQ,aAAL,CAAf,EAAoCR,GAAG,CAACQ,aAAJ,GAAoB,IAApB;AACpC,MAAIR,GAAG,CAACI,MAAR,EAAgBJ,GAAG,CAACE,OAAJ,GAAcO,gBAAd;AAChB,SAAOC,WAAW,CAACV,GAAD,EAAMzxC,GAAN,EAAWyxC,GAAG,CAACrrB,KAAf,CAAlB;AACD;;AACDpS,OAAO,CAACs6B,OAAR,GAAkBA,OAAlB,C,CAGA;;AACAA,OAAO,CAACuD,MAAR,GAAiB;AACf,UAAS,CAAC,CAAD,EAAI,EAAJ,CADM;AAEf,YAAW,CAAC,CAAD,EAAI,EAAJ,CAFI;AAGf,eAAc,CAAC,CAAD,EAAI,EAAJ,CAHC;AAIf,aAAY,CAAC,CAAD,EAAI,EAAJ,CAJG;AAKf,WAAU,CAAC,EAAD,EAAK,EAAL,CALK;AAMf,UAAS,CAAC,EAAD,EAAK,EAAL,CANM;AAOf,WAAU,CAAC,EAAD,EAAK,EAAL,CAPK;AAQf,UAAS,CAAC,EAAD,EAAK,EAAL,CARM;AASf,UAAS,CAAC,EAAD,EAAK,EAAL,CATM;AAUf,WAAU,CAAC,EAAD,EAAK,EAAL,CAVK;AAWf,aAAY,CAAC,EAAD,EAAK,EAAL,CAXG;AAYf,SAAQ,CAAC,EAAD,EAAK,EAAL,CAZO;AAaf,YAAW,CAAC,EAAD,EAAK,EAAL;AAbI,CAAjB,C,CAgBA;;AACAvD,OAAO,CAAC8D,MAAR,GAAiB;AACf,aAAW,MADI;AAEf,YAAU,QAFK;AAGf,aAAW,QAHI;AAIf,eAAa,MAJE;AAKf,UAAQ,MALO;AAMf,YAAU,OANK;AAOf,UAAQ,SAPO;AAQf;AACA,YAAU;AATK,CAAjB;;AAaA,SAASF,gBAAT,CAA0BzD,GAA1B,EAA+B4D,SAA/B,EAA0C;AACxC,MAAIzgC,KAAK,GAAG08B,OAAO,CAAC8D,MAAR,CAAeC,SAAf,CAAZ;;AAEA,MAAIzgC,KAAJ,EAAW;AACT,WAAO,UAAY08B,OAAO,CAACuD,MAAR,CAAejgC,KAAf,EAAsB,CAAtB,CAAZ,GAAuC,GAAvC,GAA6C68B,GAA7C,GACA,OADA,GACYH,OAAO,CAACuD,MAAR,CAAejgC,KAAf,EAAsB,CAAtB,CADZ,GACuC,GAD9C;AAED,GAHD,MAGO;AACL,WAAO68B,GAAP;AACD;AACF;;AAGD,SAASmD,cAAT,CAAwBnD,GAAxB,EAA6B4D,SAA7B,EAAwC;AACtC,SAAO5D,GAAP;AACD;;AAGD,SAAS6D,WAAT,CAAqB1wC,KAArB,EAA4B;AAC1B,MAAI2wC,IAAI,GAAG,EAAX;AAEA3wC,OAAK,CAACpB,OAAN,CAAc,UAASquC,GAAT,EAAc2D,GAAd,EAAmB;AAC/BD,QAAI,CAAC1D,GAAD,CAAJ,GAAY,IAAZ;AACD,GAFD;AAIA,SAAO0D,IAAP;AACD;;AAGD,SAASJ,WAAT,CAAqBV,GAArB,EAA0BxsC,KAA1B,EAAiCwtC,YAAjC,EAA+C;AAC7C;AACA;AACA,MAAIhB,GAAG,CAACQ,aAAJ,IACAhtC,KADA,IAEAytC,UAAU,CAACztC,KAAK,CAACqpC,OAAP,CAFV,IAGA;AACArpC,OAAK,CAACqpC,OAAN,KAAkBt6B,OAAO,CAACs6B,OAJ1B,IAKA;AACA,IAAErpC,KAAK,CAAC8E,WAAN,IAAqB9E,KAAK,CAAC8E,WAAN,CAAkB1K,SAAlB,KAAgC4F,KAAvD,CANJ,EAMmE;AACjE,QAAI0tC,GAAG,GAAG1tC,KAAK,CAACqpC,OAAN,CAAcmE,YAAd,EAA4BhB,GAA5B,CAAV;;AACA,QAAI,CAAClB,QAAQ,CAACoC,GAAD,CAAb,EAAoB;AAClBA,SAAG,GAAGR,WAAW,CAACV,GAAD,EAAMkB,GAAN,EAAWF,YAAX,CAAjB;AACD;;AACD,WAAOE,GAAP;AACD,GAf4C,CAiB7C;;;AACA,MAAIC,SAAS,GAAGC,eAAe,CAACpB,GAAD,EAAMxsC,KAAN,CAA/B;;AACA,MAAI2tC,SAAJ,EAAe;AACb,WAAOA,SAAP;AACD,GArB4C,CAuB7C;;;AACA,MAAI3yC,IAAI,GAAGb,MAAM,CAACa,IAAP,CAAYgF,KAAZ,CAAX;AACA,MAAI6tC,WAAW,GAAGR,WAAW,CAACryC,IAAD,CAA7B;;AAEA,MAAIwxC,GAAG,CAACM,UAAR,EAAoB;AAClB9xC,QAAI,GAAGb,MAAM,CAAC2zC,mBAAP,CAA2B9tC,KAA3B,CAAP;AACD,GA7B4C,CA+B7C;AACA;;;AACA,MAAI+tC,OAAO,CAAC/tC,KAAD,CAAP,KACIhF,IAAI,CAACuH,OAAL,CAAa,SAAb,KAA2B,CAA3B,IAAgCvH,IAAI,CAACuH,OAAL,CAAa,aAAb,KAA+B,CADnE,CAAJ,EAC2E;AACzE,WAAOyrC,WAAW,CAAChuC,KAAD,CAAlB;AACD,GApC4C,CAsC7C;;;AACA,MAAIhF,IAAI,CAAC8B,MAAL,KAAgB,CAApB,EAAuB;AACrB,QAAI2wC,UAAU,CAACztC,KAAD,CAAd,EAAuB;AACrB,UAAI1D,IAAI,GAAG0D,KAAK,CAAC1D,IAAN,GAAa,OAAO0D,KAAK,CAAC1D,IAA1B,GAAiC,EAA5C;AACA,aAAOkwC,GAAG,CAACE,OAAJ,CAAY,cAAcpwC,IAAd,GAAqB,GAAjC,EAAsC,SAAtC,CAAP;AACD;;AACD,QAAI2xC,QAAQ,CAACjuC,KAAD,CAAZ,EAAqB;AACnB,aAAOwsC,GAAG,CAACE,OAAJ,CAAYjgB,MAAM,CAACryB,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BrD,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD;;AACD,QAAIkuC,MAAM,CAACluC,KAAD,CAAV,EAAmB;AACjB,aAAOwsC,GAAG,CAACE,OAAJ,CAAYtzB,IAAI,CAAChf,SAAL,CAAeS,QAAf,CAAwBwI,IAAxB,CAA6BrD,KAA7B,CAAZ,EAAiD,MAAjD,CAAP;AACD;;AACD,QAAI+tC,OAAO,CAAC/tC,KAAD,CAAX,EAAoB;AAClB,aAAOguC,WAAW,CAAChuC,KAAD,CAAlB;AACD;AACF;;AAED,MAAImuC,IAAI,GAAG,EAAX;AAAA,MAAexxC,KAAK,GAAG,KAAvB;AAAA,MAA8ByxC,MAAM,GAAG,CAAC,GAAD,EAAM,GAAN,CAAvC,CAvD6C,CAyD7C;;AACA,MAAIvqC,OAAO,CAAC7D,KAAD,CAAX,EAAoB;AAClBrD,SAAK,GAAG,IAAR;AACAyxC,UAAM,GAAG,CAAC,GAAD,EAAM,GAAN,CAAT;AACD,GA7D4C,CA+D7C;;;AACA,MAAIX,UAAU,CAACztC,KAAD,CAAd,EAAuB;AACrB,QAAIspC,CAAC,GAAGtpC,KAAK,CAAC1D,IAAN,GAAa,OAAO0D,KAAK,CAAC1D,IAA1B,GAAiC,EAAzC;AACA6xC,QAAI,GAAG,eAAe7E,CAAf,GAAmB,GAA1B;AACD,GAnE4C,CAqE7C;;;AACA,MAAI2E,QAAQ,CAACjuC,KAAD,CAAZ,EAAqB;AACnBmuC,QAAI,GAAG,MAAM1hB,MAAM,CAACryB,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BrD,KAA/B,CAAb;AACD,GAxE4C,CA0E7C;;;AACA,MAAIkuC,MAAM,CAACluC,KAAD,CAAV,EAAmB;AACjBmuC,QAAI,GAAG,MAAM/0B,IAAI,CAAChf,SAAL,CAAei0C,WAAf,CAA2BhrC,IAA3B,CAAgCrD,KAAhC,CAAb;AACD,GA7E4C,CA+E7C;;;AACA,MAAI+tC,OAAO,CAAC/tC,KAAD,CAAX,EAAoB;AAClBmuC,QAAI,GAAG,MAAMH,WAAW,CAAChuC,KAAD,CAAxB;AACD;;AAED,MAAIhF,IAAI,CAAC8B,MAAL,KAAgB,CAAhB,KAAsB,CAACH,KAAD,IAAUqD,KAAK,CAAClD,MAAN,IAAgB,CAAhD,CAAJ,EAAwD;AACtD,WAAOsxC,MAAM,CAAC,CAAD,CAAN,GAAYD,IAAZ,GAAmBC,MAAM,CAAC,CAAD,CAAhC;AACD;;AAED,MAAIZ,YAAY,GAAG,CAAnB,EAAsB;AACpB,QAAIS,QAAQ,CAACjuC,KAAD,CAAZ,EAAqB;AACnB,aAAOwsC,GAAG,CAACE,OAAJ,CAAYjgB,MAAM,CAACryB,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BrD,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD,KAFD,MAEO;AACL,aAAOwsC,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAP;AACD;AACF;;AAEDF,KAAG,CAACC,IAAJ,CAAS9uC,IAAT,CAAcqC,KAAd;AAEA,MAAIsuC,MAAJ;;AACA,MAAI3xC,KAAJ,EAAW;AACT2xC,UAAM,GAAGC,WAAW,CAAC/B,GAAD,EAAMxsC,KAAN,EAAawtC,YAAb,EAA2BK,WAA3B,EAAwC7yC,IAAxC,CAApB;AACD,GAFD,MAEO;AACLszC,UAAM,GAAGtzC,IAAI,CAAC+Y,GAAL,CAAS,UAASvY,GAAT,EAAc;AAC9B,aAAOgzC,cAAc,CAAChC,GAAD,EAAMxsC,KAAN,EAAawtC,YAAb,EAA2BK,WAA3B,EAAwCryC,GAAxC,EAA6CmB,KAA7C,CAArB;AACD,KAFQ,CAAT;AAGD;;AAED6vC,KAAG,CAACC,IAAJ,CAAS/pC,GAAT;AAEA,SAAO+rC,oBAAoB,CAACH,MAAD,EAASH,IAAT,EAAeC,MAAf,CAA3B;AACD;;AAGD,SAASR,eAAT,CAAyBpB,GAAzB,EAA8BxsC,KAA9B,EAAqC;AACnC,MAAIosC,WAAW,CAACpsC,KAAD,CAAf,EACE,OAAOwsC,GAAG,CAACE,OAAJ,CAAY,WAAZ,EAAyB,WAAzB,CAAP;;AACF,MAAIpB,QAAQ,CAACtrC,KAAD,CAAZ,EAAqB;AACnB,QAAI0uC,MAAM,GAAG,OAAOnuC,IAAI,CAACM,SAAL,CAAeb,KAAf,EAAsBqN,OAAtB,CAA8B,QAA9B,EAAwC,EAAxC,EACsBA,OADtB,CAC8B,IAD9B,EACoC,KADpC,EAEsBA,OAFtB,CAE8B,MAF9B,EAEsC,GAFtC,CAAP,GAEoD,IAFjE;AAGA,WAAOm/B,GAAG,CAACE,OAAJ,CAAYgC,MAAZ,EAAoB,QAApB,CAAP;AACD;;AACD,MAAIC,QAAQ,CAAC3uC,KAAD,CAAZ,EACE,OAAOwsC,GAAG,CAACE,OAAJ,CAAY,KAAK1sC,KAAjB,EAAwB,QAAxB,CAAP;AACF,MAAI6sC,SAAS,CAAC7sC,KAAD,CAAb,EACE,OAAOwsC,GAAG,CAACE,OAAJ,CAAY,KAAK1sC,KAAjB,EAAwB,SAAxB,CAAP,CAZiC,CAanC;;AACA,MAAIyrC,MAAM,CAACzrC,KAAD,CAAV,EACE,OAAOwsC,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,MAApB,CAAP;AACH;;AAGD,SAASsB,WAAT,CAAqBhuC,KAArB,EAA4B;AAC1B,SAAO,MAAML,KAAK,CAACvF,SAAN,CAAgBS,QAAhB,CAAyBwI,IAAzB,CAA8BrD,KAA9B,CAAN,GAA6C,GAApD;AACD;;AAGD,SAASuuC,WAAT,CAAqB/B,GAArB,EAA0BxsC,KAA1B,EAAiCwtC,YAAjC,EAA+CK,WAA/C,EAA4D7yC,IAA5D,EAAkE;AAChE,MAAIszC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIzxC,CAAC,GAAG,CAAR,EAAWotC,CAAC,GAAGjqC,KAAK,CAAClD,MAA1B,EAAkCD,CAAC,GAAGotC,CAAtC,EAAyC,EAAEptC,CAA3C,EAA8C;AAC5C,QAAI3C,cAAc,CAAC8F,KAAD,EAAQhD,MAAM,CAACH,CAAD,CAAd,CAAlB,EAAsC;AACpCyxC,YAAM,CAAC3wC,IAAP,CAAY6wC,cAAc,CAAChC,GAAD,EAAMxsC,KAAN,EAAawtC,YAAb,EAA2BK,WAA3B,EACtB7wC,MAAM,CAACH,CAAD,CADgB,EACX,IADW,CAA1B;AAED,KAHD,MAGO;AACLyxC,YAAM,CAAC3wC,IAAP,CAAY,EAAZ;AACD;AACF;;AACD3C,MAAI,CAACO,OAAL,CAAa,UAASC,GAAT,EAAc;AACzB,QAAI,CAACA,GAAG,CAACiH,KAAJ,CAAU,OAAV,CAAL,EAAyB;AACvB6rC,YAAM,CAAC3wC,IAAP,CAAY6wC,cAAc,CAAChC,GAAD,EAAMxsC,KAAN,EAAawtC,YAAb,EAA2BK,WAA3B,EACtBryC,GADsB,EACjB,IADiB,CAA1B;AAED;AACF,GALD;AAMA,SAAO8yC,MAAP;AACD;;AAGD,SAASE,cAAT,CAAwBhC,GAAxB,EAA6BxsC,KAA7B,EAAoCwtC,YAApC,EAAkDK,WAAlD,EAA+DryC,GAA/D,EAAoEmB,KAApE,EAA2E;AACzE,MAAIL,IAAJ,EAAUktC,GAAV,EAAeoF,IAAf;AACAA,MAAI,GAAGz0C,MAAM,CAACgxC,wBAAP,CAAgCnrC,KAAhC,EAAuCxE,GAAvC,KAA+C;AAAEwE,SAAK,EAAEA,KAAK,CAACxE,GAAD;AAAd,GAAtD;;AACA,MAAIozC,IAAI,CAACvyC,GAAT,EAAc;AACZ,QAAIuyC,IAAI,CAACryC,GAAT,EAAc;AACZitC,SAAG,GAAGgD,GAAG,CAACE,OAAJ,CAAY,iBAAZ,EAA+B,SAA/B,CAAN;AACD,KAFD,MAEO;AACLlD,SAAG,GAAGgD,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF,GAND,MAMO;AACL,QAAIkC,IAAI,CAACryC,GAAT,EAAc;AACZitC,SAAG,GAAGgD,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF;;AACD,MAAI,CAACxyC,cAAc,CAAC2zC,WAAD,EAAcryC,GAAd,CAAnB,EAAuC;AACrCc,QAAI,GAAG,MAAMd,GAAN,GAAY,GAAnB;AACD;;AACD,MAAI,CAACguC,GAAL,EAAU;AACR,QAAIgD,GAAG,CAACC,IAAJ,CAASlqC,OAAT,CAAiBqsC,IAAI,CAAC5uC,KAAtB,IAA+B,CAAnC,EAAsC;AACpC,UAAIyrC,MAAM,CAAC+B,YAAD,CAAV,EAA0B;AACxBhE,WAAG,GAAG0D,WAAW,CAACV,GAAD,EAAMoC,IAAI,CAAC5uC,KAAX,EAAkB,IAAlB,CAAjB;AACD,OAFD,MAEO;AACLwpC,WAAG,GAAG0D,WAAW,CAACV,GAAD,EAAMoC,IAAI,CAAC5uC,KAAX,EAAkBwtC,YAAY,GAAG,CAAjC,CAAjB;AACD;;AACD,UAAIhE,GAAG,CAACjnC,OAAJ,CAAY,IAAZ,IAAoB,CAAC,CAAzB,EAA4B;AAC1B,YAAI5F,KAAJ,EAAW;AACT6sC,aAAG,GAAGA,GAAG,CAACzd,KAAJ,CAAU,IAAV,EAAgBhY,GAAhB,CAAoB,UAAS86B,IAAT,EAAe;AACvC,mBAAO,OAAOA,IAAd;AACD,WAFK,EAEHvvC,IAFG,CAEE,IAFF,EAEQwvC,MAFR,CAEe,CAFf,CAAN;AAGD,SAJD,MAIO;AACLtF,aAAG,GAAG,OAAOA,GAAG,CAACzd,KAAJ,CAAU,IAAV,EAAgBhY,GAAhB,CAAoB,UAAS86B,IAAT,EAAe;AAC9C,mBAAO,QAAQA,IAAf;AACD,WAFY,EAEVvvC,IAFU,CAEL,IAFK,CAAb;AAGD;AACF;AACF,KAjBD,MAiBO;AACLkqC,SAAG,GAAGgD,GAAG,CAACE,OAAJ,CAAY,YAAZ,EAA0B,SAA1B,CAAN;AACD;AACF;;AACD,MAAIN,WAAW,CAAC9vC,IAAD,CAAf,EAAuB;AACrB,QAAIK,KAAK,IAAInB,GAAG,CAACiH,KAAJ,CAAU,OAAV,CAAb,EAAiC;AAC/B,aAAO+mC,GAAP;AACD;;AACDltC,QAAI,GAAGiE,IAAI,CAACM,SAAL,CAAe,KAAKrF,GAApB,CAAP;;AACA,QAAIc,IAAI,CAACmG,KAAL,CAAW,8BAAX,CAAJ,EAAgD;AAC9CnG,UAAI,GAAGA,IAAI,CAACwyC,MAAL,CAAY,CAAZ,EAAexyC,IAAI,CAACQ,MAAL,GAAc,CAA7B,CAAP;AACAR,UAAI,GAAGkwC,GAAG,CAACE,OAAJ,CAAYpwC,IAAZ,EAAkB,MAAlB,CAAP;AACD,KAHD,MAGO;AACLA,UAAI,GAAGA,IAAI,CAAC+Q,OAAL,CAAa,IAAb,EAAmB,KAAnB,EACKA,OADL,CACa,MADb,EACqB,GADrB,EAEKA,OAFL,CAEa,UAFb,EAEyB,GAFzB,CAAP;AAGA/Q,UAAI,GAAGkwC,GAAG,CAACE,OAAJ,CAAYpwC,IAAZ,EAAkB,QAAlB,CAAP;AACD;AACF;;AAED,SAAOA,IAAI,GAAG,IAAP,GAAcktC,GAArB;AACD;;AAGD,SAASiF,oBAAT,CAA8BH,MAA9B,EAAsCH,IAAtC,EAA4CC,MAA5C,EAAoD;AAClD,MAAIW,WAAW,GAAG,CAAlB;AACA,MAAIjyC,MAAM,GAAGwxC,MAAM,CAACprC,MAAP,CAAc,UAASN,IAAT,EAAeosC,GAAf,EAAoB;AAC7CD,eAAW;AACX,QAAIC,GAAG,CAACzsC,OAAJ,CAAY,IAAZ,KAAqB,CAAzB,EAA4BwsC,WAAW;AACvC,WAAOnsC,IAAI,GAAGosC,GAAG,CAAC3hC,OAAJ,CAAY,iBAAZ,EAA+B,EAA/B,EAAmCvQ,MAA1C,GAAmD,CAA1D;AACD,GAJY,EAIV,CAJU,CAAb;;AAMA,MAAIA,MAAM,GAAG,EAAb,EAAiB;AACf,WAAOsxC,MAAM,CAAC,CAAD,CAAN,IACCD,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmBA,IAAI,GAAG,KAD3B,IAEA,GAFA,GAGAG,MAAM,CAAChvC,IAAP,CAAY,OAAZ,CAHA,GAIA,GAJA,GAKA8uC,MAAM,CAAC,CAAD,CALb;AAMD;;AAED,SAAOA,MAAM,CAAC,CAAD,CAAN,GAAYD,IAAZ,GAAmB,GAAnB,GAAyBG,MAAM,CAAChvC,IAAP,CAAY,IAAZ,CAAzB,GAA6C,GAA7C,GAAmD8uC,MAAM,CAAC,CAAD,CAAhE;AACD,C,CAGD;AACA;;;AACA,SAASvqC,OAAT,CAAiBorC,EAAjB,EAAqB;AACnB,SAAOzrC,KAAK,CAACK,OAAN,CAAcorC,EAAd,CAAP;AACD;;AACDlgC,OAAO,CAAClL,OAAR,GAAkBA,OAAlB;;AAEA,SAASgpC,SAAT,CAAmBp/B,GAAnB,EAAwB;AACtB,SAAO,OAAOA,GAAP,KAAe,SAAtB;AACD;;AACDsB,OAAO,CAAC89B,SAAR,GAAoBA,SAApB;;AAEA,SAASpB,MAAT,CAAgBh+B,GAAhB,EAAqB;AACnB,SAAOA,GAAG,KAAK,IAAf;AACD;;AACDsB,OAAO,CAAC08B,MAAR,GAAiBA,MAAjB;;AAEA,SAASyD,iBAAT,CAA2BzhC,GAA3B,EAAgC;AAC9B,SAAOA,GAAG,IAAI,IAAd;AACD;;AACDsB,OAAO,CAACmgC,iBAAR,GAA4BA,iBAA5B;;AAEA,SAASP,QAAT,CAAkBlhC,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDsB,OAAO,CAAC4/B,QAAR,GAAmBA,QAAnB;;AAEA,SAASrD,QAAT,CAAkB79B,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDsB,OAAO,CAACu8B,QAAR,GAAmBA,QAAnB;;AAEA,SAAShwB,QAAT,CAAkB7N,GAAlB,EAAuB;AACrB,SAAO,QAAOA,GAAP,MAAe,QAAtB;AACD;;AACDsB,OAAO,CAACuM,QAAR,GAAmBA,QAAnB;;AAEA,SAAS8wB,WAAT,CAAqB3+B,GAArB,EAA0B;AACxB,SAAOA,GAAG,KAAK,KAAK,CAApB;AACD;;AACDsB,OAAO,CAACq9B,WAAR,GAAsBA,WAAtB;;AAEA,SAAS6B,QAAT,CAAkBkB,EAAlB,EAAsB;AACpB,SAAO90B,QAAQ,CAAC80B,EAAD,CAAR,IAAgBr2B,cAAc,CAACq2B,EAAD,CAAd,KAAuB,iBAA9C;AACD;;AACDpgC,OAAO,CAACk/B,QAAR,GAAmBA,QAAnB;;AAEA,SAAS5zB,QAAT,CAAkB5M,GAAlB,EAAuB;AACrB,SAAO,QAAOA,GAAP,MAAe,QAAf,IAA2BA,GAAG,KAAK,IAA1C;AACD;;AACDsB,OAAO,CAACsL,QAAR,GAAmBA,QAAnB;;AAEA,SAAS6zB,MAAT,CAAgBkB,CAAhB,EAAmB;AACjB,SAAO/0B,QAAQ,CAAC+0B,CAAD,CAAR,IAAet2B,cAAc,CAACs2B,CAAD,CAAd,KAAsB,eAA5C;AACD;;AACDrgC,OAAO,CAACm/B,MAAR,GAAiBA,MAAjB;;AAEA,SAASH,OAAT,CAAiBr4B,CAAjB,EAAoB;AAClB,SAAO2E,QAAQ,CAAC3E,CAAD,CAAR,KACFoD,cAAc,CAACpD,CAAD,CAAd,KAAsB,gBAAtB,IAA0CA,CAAC,YAAY/V,KADrD,CAAP;AAED;;AACDoP,OAAO,CAACg/B,OAAR,GAAkBA,OAAlB;;AAEA,SAASN,UAAT,CAAoBhgC,GAApB,EAAyB;AACvB,SAAO,OAAOA,GAAP,KAAe,UAAtB;AACD;;AACDsB,OAAO,CAAC0+B,UAAR,GAAqBA,UAArB;;AAEA,SAAS4B,WAAT,CAAqB5hC,GAArB,EAA0B;AACxB,SAAOA,GAAG,KAAK,IAAR,IACA,OAAOA,GAAP,KAAe,SADf,IAEA,OAAOA,GAAP,KAAe,QAFf,IAGA,OAAOA,GAAP,KAAe,QAHf,IAIA,QAAOA,GAAP,MAAe,QAJf,IAI4B;AAC5B,SAAOA,GAAP,KAAe,WALtB;AAMD;;AACDsB,OAAO,CAACsgC,WAAR,GAAsBA,WAAtB;AAEAtgC,OAAO,CAACugC,QAAR,GAAmBtgC,mBAAO,CAAC,EAAD,CAA1B;;AAEA,SAAS8J,cAAT,CAAwBy2B,CAAxB,EAA2B;AACzB,SAAOp1C,MAAM,CAACC,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BksC,CAA/B,CAAP;AACD;;AAGD,SAASC,GAAT,CAAalG,CAAb,EAAgB;AACd,SAAOA,CAAC,GAAG,EAAJ,GAAS,MAAMA,CAAC,CAACzuC,QAAF,CAAW,EAAX,CAAf,GAAgCyuC,CAAC,CAACzuC,QAAF,CAAW,EAAX,CAAvC;AACD;;AAGD,IAAI40C,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EACC,KADD,EACQ,KADR,EACe,KADf,CAAb,C,CAGA;;AACA,SAASluB,SAAT,GAAqB;AACnB,MAAI6tB,CAAC,GAAG,IAAIh2B,IAAJ,EAAR;AACA,MAAImB,IAAI,GAAG,CAACi1B,GAAG,CAACJ,CAAC,CAACM,QAAF,EAAD,CAAJ,EACCF,GAAG,CAACJ,CAAC,CAACO,UAAF,EAAD,CADJ,EAECH,GAAG,CAACJ,CAAC,CAACQ,UAAF,EAAD,CAFJ,EAEsBtwC,IAFtB,CAE2B,GAF3B,CAAX;AAGA,SAAO,CAAC8vC,CAAC,CAACS,OAAF,EAAD,EAAcJ,MAAM,CAACL,CAAC,CAACU,QAAF,EAAD,CAApB,EAAoCv1B,IAApC,EAA0Cjb,IAA1C,CAA+C,GAA/C,CAAP;AACD,C,CAGD;;;AACAyP,OAAO,CAAClP,GAAR,GAAc,YAAW;AACvBD,SAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB0hB,SAAS,EAAhC,EAAoCxS,OAAO,CAAC7B,MAAR,CAAe0J,KAAf,CAAqB7H,OAArB,EAA8B2H,SAA9B,CAApC;AACD,CAFD;AAKA;;;;;;;;;;;;;;;AAaA3H,OAAO,CAACghC,QAAR,GAAmB/gC,mBAAO,CAAC,EAAD,CAA1B;;AAEAD,OAAO,CAACg+B,OAAR,GAAkB,UAASiD,MAAT,EAAiBt0C,GAAjB,EAAsB;AACtC;AACA,MAAI,CAACA,GAAD,IAAQ,CAAC2e,QAAQ,CAAC3e,GAAD,CAArB,EAA4B,OAAOs0C,MAAP;AAE5B,MAAIh1C,IAAI,GAAGb,MAAM,CAACa,IAAP,CAAYU,GAAZ,CAAX;AACA,MAAImB,CAAC,GAAG7B,IAAI,CAAC8B,MAAb;;AACA,SAAOD,CAAC,EAAR,EAAY;AACVmzC,UAAM,CAACh1C,IAAI,CAAC6B,CAAD,CAAL,CAAN,GAAkBnB,GAAG,CAACV,IAAI,CAAC6B,CAAD,CAAL,CAArB;AACD;;AACD,SAAOmzC,MAAP;AACD,CAVD;;AAYA,SAAS91C,cAAT,CAAwBa,GAAxB,EAA6Bk1C,IAA7B,EAAmC;AACjC,SAAO91C,MAAM,CAACC,SAAP,CAAiBF,cAAjB,CAAgCmJ,IAAhC,CAAqCtI,GAArC,EAA0Ck1C,IAA1C,CAAP;AACD;;AAED,IAAIC,wBAAwB,GAAG,OAAO5sC,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAAC,uBAAD,CAAtC,GAAkE/F,SAAjG;;AAEAwR,OAAO,CAACohC,SAAR,GAAoB,SAASA,SAAT,CAAmBC,QAAnB,EAA6B;AAC/C,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAIj2B,SAAJ,CAAc,kDAAd,CAAN;;AAEF,MAAI+1B,wBAAwB,IAAIE,QAAQ,CAACF,wBAAD,CAAxC,EAAoE;AAClE,QAAI5M,EAAE,GAAG8M,QAAQ,CAACF,wBAAD,CAAjB;;AACA,QAAI,OAAO5M,EAAP,KAAc,UAAlB,EAA8B;AAC5B,YAAM,IAAInpB,SAAJ,CAAc,+DAAd,CAAN;AACD;;AACDhgB,UAAM,CAAC4kB,cAAP,CAAsBukB,EAAtB,EAA0B4M,wBAA1B,EAAoD;AAClDlwC,WAAK,EAAEsjC,EAD2C;AACvC7nC,gBAAU,EAAE,KAD2B;AACpBonC,cAAQ,EAAE,KADU;AACH3tB,kBAAY,EAAE;AADX,KAApD;AAGA,WAAOouB,EAAP;AACD;;AAED,WAASA,EAAT,GAAc;AACZ,QAAI+M,cAAJ,EAAoBC,aAApB;AACA,QAAIC,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACnDL,oBAAc,GAAGI,OAAjB;AACAH,mBAAa,GAAGI,MAAhB;AACD,KAHa,CAAd;AAKA,QAAItjC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIvQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Z,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCuQ,UAAI,CAACzP,IAAL,CAAU+Y,SAAS,CAAC7Z,CAAD,CAAnB;AACD;;AACDuQ,QAAI,CAACzP,IAAL,CAAU,UAAU27B,GAAV,EAAet5B,KAAf,EAAsB;AAC9B,UAAIs5B,GAAJ,EAAS;AACPgX,qBAAa,CAAChX,GAAD,CAAb;AACD,OAFD,MAEO;AACL+W,sBAAc,CAACrwC,KAAD,CAAd;AACD;AACF,KAND;;AAQA,QAAI;AACFowC,cAAQ,CAACx5B,KAAT,CAAe,IAAf,EAAqBxJ,IAArB;AACD,KAFD,CAEE,OAAOksB,GAAP,EAAY;AACZgX,mBAAa,CAAChX,GAAD,CAAb;AACD;;AAED,WAAOiX,OAAP;AACD;;AAEDp2C,QAAM,CAACw2C,cAAP,CAAsBrN,EAAtB,EAA0BnpC,MAAM,CAACwB,cAAP,CAAsBy0C,QAAtB,CAA1B;AAEA,MAAIF,wBAAJ,EAA8B/1C,MAAM,CAAC4kB,cAAP,CAAsBukB,EAAtB,EAA0B4M,wBAA1B,EAAoD;AAChFlwC,SAAK,EAAEsjC,EADyE;AACrE7nC,cAAU,EAAE,KADyD;AAClDonC,YAAQ,EAAE,KADwC;AACjC3tB,gBAAY,EAAE;AADmB,GAApD;AAG9B,SAAO/a,MAAM,CAAC8a,gBAAP,CACLquB,EADK,EAELhoC,yBAAyB,CAAC80C,QAAD,CAFpB,CAAP;AAID,CApDD;;AAsDArhC,OAAO,CAACohC,SAAR,CAAkBS,MAAlB,GAA2BV,wBAA3B;;AAEA,SAASW,qBAAT,CAA+BC,MAA/B,EAAuCC,EAAvC,EAA2C;AACzC;AACA;AACA;AACA;AACA,MAAI,CAACD,MAAL,EAAa;AACX,QAAIE,SAAS,GAAG,IAAIrxC,KAAJ,CAAU,yCAAV,CAAhB;AACAqxC,aAAS,CAACF,MAAV,GAAmBA,MAAnB;AACAA,UAAM,GAAGE,SAAT;AACD;;AACD,SAAOD,EAAE,CAACD,MAAD,CAAT;AACD;;AAED,SAASG,WAAT,CAAqBb,QAArB,EAA+B;AAC7B,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAM,IAAIj2B,SAAJ,CAAc,kDAAd,CAAN;AACD,GAH4B,CAK7B;AACA;AACA;;;AACA,WAAS+2B,aAAT,GAAyB;AACvB,QAAI9jC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIvQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6Z,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCuQ,UAAI,CAACzP,IAAL,CAAU+Y,SAAS,CAAC7Z,CAAD,CAAnB;AACD;;AAED,QAAIs0C,OAAO,GAAG/jC,IAAI,CAAC1K,GAAL,EAAd;;AACA,QAAI,OAAOyuC,OAAP,KAAmB,UAAvB,EAAmC;AACjC,YAAM,IAAIh3B,SAAJ,CAAc,4CAAd,CAAN;AACD;;AACD,QAAIxB,IAAI,GAAG,IAAX;;AACA,QAAIo4B,EAAE,GAAG,SAALA,EAAK,GAAW;AAClB,aAAOI,OAAO,CAACv6B,KAAR,CAAc+B,IAAd,EAAoBjC,SAApB,CAAP;AACD,KAFD,CAXuB,CAcvB;AACA;;;AACA05B,YAAQ,CAACx5B,KAAT,CAAe,IAAf,EAAqBxJ,IAArB,EACG0W,IADH,CACQ,UAAS4pB,GAAT,EAAc;AAAE9rC,aAAO,CAAC6U,QAAR,CAAiBs6B,EAAjB,EAAqB,IAArB,EAA2BrD,GAA3B;AAAiC,KADzD,EAEQ,UAAS0D,GAAT,EAAc;AAAExvC,aAAO,CAAC6U,QAAR,CAAiBo6B,qBAAjB,EAAwCO,GAAxC,EAA6CL,EAA7C;AAAkD,KAF1E;AAGD;;AAED52C,QAAM,CAACw2C,cAAP,CAAsBO,aAAtB,EAAqC/2C,MAAM,CAACwB,cAAP,CAAsBy0C,QAAtB,CAArC;AACAj2C,QAAM,CAAC8a,gBAAP,CAAwBi8B,aAAxB,EACwB51C,yBAAyB,CAAC80C,QAAD,CADjD;AAEA,SAAOc,aAAP;AACD;;AACDniC,OAAO,CAACkiC,WAAR,GAAsBA,WAAtB,C;;;;;;;;;AC9rBAniC,MAAM,CAACC,OAAP,GAAiB,SAASugC,QAAT,CAAkB7hC,GAAlB,EAAuB;AACtC,SAAOA,GAAG,IAAI,QAAOA,GAAP,MAAe,QAAtB,IACF,OAAOA,GAAG,CAAC4jC,IAAX,KAAoB,UADlB,IAEF,OAAO5jC,GAAG,CAAC6jC,IAAX,KAAoB,UAFlB,IAGF,OAAO7jC,GAAG,CAAC8jC,SAAX,KAAyB,UAH9B;AAID,CALD,C;;;;;;ACAA,IAAI,OAAOp3C,MAAM,CAAC8wC,MAAd,KAAyB,UAA7B,EAAyC;AACvC;AACAn8B,QAAM,CAACC,OAAP,GAAiB,SAASghC,QAAT,CAAkB1L,IAAlB,EAAwBmN,SAAxB,EAAmC;AAClDnN,QAAI,CAACoN,MAAL,GAAcD,SAAd;AACAnN,QAAI,CAACjqC,SAAL,GAAiBD,MAAM,CAAC8wC,MAAP,CAAcuG,SAAS,CAACp3C,SAAxB,EAAmC;AAClD0K,iBAAW,EAAE;AACX9E,aAAK,EAAEqkC,IADI;AAEX5oC,kBAAU,EAAE,KAFD;AAGXonC,gBAAQ,EAAE,IAHC;AAIX3tB,oBAAY,EAAE;AAJH;AADqC,KAAnC,CAAjB;AAQD,GAVD;AAWD,CAbD,MAaO;AACL;AACApG,QAAM,CAACC,OAAP,GAAiB,SAASghC,QAAT,CAAkB1L,IAAlB,EAAwBmN,SAAxB,EAAmC;AAClDnN,QAAI,CAACoN,MAAL,GAAcD,SAAd;;AACA,QAAIE,QAAQ,GAAG,SAAXA,QAAW,GAAY,CAAE,CAA7B;;AACAA,YAAQ,CAACt3C,SAAT,GAAqBo3C,SAAS,CAACp3C,SAA/B;AACAiqC,QAAI,CAACjqC,SAAL,GAAiB,IAAIs3C,QAAJ,EAAjB;AACArN,QAAI,CAACjqC,SAAL,CAAe0K,WAAf,GAA6Bu/B,IAA7B;AACD,GAND;AAOD,C;;;;;;ACtBDv1B,MAAM,CAACC,OAAP,GAAiBg4B,OAAjB;AAEAA,OAAO,CAAC4K,IAAR,GAAeA,IAAf;AACA5K,OAAO,CAACkE,MAAR,GAAiBlE,OAAjB;;AAEA,SAASA,OAAT,CAAkB6K,IAAlB,EAAwB;AACtB,MAAIj5B,IAAI,GAAG,IAAX;;AACA,MAAI,EAAEA,IAAI,YAAYouB,OAAlB,CAAJ,EAAgC;AAC9BpuB,QAAI,GAAG,IAAIouB,OAAJ,EAAP;AACD;;AAEDpuB,MAAI,CAACgwB,IAAL,GAAY,IAAZ;AACAhwB,MAAI,CAACowB,IAAL,GAAY,IAAZ;AACApwB,MAAI,CAAC7b,MAAL,GAAc,CAAd;;AAEA,MAAI80C,IAAI,IAAI,OAAOA,IAAI,CAACr2C,OAAZ,KAAwB,UAApC,EAAgD;AAC9Cq2C,QAAI,CAACr2C,OAAL,CAAa,UAAUyY,IAAV,EAAgB;AAC3B2E,UAAI,CAAChb,IAAL,CAAUqW,IAAV;AACD,KAFD;AAGD,GAJD,MAIO,IAAI0C,SAAS,CAAC5Z,MAAV,GAAmB,CAAvB,EAA0B;AAC/B,SAAK,IAAID,CAAC,GAAG,CAAR,EAAWotC,CAAC,GAAGvzB,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,GAAGotC,CAA1C,EAA6CptC,CAAC,EAA9C,EAAkD;AAChD8b,UAAI,CAAChb,IAAL,CAAU+Y,SAAS,CAAC7Z,CAAD,CAAnB;AACD;AACF;;AAED,SAAO8b,IAAP;AACD;;AAEDouB,OAAO,CAAC3sC,SAAR,CAAkBmwC,UAAlB,GAA+B,UAAU11B,IAAV,EAAgB;AAC7C,MAAIA,IAAI,CAAC+8B,IAAL,KAAc,IAAlB,EAAwB;AACtB,UAAM,IAAIjyC,KAAJ,CAAU,kDAAV,CAAN;AACD;;AAED,MAAIkD,IAAI,GAAGgS,IAAI,CAAChS,IAAhB;AACA,MAAID,IAAI,GAAGiS,IAAI,CAACjS,IAAhB;;AAEA,MAAIC,IAAJ,EAAU;AACRA,QAAI,CAACD,IAAL,GAAYA,IAAZ;AACD;;AAED,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAACC,IAAL,GAAYA,IAAZ;AACD;;AAED,MAAIgS,IAAI,KAAK,KAAKk0B,IAAlB,EAAwB;AACtB,SAAKA,IAAL,GAAYlmC,IAAZ;AACD;;AACD,MAAIgS,IAAI,KAAK,KAAK8zB,IAAlB,EAAwB;AACtB,SAAKA,IAAL,GAAY/lC,IAAZ;AACD;;AAEDiS,MAAI,CAAC+8B,IAAL,CAAU90C,MAAV;AACA+X,MAAI,CAAChS,IAAL,GAAY,IAAZ;AACAgS,MAAI,CAACjS,IAAL,GAAY,IAAZ;AACAiS,MAAI,CAAC+8B,IAAL,GAAY,IAAZ;AACD,CA3BD;;AA6BA7K,OAAO,CAAC3sC,SAAR,CAAkBiwC,WAAlB,GAAgC,UAAUx1B,IAAV,EAAgB;AAC9C,MAAIA,IAAI,KAAK,KAAKk0B,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAIl0B,IAAI,CAAC+8B,IAAT,EAAe;AACb/8B,QAAI,CAAC+8B,IAAL,CAAUrH,UAAV,CAAqB11B,IAArB;AACD;;AAED,MAAIk0B,IAAI,GAAG,KAAKA,IAAhB;AACAl0B,MAAI,CAAC+8B,IAAL,GAAY,IAAZ;AACA/8B,MAAI,CAAChS,IAAL,GAAYkmC,IAAZ;;AACA,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAACnmC,IAAL,GAAYiS,IAAZ;AACD;;AAED,OAAKk0B,IAAL,GAAYl0B,IAAZ;;AACA,MAAI,CAAC,KAAK8zB,IAAV,EAAgB;AACd,SAAKA,IAAL,GAAY9zB,IAAZ;AACD;;AACD,OAAK/X,MAAL;AACD,CArBD;;AAuBAiqC,OAAO,CAAC3sC,SAAR,CAAkBy3C,QAAlB,GAA6B,UAAUh9B,IAAV,EAAgB;AAC3C,MAAIA,IAAI,KAAK,KAAK8zB,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAI9zB,IAAI,CAAC+8B,IAAT,EAAe;AACb/8B,QAAI,CAAC+8B,IAAL,CAAUrH,UAAV,CAAqB11B,IAArB;AACD;;AAED,MAAI8zB,IAAI,GAAG,KAAKA,IAAhB;AACA9zB,MAAI,CAAC+8B,IAAL,GAAY,IAAZ;AACA/8B,MAAI,CAACjS,IAAL,GAAY+lC,IAAZ;;AACA,MAAIA,IAAJ,EAAU;AACRA,QAAI,CAAC9lC,IAAL,GAAYgS,IAAZ;AACD;;AAED,OAAK8zB,IAAL,GAAY9zB,IAAZ;;AACA,MAAI,CAAC,KAAKk0B,IAAV,EAAgB;AACd,SAAKA,IAAL,GAAYl0B,IAAZ;AACD;;AACD,OAAK/X,MAAL;AACD,CArBD;;AAuBAiqC,OAAO,CAAC3sC,SAAR,CAAkBuD,IAAlB,GAAyB,YAAY;AACnC,OAAK,IAAId,CAAC,GAAG,CAAR,EAAWotC,CAAC,GAAGvzB,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,GAAGotC,CAA1C,EAA6CptC,CAAC,EAA9C,EAAkD;AAChDc,QAAI,CAAC,IAAD,EAAO+Y,SAAS,CAAC7Z,CAAD,CAAhB,CAAJ;AACD;;AACD,SAAO,KAAKC,MAAZ;AACD,CALD;;AAOAiqC,OAAO,CAAC3sC,SAAR,CAAkByT,OAAlB,GAA4B,YAAY;AACtC,OAAK,IAAIhR,CAAC,GAAG,CAAR,EAAWotC,CAAC,GAAGvzB,SAAS,CAAC5Z,MAA9B,EAAsCD,CAAC,GAAGotC,CAA1C,EAA6CptC,CAAC,EAA9C,EAAkD;AAChDgR,WAAO,CAAC,IAAD,EAAO6I,SAAS,CAAC7Z,CAAD,CAAhB,CAAP;AACD;;AACD,SAAO,KAAKC,MAAZ;AACD,CALD;;AAOAiqC,OAAO,CAAC3sC,SAAR,CAAkBsI,GAAlB,GAAwB,YAAY;AAClC,MAAI,CAAC,KAAKimC,IAAV,EAAgB;AACd,WAAOprC,SAAP;AACD;;AAED,MAAIwtC,GAAG,GAAG,KAAKpC,IAAL,CAAU3oC,KAApB;AACA,OAAK2oC,IAAL,GAAY,KAAKA,IAAL,CAAU/lC,IAAtB;;AACA,MAAI,KAAK+lC,IAAT,EAAe;AACb,SAAKA,IAAL,CAAU9lC,IAAV,GAAiB,IAAjB;AACD,GAFD,MAEO;AACL,SAAKkmC,IAAL,GAAY,IAAZ;AACD;;AACD,OAAKjsC,MAAL;AACA,SAAOiuC,GAAP;AACD,CAdD;;AAgBAhE,OAAO,CAAC3sC,SAAR,CAAkBsT,KAAlB,GAA0B,YAAY;AACpC,MAAI,CAAC,KAAKq7B,IAAV,EAAgB;AACd,WAAOxrC,SAAP;AACD;;AAED,MAAIwtC,GAAG,GAAG,KAAKhC,IAAL,CAAU/oC,KAApB;AACA,OAAK+oC,IAAL,GAAY,KAAKA,IAAL,CAAUlmC,IAAtB;;AACA,MAAI,KAAKkmC,IAAT,EAAe;AACb,SAAKA,IAAL,CAAUnmC,IAAV,GAAiB,IAAjB;AACD,GAFD,MAEO;AACL,SAAK+lC,IAAL,GAAY,IAAZ;AACD;;AACD,OAAK7rC,MAAL;AACA,SAAOiuC,GAAP;AACD,CAdD;;AAgBAhE,OAAO,CAAC3sC,SAAR,CAAkBmB,OAAlB,GAA4B,UAAU+nC,EAAV,EAAcmF,KAAd,EAAqB;AAC/CA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKK,IAAlB,EAAwBlsC,CAAC,GAAG,CAAjC,EAAoC6rC,MAAM,KAAK,IAA/C,EAAqD7rC,CAAC,EAAtD,EAA0D;AACxDymC,MAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAeC,MAAM,CAAC1oC,KAAtB,EAA6BnD,CAA7B,EAAgC,IAAhC;AACA6rC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;AACF,CAND;;AAQAkkC,OAAO,CAAC3sC,SAAR,CAAkB03C,cAAlB,GAAmC,UAAUxO,EAAV,EAAcmF,KAAd,EAAqB;AACtDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,OAAK,IAAIC,MAAM,GAAG,KAAKC,IAAlB,EAAwB9rC,CAAC,GAAG,KAAKC,MAAL,GAAc,CAA/C,EAAkD4rC,MAAM,KAAK,IAA7D,EAAmE7rC,CAAC,EAApE,EAAwE;AACtEymC,MAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAeC,MAAM,CAAC1oC,KAAtB,EAA6BnD,CAA7B,EAAgC,IAAhC;AACA6rC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;AACF,CAND;;AAQAmkC,OAAO,CAAC3sC,SAAR,CAAkBiC,GAAlB,GAAwB,UAAUitC,CAAV,EAAa;AACnC,OAAK,IAAIzsC,CAAC,GAAG,CAAR,EAAW6rC,MAAM,GAAG,KAAKK,IAA9B,EAAoCL,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAGysC,CAA3D,EAA8DzsC,CAAC,EAA/D,EAAmE;AACjE;AACA6rC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;;AACD,MAAIhG,CAAC,KAAKysC,CAAN,IAAWZ,MAAM,KAAK,IAA1B,EAAgC;AAC9B,WAAOA,MAAM,CAAC1oC,KAAd;AACD;AACF,CARD;;AAUA+mC,OAAO,CAAC3sC,SAAR,CAAkB23C,UAAlB,GAA+B,UAAUzI,CAAV,EAAa;AAC1C,OAAK,IAAIzsC,CAAC,GAAG,CAAR,EAAW6rC,MAAM,GAAG,KAAKC,IAA9B,EAAoCD,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAGysC,CAA3D,EAA8DzsC,CAAC,EAA/D,EAAmE;AACjE;AACA6rC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;;AACD,MAAI/F,CAAC,KAAKysC,CAAN,IAAWZ,MAAM,KAAK,IAA1B,EAAgC;AAC9B,WAAOA,MAAM,CAAC1oC,KAAd;AACD;AACF,CARD;;AAUA+mC,OAAO,CAAC3sC,SAAR,CAAkB2Z,GAAlB,GAAwB,UAAUuvB,EAAV,EAAcmF,KAAd,EAAqB;AAC3CA,OAAK,GAAGA,KAAK,IAAI,IAAjB;AACA,MAAIsC,GAAG,GAAG,IAAIhE,OAAJ,EAAV;;AACA,OAAK,IAAI2B,MAAM,GAAG,KAAKK,IAAvB,EAA6BL,MAAM,KAAK,IAAxC,GAA+C;AAC7CqC,OAAG,CAACptC,IAAJ,CAAS2lC,EAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAeC,MAAM,CAAC1oC,KAAtB,EAA6B,IAA7B,CAAT;AACA0oC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;;AACD,SAAOkoC,GAAP;AACD,CARD;;AAUAhE,OAAO,CAAC3sC,SAAR,CAAkB43C,UAAlB,GAA+B,UAAU1O,EAAV,EAAcmF,KAAd,EAAqB;AAClDA,OAAK,GAAGA,KAAK,IAAI,IAAjB;AACA,MAAIsC,GAAG,GAAG,IAAIhE,OAAJ,EAAV;;AACA,OAAK,IAAI2B,MAAM,GAAG,KAAKC,IAAvB,EAA6BD,MAAM,KAAK,IAAxC,GAA+C;AAC7CqC,OAAG,CAACptC,IAAJ,CAAS2lC,EAAE,CAACjgC,IAAH,CAAQolC,KAAR,EAAeC,MAAM,CAAC1oC,KAAtB,EAA6B,IAA7B,CAAT;AACA0oC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;;AACD,SAAOmoC,GAAP;AACD,CARD;;AAUAhE,OAAO,CAAC3sC,SAAR,CAAkB8I,MAAlB,GAA2B,UAAUogC,EAAV,EAAc2O,OAAd,EAAuB;AAChD,MAAIC,GAAJ;AACA,MAAIxJ,MAAM,GAAG,KAAKK,IAAlB;;AACA,MAAIryB,SAAS,CAAC5Z,MAAV,GAAmB,CAAvB,EAA0B;AACxBo1C,OAAG,GAAGD,OAAN;AACD,GAFD,MAEO,IAAI,KAAKlJ,IAAT,EAAe;AACpBL,UAAM,GAAG,KAAKK,IAAL,CAAUlmC,IAAnB;AACAqvC,OAAG,GAAG,KAAKnJ,IAAL,CAAU/oC,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAIma,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAItd,CAAC,GAAG,CAAb,EAAgB6rC,MAAM,KAAK,IAA3B,EAAiC7rC,CAAC,EAAlC,EAAsC;AACpCq1C,OAAG,GAAG5O,EAAE,CAAC4O,GAAD,EAAMxJ,MAAM,CAAC1oC,KAAb,EAAoBnD,CAApB,CAAR;AACA6rC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;;AAED,SAAOqvC,GAAP;AACD,CAlBD;;AAoBAnL,OAAO,CAAC3sC,SAAR,CAAkB+3C,aAAlB,GAAkC,UAAU7O,EAAV,EAAc2O,OAAd,EAAuB;AACvD,MAAIC,GAAJ;AACA,MAAIxJ,MAAM,GAAG,KAAKC,IAAlB;;AACA,MAAIjyB,SAAS,CAAC5Z,MAAV,GAAmB,CAAvB,EAA0B;AACxBo1C,OAAG,GAAGD,OAAN;AACD,GAFD,MAEO,IAAI,KAAKtJ,IAAT,EAAe;AACpBD,UAAM,GAAG,KAAKC,IAAL,CAAU/lC,IAAnB;AACAsvC,OAAG,GAAG,KAAKvJ,IAAL,CAAU3oC,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAIma,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAItd,CAAC,GAAG,KAAKC,MAAL,GAAc,CAA3B,EAA8B4rC,MAAM,KAAK,IAAzC,EAA+C7rC,CAAC,EAAhD,EAAoD;AAClDq1C,OAAG,GAAG5O,EAAE,CAAC4O,GAAD,EAAMxJ,MAAM,CAAC1oC,KAAb,EAAoBnD,CAApB,CAAR;AACA6rC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;;AAED,SAAOsvC,GAAP;AACD,CAlBD;;AAoBAnL,OAAO,CAAC3sC,SAAR,CAAkB4uC,OAAlB,GAA4B,YAAY;AACtC,MAAIgB,GAAG,GAAG,IAAIxmC,KAAJ,CAAU,KAAK1G,MAAf,CAAV;;AACA,OAAK,IAAID,CAAC,GAAG,CAAR,EAAW6rC,MAAM,GAAG,KAAKK,IAA9B,EAAoCL,MAAM,KAAK,IAA/C,EAAqD7rC,CAAC,EAAtD,EAA0D;AACxDmtC,OAAG,CAACntC,CAAD,CAAH,GAAS6rC,MAAM,CAAC1oC,KAAhB;AACA0oC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;;AACD,SAAOmnC,GAAP;AACD,CAPD;;AASAjD,OAAO,CAAC3sC,SAAR,CAAkBg4C,cAAlB,GAAmC,YAAY;AAC7C,MAAIpI,GAAG,GAAG,IAAIxmC,KAAJ,CAAU,KAAK1G,MAAf,CAAV;;AACA,OAAK,IAAID,CAAC,GAAG,CAAR,EAAW6rC,MAAM,GAAG,KAAKC,IAA9B,EAAoCD,MAAM,KAAK,IAA/C,EAAqD7rC,CAAC,EAAtD,EAA0D;AACxDmtC,OAAG,CAACntC,CAAD,CAAH,GAAS6rC,MAAM,CAAC1oC,KAAhB;AACA0oC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;;AACD,SAAOonC,GAAP;AACD,CAPD;;AASAjD,OAAO,CAAC3sC,SAAR,CAAkBkE,KAAlB,GAA0B,UAAUmF,IAAV,EAAgB4uC,EAAhB,EAAoB;AAC5CA,IAAE,GAAGA,EAAE,IAAI,KAAKv1C,MAAhB;;AACA,MAAIu1C,EAAE,GAAG,CAAT,EAAY;AACVA,MAAE,IAAI,KAAKv1C,MAAX;AACD;;AACD2G,MAAI,GAAGA,IAAI,IAAI,CAAf;;AACA,MAAIA,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,IAAI,KAAK3G,MAAb;AACD;;AACD,MAAI4wC,GAAG,GAAG,IAAI3G,OAAJ,EAAV;;AACA,MAAIsL,EAAE,GAAG5uC,IAAL,IAAa4uC,EAAE,GAAG,CAAtB,EAAyB;AACvB,WAAO3E,GAAP;AACD;;AACD,MAAIjqC,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,GAAG,CAAP;AACD;;AACD,MAAI4uC,EAAE,GAAG,KAAKv1C,MAAd,EAAsB;AACpBu1C,MAAE,GAAG,KAAKv1C,MAAV;AACD;;AACD,OAAK,IAAID,CAAC,GAAG,CAAR,EAAW6rC,MAAM,GAAG,KAAKK,IAA9B,EAAoCL,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAG4G,IAA3D,EAAiE5G,CAAC,EAAlE,EAAsE;AACpE6rC,UAAM,GAAGA,MAAM,CAAC7lC,IAAhB;AACD;;AACD,SAAO6lC,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAGw1C,EAA9B,EAAkCx1C,CAAC,IAAI6rC,MAAM,GAAGA,MAAM,CAAC7lC,IAAvD,EAA6D;AAC3D6qC,OAAG,CAAC/vC,IAAJ,CAAS+qC,MAAM,CAAC1oC,KAAhB;AACD;;AACD,SAAO0tC,GAAP;AACD,CA1BD;;AA4BA3G,OAAO,CAAC3sC,SAAR,CAAkBk4C,YAAlB,GAAiC,UAAU7uC,IAAV,EAAgB4uC,EAAhB,EAAoB;AACnDA,IAAE,GAAGA,EAAE,IAAI,KAAKv1C,MAAhB;;AACA,MAAIu1C,EAAE,GAAG,CAAT,EAAY;AACVA,MAAE,IAAI,KAAKv1C,MAAX;AACD;;AACD2G,MAAI,GAAGA,IAAI,IAAI,CAAf;;AACA,MAAIA,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,IAAI,KAAK3G,MAAb;AACD;;AACD,MAAI4wC,GAAG,GAAG,IAAI3G,OAAJ,EAAV;;AACA,MAAIsL,EAAE,GAAG5uC,IAAL,IAAa4uC,EAAE,GAAG,CAAtB,EAAyB;AACvB,WAAO3E,GAAP;AACD;;AACD,MAAIjqC,IAAI,GAAG,CAAX,EAAc;AACZA,QAAI,GAAG,CAAP;AACD;;AACD,MAAI4uC,EAAE,GAAG,KAAKv1C,MAAd,EAAsB;AACpBu1C,MAAE,GAAG,KAAKv1C,MAAV;AACD;;AACD,OAAK,IAAID,CAAC,GAAG,KAAKC,MAAb,EAAqB4rC,MAAM,GAAG,KAAKC,IAAxC,EAA8CD,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAGw1C,EAArE,EAAyEx1C,CAAC,EAA1E,EAA8E;AAC5E6rC,UAAM,GAAGA,MAAM,CAAC9lC,IAAhB;AACD;;AACD,SAAO8lC,MAAM,KAAK,IAAX,IAAmB7rC,CAAC,GAAG4G,IAA9B,EAAoC5G,CAAC,IAAI6rC,MAAM,GAAGA,MAAM,CAAC9lC,IAAzD,EAA+D;AAC7D8qC,OAAG,CAAC/vC,IAAJ,CAAS+qC,MAAM,CAAC1oC,KAAhB;AACD;;AACD,SAAO0tC,GAAP;AACD,CA1BD;;AA4BA3G,OAAO,CAAC3sC,SAAR,CAAkBsnC,OAAlB,GAA4B,YAAY;AACtC,MAAIqH,IAAI,GAAG,KAAKA,IAAhB;AACA,MAAIJ,IAAI,GAAG,KAAKA,IAAhB;;AACA,OAAK,IAAID,MAAM,GAAGK,IAAlB,EAAwBL,MAAM,KAAK,IAAnC,EAAyCA,MAAM,GAAGA,MAAM,CAAC9lC,IAAzD,EAA+D;AAC7D,QAAI2vC,CAAC,GAAG7J,MAAM,CAAC9lC,IAAf;AACA8lC,UAAM,CAAC9lC,IAAP,GAAc8lC,MAAM,CAAC7lC,IAArB;AACA6lC,UAAM,CAAC7lC,IAAP,GAAc0vC,CAAd;AACD;;AACD,OAAKxJ,IAAL,GAAYJ,IAAZ;AACA,OAAKA,IAAL,GAAYI,IAAZ;AACA,SAAO,IAAP;AACD,CAXD;;AAaA,SAASprC,IAAT,CAAegb,IAAf,EAAqB3E,IAArB,EAA2B;AACzB2E,MAAI,CAACgwB,IAAL,GAAY,IAAIgJ,IAAJ,CAAS39B,IAAT,EAAe2E,IAAI,CAACgwB,IAApB,EAA0B,IAA1B,EAAgChwB,IAAhC,CAAZ;;AACA,MAAI,CAACA,IAAI,CAACowB,IAAV,EAAgB;AACdpwB,QAAI,CAACowB,IAAL,GAAYpwB,IAAI,CAACgwB,IAAjB;AACD;;AACDhwB,MAAI,CAAC7b,MAAL;AACD;;AAED,SAAS+Q,OAAT,CAAkB8K,IAAlB,EAAwB3E,IAAxB,EAA8B;AAC5B2E,MAAI,CAACowB,IAAL,GAAY,IAAI4I,IAAJ,CAAS39B,IAAT,EAAe,IAAf,EAAqB2E,IAAI,CAACowB,IAA1B,EAAgCpwB,IAAhC,CAAZ;;AACA,MAAI,CAACA,IAAI,CAACgwB,IAAV,EAAgB;AACdhwB,QAAI,CAACgwB,IAAL,GAAYhwB,IAAI,CAACowB,IAAjB;AACD;;AACDpwB,MAAI,CAAC7b,MAAL;AACD;;AAED,SAAS60C,IAAT,CAAe3xC,KAAf,EAAsB4C,IAAtB,EAA4BC,IAA5B,EAAkC+uC,IAAlC,EAAwC;AACtC,MAAI,EAAE,gBAAgBD,IAAlB,CAAJ,EAA6B;AAC3B,WAAO,IAAIA,IAAJ,CAAS3xC,KAAT,EAAgB4C,IAAhB,EAAsBC,IAAtB,EAA4B+uC,IAA5B,CAAP;AACD;;AAED,OAAKA,IAAL,GAAYA,IAAZ;AACA,OAAK5xC,KAAL,GAAaA,KAAb;;AAEA,MAAI4C,IAAJ,EAAU;AACRA,QAAI,CAACC,IAAL,GAAY,IAAZ;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACD,GAHD,MAGO;AACL,SAAKA,IAAL,GAAY,IAAZ;AACD;;AAED,MAAIC,IAAJ,EAAU;AACRA,QAAI,CAACD,IAAL,GAAY,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACD,GAHD,MAGO;AACL,SAAKA,IAAL,GAAY,IAAZ;AACD;AACF,C;;;;;;;ACjXD;;;;;;;;;AASa;;;;AAAA,IAAIjI,CAAC,GAAC0I,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAN;AAAA,IAAkCjB,CAAC,GAAC3gC,MAAM,CAAC4hC,GAAP,CAAW,cAAX,CAApC;AAAA,IAA+DkK,CAAC,GAAC9rC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAjE;AAAA,IAA8FxvB,CAAC,GAACpS,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAhG;AAAA,IAAgImG,CAAC,GAAC/nC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAlI;AAAA,IAA+J0B,CAAC,GAACtjC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAjK;AAAA,IAA8LiE,CAAC,GAAC7lC,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAhM;AAAA,IAA4N+D,CAAC,GAAC3lC,MAAM,CAAC4hC,GAAP,CAAW,sBAAX,CAA9N;AAAA,IAAiQ+E,CAAC,GAAC3mC,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAnQ;AAAA,IAAmSsN,CAAC,GAAClvC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAArS;AAAA,IAAkUoE,CAAC,GAAChmC,MAAM,CAAC4hC,GAAP,CAAW,qBAAX,CAApU;AAAA,IAAsWqN,CAAC,GAACjvC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAxW;AAAA,IAAiYuN,CAAC,GAACnvC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAnY;AAAA,IAA4ZwN,CAAC,GAACpvC,MAAM,CAAC4hC,GAAP,CAAW,iBAAX,CAA9Z;AAAA,IAA4byN,CAAC,GAACrvC,MAAM,CAAC4hC,GAAP,CAAW,aAAX,CAA9b;AAAA,IAAwdjkC,CAAC,GAACqC,MAAM,CAAC4hC,GAAP,CAAW,wBAAX,CAA1d;;AACb,SAAS0N,CAAT,CAAWj4C,CAAX,EAAa;AAAC,MAAG,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA/B,EAAiC;AAAC,QAAIk4C,CAAC,GAACl4C,CAAC,CAACstB,QAAR;;AAAiB,YAAO4qB,CAAP;AAAU,WAAKj4C,CAAL;AAAO,gBAAOD,CAAC,GAACA,CAAC,CAACwB,IAAJ,EAASxB,CAAhB;AAAmB,eAAKy0C,CAAL;AAAO,eAAK/D,CAAL;AAAO,eAAK31B,CAAL;AAAO,eAAK88B,CAAL;AAAO,eAAKlJ,CAAL;AAAO,mBAAO3uC,CAAP;;AAAS;AAAQ,oBAAOA,CAAC,GAACA,CAAC,IAAEA,CAAC,CAACstB,QAAP,EAAgBttB,CAAvB;AAA0B,mBAAKsuC,CAAL;AAAO,mBAAKE,CAAL;AAAO,mBAAKc,CAAL;AAAO,mBAAKwI,CAAL;AAAO,mBAAKF,CAAL;AAAO,mBAAK3L,CAAL;AAAO,uBAAOjsC,CAAP;;AAAS;AAAQ,uBAAOk4C,CAAP;AAArF;;AAAvE;;AAAsK,WAAK5O,CAAL;AAAO,eAAO4O,CAAP;AAA9L;AAAwM;AAAC;;AAAA9jC,OAAO,CAAC1J,eAAR,GAAwB8jC,CAAxB;AAA0Bp6B,OAAO,CAACzJ,eAAR,GAAwBshC,CAAxB;AAA0B73B,OAAO,CAAC+jC,OAAR,GAAgBl4C,CAAhB;AAAkBmU,OAAO,CAACxJ,UAAR,GAAmB0kC,CAAnB;AAAqBl7B,OAAO,CAACvJ,QAAR,GAAiB4pC,CAAjB;AAAmBrgC,OAAO,CAACtJ,IAAR,GAAagtC,CAAb;AAAe1jC,OAAO,CAACrJ,IAAR,GAAa6sC,CAAb;AAAexjC,OAAO,CAACpJ,MAAR,GAAes+B,CAAf;AAAiBl1B,OAAO,CAACnJ,QAAR,GAAiBylC,CAAjB;AAAmBt8B,OAAO,CAAClJ,UAAR,GAAmB6P,CAAnB;AAAqB3G,OAAO,CAACjJ,QAAR,GAAiB0sC,CAAjB;AAC/czjC,OAAO,CAAChJ,YAAR,GAAqBujC,CAArB;;AAAuBv6B,OAAO,CAACgkC,WAAR,GAAoB,YAAU;AAAC,SAAM,CAAC,CAAP;AAAS,CAAxC;;AAAyChkC,OAAO,CAACikC,gBAAR,GAAyB,YAAU;AAAC,SAAM,CAAC,CAAP;AAAS,CAA7C;;AAA8CjkC,OAAO,CAACkkC,iBAAR,GAA0B,UAASt4C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAOwuC,CAAd;AAAgB,CAAtD;;AAAuDp6B,OAAO,CAACmkC,iBAAR,GAA0B,UAASv4C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAOisC,CAAd;AAAgB,CAAtD;;AAAuD73B,OAAO,CAACxK,SAAR,GAAkB,UAAS5J,CAAT,EAAW;AAAC,SAAM,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA5B,IAA+BA,CAAC,CAACstB,QAAF,KAAartB,CAAlD;AAAoD,CAAlF;;AAAmFmU,OAAO,CAACokC,YAAR,GAAqB,UAASx4C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAOsvC,CAAd;AAAgB,CAAjD;;AAAkDl7B,OAAO,CAACqkC,UAAR,GAAmB,UAASz4C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAOy0C,CAAd;AAAgB,CAA/C;;AAAgDrgC,OAAO,CAACskC,MAAR,GAAe,UAAS14C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO83C,CAAd;AAAgB,CAA3C;;AAA4C1jC,OAAO,CAACukC,MAAR,GAAe,UAAS34C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO43C,CAAd;AAAgB,CAA3C;;AAC7bxjC,OAAO,CAACwkC,QAAR,GAAiB,UAAS54C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAOspC,CAAd;AAAgB,CAA7C;;AAA8Cl1B,OAAO,CAACykC,UAAR,GAAmB,UAAS74C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO0wC,CAAd;AAAgB,CAA/C;;AAAgDt8B,OAAO,CAAC0kC,YAAR,GAAqB,UAAS94C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO+a,CAAd;AAAgB,CAAjD;;AAAkD3G,OAAO,CAACimB,UAAR,GAAmB,UAASr6B,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO63C,CAAd;AAAgB,CAA/C;;AAAgDzjC,OAAO,CAAC2kC,cAAR,GAAuB,UAAS/4C,CAAT,EAAW;AAAC,SAAOi4C,CAAC,CAACj4C,CAAD,CAAD,KAAO2uC,CAAd;AAAgB,CAAnD;;AAChMv6B,OAAO,CAAC4kC,kBAAR,GAA2B,UAASh5C,CAAT,EAAW;AAAC,SAAM,aAAW,OAAOA,CAAlB,IAAqB,eAAa,OAAOA,CAAzC,IAA4CA,CAAC,KAAGy0C,CAAhD,IAAmDz0C,CAAC,KAAG0wC,CAAvD,IAA0D1wC,CAAC,KAAG+a,CAA9D,IAAiE/a,CAAC,KAAG63C,CAArE,IAAwE73C,CAAC,KAAG2uC,CAA5E,IAA+E3uC,CAAC,KAAG+3C,CAAnF,IAAsF/3C,CAAC,KAAGg4C,CAA1F,IAA6F,qBAAkBh4C,CAAlB,KAAqB,SAAOA,CAA5B,KAAgCA,CAAC,CAACstB,QAAF,KAAawqB,CAAb,IAAgB93C,CAAC,CAACstB,QAAF,KAAasqB,CAA7B,IAAgC53C,CAAC,CAACstB,QAAF,KAAa2e,CAA7C,IAAgDjsC,CAAC,CAACstB,QAAF,KAAakhB,CAA7D,IAAgExuC,CAAC,CAACstB,QAAF,KAAagiB,CAA7E,IAAgFtvC,CAAC,CAACstB,QAAF,KAAahnB,CAA7F,IAAgG,KAAK,CAAL,KAAStG,CAAC,CAACi5C,WAA3I,CAA7F,GAAqP,CAAC,CAAtP,GAAwP,CAAC,CAA/P;AAAiQ,CAAxS;;AAAyS7kC,OAAO,CAAC3J,MAAR,GAAewtC,CAAf,C;;;;;;;ACbzS;;;;;;;;;AASa;;;;AAAA,IAAIzJ,CAAC,GAACn6B,mBAAO,CAAC,EAAD,CAAb;AAAA,IAAoCwjC,CAAC,GAACxjC,mBAAO,CAAC,EAAD,CAA7C;AAAA,IAAuDyjC,CAAC,GAACt4C,MAAM,CAAC05C,MAAhE;AAAA,IAAuEjB,CAAC,GAACJ,CAAC,CAACsB,kDAA3E;AAAA,IAA8Hn4B,CAAC,GAAC,EAAhI;AAAA,IAAmIC,CAAC,GAAC,IAArI;;AACb,SAASm4B,CAAT,GAAY;AAAC,MAAG,SAAOn4B,CAAV,EAAY;AAAC,QAAIjhB,CAAC,GAAC,IAAIoV,GAAJ,EAAN;;AAAc,QAAG;AAACikC,OAAC,CAACC,UAAF,CAAa;AAACvY,qBAAa,EAAC;AAAf,OAAb,GAAmCsY,CAAC,CAACE,QAAF,CAAW,IAAX,CAAnC,EAAoDF,CAAC,CAACG,UAAF,CAAa,UAASlQ,CAAT,EAAW;AAAC,eAAOA,CAAP;AAAS,OAAlC,EAAmC,IAAnC,CAApD,EAA6F+P,CAAC,CAACI,MAAF,CAAS,IAAT,CAA7F,EAA4G,eAAa,OAAOJ,CAAC,CAACK,eAAtB,IAAuCL,CAAC,CAACK,eAAF,EAAnJ,EAAuKL,CAAC,CAACM,eAAF,CAAkB,YAAU,CAAE,CAA9B,CAAvK,EAAuMN,CAAC,CAACO,kBAAF,CAAqB,YAAU,CAAE,CAAjC,CAAvM,EAA0OP,CAAC,CAACQ,SAAF,CAAY,YAAU,CAAE,CAAxB,CAA1O,EAAoQR,CAAC,CAACS,mBAAF,CAAsB,KAAK,CAA3B,EAA6B,YAAU;AAAC,eAAO,IAAP;AAAY,OAApD,CAApQ,EAA0TT,CAAC,CAACU,aAAF,CAAgB,IAAhB,CAA1T,EAAgVV,CAAC,CAACW,WAAF,CAAc,YAAU,CAAE,CAA1B,CAAhV,EAA4WX,CAAC,CAACY,OAAF,CAAU,YAAU;AAAC,eAAO,IAAP;AAAY,OAAjC,CAA5W,EAA+Y,eAAa,OAAOZ,CAAC,CAACa,YAAtB,IAAoCb,CAAC,CAACa,YAAF,CAAe,CAAf,CAAnb;AAAqc,KAAzc,SAAgd;AAAC,UAAIj6C,CAAC,GAC9f+gB,CADyf;AACvfA,OAAC,GAAC,EAAF;AAAK;;AAAA,SAAI,IAAIjG,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC9a,CAAC,CAACkC,MAAhB,EAAuB4Y,CAAC,EAAxB,EAA2B;AAAC,UAAI21B,CAAC,GAACzwC,CAAC,CAAC8a,CAAD,CAAP;AAAW/a,OAAC,CAAC4B,GAAF,CAAM8uC,CAAC,CAACsC,SAAR,EAAkBxE,CAAC,CAAC3oC,KAAF,CAAQ6qC,CAAC,CAACyJ,UAAV,CAAlB;AAAyC;;AAAAl5B,KAAC,GAACjhB,CAAF;AAAI;;AAAA,SAAOihB,CAAP;AAAS;;AAAA,IAAIm5B,CAAC,GAAC,IAAN;;AAAW,SAASC,CAAT,GAAY;AAAC,MAAIr6C,CAAC,GAACo6C,CAAN;AAAQ,WAAOp6C,CAAP,KAAWo6C,CAAC,GAACp6C,CAAC,CAACkI,IAAf;AAAqB,SAAOlI,CAAP;AAAS;;AAClK,IAAIq5C,CAAC,GAAC;AAACiB,KAAG,EAAC,eAAU;AAAC,UAAMt1C,KAAK,CAAC,6DAAD,CAAX;AAA4E,GAA5F;AAA6Fu1C,aAAW,EAAC,qBAASv6C,CAAT,EAAW;AAAC,WAAOA,CAAC,CAAC+gC,aAAT;AAAuB,GAA5I;AAA6I2Y,iBAAe,EAAC,2BAAU;AAAC,QAAI15C,CAAC,GAACq6C,CAAC,EAAP;AAAUr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,cAAX;AAA0BmH,gBAAU,EAACn1C,KAAK,EAA1C;AAA6CK,WAAK,EAAC,SAAOrF,CAAP,GAASA,CAAC,CAACm0B,aAAX,GAAyB,YAAU,CAAE;AAAxF,KAAP;AAAkG,WAAO,YAAU,CAAE,CAAnB;AAAoB,GAAxS;AAAyS6lB,aAAW,EAAC,qBAASh6C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,UAAX;AAAsBmH,gBAAU,EAACn1C,KAAK,EAAtC;AAAyCK,WAAK,EAAC,SAAOpF,CAAP,GAASA,CAAC,CAACk0B,aAAF,CAAgB,CAAhB,CAAT,GAA4Bn0B;AAA3E,KAAP;AAAsF,WAAOA,CAAP;AAAS,GAA1a;AAA2as5C,YAAU,EAAC,oBAASt5C,CAAT,EAAW;AAACghB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,SAAX;AAAqBmH,gBAAU,EAACn1C,KAAK,EAArC;AAC/cK,WAAK,EAACrF,CAAC,CAAC+gC;AADuc,KAAP;AAChb,WAAO/gC,CAAC,CAAC+gC,aAAT;AAAuB,GADzC;AAC0C8Y,WAAS,EAAC,mBAAS75C,CAAT,EAAW;AAACq6C,KAAC;AAAGr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,QAAX;AAAoBmH,gBAAU,EAACn1C,KAAK,EAApC;AAAuCK,WAAK,EAACrF;AAA7C,KAAP;AAAwD,GAD5H;AAC6H85C,qBAAmB,EAAC,6BAAS95C,CAAT,EAAW;AAACq6C,KAAC;AAAG,QAAIp6C,CAAC,GAAC,KAAK,CAAX;AAAa,aAAOD,CAAP,IAAU,qBAAkBA,CAAlB,CAAV,KAAgCC,CAAC,GAACD,CAAC,CAACO,OAApC;AAA6CygB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,kBAAX;AAA8BmH,gBAAU,EAACn1C,KAAK,EAA9C;AAAiDK,WAAK,EAACpF;AAAvD,KAAP;AAAkE,GAD7R;AAC8R85C,eAAa,EAAC,uBAAS/5C,CAAT,EAAWC,CAAX,EAAa;AAAC+gB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,YAAX;AAAwBmH,gBAAU,EAACn1C,KAAK,EAAxC;AAA2CK,WAAK,EAAC,eAAa,OAAOpF,CAApB,GAAsBA,CAAC,CAACD,CAAD,CAAvB,GAA2BA;AAA5E,KAAP;AAAuF,GADjZ;AACkZ25C,iBAAe,EAAC,yBAAS35C,CAAT,EAAW;AAACq6C,KAAC;AAAGr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,cAAX;AAA0BmH,gBAAU,EAACn1C,KAAK,EAA1C;AAA6CK,WAAK,EAACrF;AAAnD,KAAP;AAA8D,GADhf;AAEN45C,oBAAkB,EAAC,4BAAS55C,CAAT,EAAW;AAACq6C,KAAC;AAAGr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,iBAAX;AAA6BmH,gBAAU,EAACn1C,KAAK,EAA7C;AAAgDK,WAAK,EAACrF;AAAtD,KAAP;AAAiE,GAF9F;AAE+Fi6C,SAAO,EAAC,iBAASj6C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUr6C,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAACk0B,aAAF,CAAgB,CAAhB,CAAT,GAA4Bn0B,CAAC,EAA/B;AAAkCghB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,MAAX;AAAkBmH,gBAAU,EAACn1C,KAAK,EAAlC;AAAqCK,WAAK,EAACrF;AAA3C,KAAP;AAAsD,WAAOA,CAAP;AAAS,GAF9N;AAE+Nk6C,cAAY,EAAC,sBAASl6C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUp6C,KAAC,GAAC,SAAOA,CAAP,IAAU,SAAOA,CAAC,CAACu6C,WAAnB,IAAgC,QAAMv6C,CAAC,CAACu6C,WAAF,CAAcC,SAApD,GAA8Dx6C,CAAC,CAACu6C,WAAF,CAAcC,SAA5E,GAAsF;AAAC9wC,UAAI,EAAC,EAAN;AAASoH,WAAK,EAAC;AAAf,KAAxF;AAA0G9Q,KAAC,GAACA,CAAC,CAAC0J,IAAF,CAAO1J,CAAC,CAAC8Q,KAAT,CAAF;;AAAkB,QAAG,KAAK,CAAL,KAAS9Q,CAAZ,EAAc;AAAC,UAAI8a,CAAC,GAACpS,MAAM,CAAC4hC,GAAP,CAAW,2BAAX,CAAN;AAA8CtqC,OAAC,GAAC4I,KAAK,CAAC7I,CAAD,CAAP;;AAAW,WAAI,IAAI0wC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC1wC,CAAd,EAAgB0wC,CAAC,EAAjB;AAAoBzwC,SAAC,CAACywC,CAAD,CAAD,GAAK31B,CAAL;AAApB;AAA2B;;AAAAiG,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,WAAX;AAC9emH,gBAAU,EAACn1C,KAAK,EAD8d;AAC3dK,WAAK,EAACpF;AADqd,KAAP;AAC1c,WAAOA,CAAP;AAAS,GAHhC;AAGiCu5C,YAAU,EAAC,oBAASx5C,CAAT,EAAWC,CAAX,EAAa8a,CAAb,EAAe;AAAC/a,KAAC,GAACq6C,CAAC,EAAH;AAAMp6C,KAAC,GAAC,SAAOD,CAAP,GAASA,CAAC,CAACm0B,aAAX,GAAyB,KAAK,CAAL,KAASpZ,CAAT,GAAWA,CAAC,CAAC9a,CAAD,CAAZ,GAAgBA,CAA3C;AAA6C+gB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,SAAX;AAAqBmH,gBAAU,EAACn1C,KAAK,EAArC;AAAwCK,WAAK,EAACpF;AAA9C,KAAP;AAAyD,WAAM,CAACA,CAAD,EAAG,YAAU,CAAE,CAAf,CAAN;AAAuB,GAH/L;AAGgMw5C,QAAM,EAAC,gBAASz5C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUr6C,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAACk0B,aAAX,GAAyB;AAAC5zB,aAAO,EAACP;AAAT,KAA3B;AAAuCghB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,KAAX;AAAiBmH,gBAAU,EAACn1C,KAAK,EAAjC;AAAoCK,WAAK,EAACrF,CAAC,CAACO;AAA5C,KAAP;AAA6D,WAAOP,CAAP;AAAS,GAH1U;AAG2Uu5C,UAAQ,EAAC,kBAASv5C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUr6C,KAAC,GAAC,SAAOC,CAAP,GAASA,CAAC,CAACk0B,aAAX,GAAyB,eAAa,OAAOn0B,CAApB,GAAsBA,CAAC,EAAvB,GAA0BA,CAArD;AAAuDghB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,OAAX;AAAmBmH,gBAAU,EAACn1C,KAAK,EAAnC;AAAsCK,WAAK,EAACrF;AAA5C,KAAP;AAAuD,WAAM,CAACA,CAAD,EAAG,YAAU,CAAE,CAAf,CAAN;AAAuB,GAH/e;AAIN06C,eAAa,EAAC,yBAAU;AAACL,KAAC;AAAGA,KAAC;AAAGr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,YAAX;AAAwBmH,gBAAU,EAACn1C,KAAK,EAAxC;AAA2CK,WAAK,EAAC,KAAK;AAAtD,KAAP;AAAiE,WAAM,CAAC,CAAC,CAAF,EAAI,YAAU,CAAE,CAAhB,CAAN;AAAwB,GAJpH;AAIqHs1C,kBAAgB,EAAC,0BAAS36C,CAAT,EAAWC,CAAX,EAAa;AAACo6C,KAAC;AAAGA,KAAC;AAAGA,KAAC;AAAGA,KAAC;AAAGr6C,KAAC,GAACC,CAAC,CAACD,CAAC,CAAC46C,OAAH,CAAH;AAAe55B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,eAAX;AAA2BmH,gBAAU,EAACn1C,KAAK,EAA3C;AAA8CK,WAAK,EAACrF;AAApD,KAAP;AAA+D,WAAOA,CAAP;AAAS,GAJ3P;AAI4P66C,sBAAoB,EAAC,8BAAS76C,CAAT,EAAWC,CAAX,EAAa;AAACo6C,KAAC;AAAGA,KAAC;AAAGr6C,KAAC,GAACC,CAAC,EAAH;AAAM+gB,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,mBAAX;AAA+BmH,gBAAU,EAACn1C,KAAK,EAA/C;AAAkDK,WAAK,EAACrF;AAAxD,KAAP;AAAmE,WAAOA,CAAP;AAAS,GAJzX;AAI0X86C,kBAAgB,EAAC,0BAAS96C,CAAT,EAAW;AAAC,QAAIC,CAAC,GAACo6C,CAAC,EAAP;AAAUr5B,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,eAAX;AAA2BmH,gBAAU,EAACn1C,KAAK,EAA3C;AAA8CK,WAAK,EAAC,SAAOpF,CAAP,GAASA,CAAC,CAACk0B,aAAX,GAClen0B;AAD8a,KAAP;AACna,WAAOA,CAAP;AAAS,GALP;AAKQ+6C,OAAK,EAAC,iBAAU;AAAC,QAAI/6C,CAAC,GAACq6C,CAAC,EAAP;AAAUr6C,KAAC,GAAC,SAAOA,CAAP,GAASA,CAAC,CAACm0B,aAAX,GAAyB,EAA3B;AAA8BnT,KAAC,CAAChe,IAAF,CAAO;AAACgwC,eAAS,EAAC,IAAX;AAAgBmH,gBAAU,EAACn1C,KAAK,EAAhC;AAAmCK,WAAK,EAACrF;AAAzC,KAAP;AAAoD,WAAOA,CAAP;AAAS;AAL9H,CAAN;AAAA,IAKsIg7C,CAAC,GAAC;AAACt5C,KAAG,EAAC,aAAS1B,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAGD,CAAC,CAACT,cAAF,CAAiBU,CAAjB,CAAH,EAAuB,OAAOD,CAAC,CAACC,CAAD,CAAR;AAAYD,KAAC,GAACgF,KAAK,CAAC,mCAAiC/E,CAAlC,CAAP;AAA4CD,KAAC,CAAC2B,IAAF,GAAO,qCAAP;AAA6C,UAAM3B,CAAN;AAAS;AAAxJ,CALxI;AAAA,IAKkSi7C,CAAC,GAAC,gBAAc,OAAOC,KAArB,GAA2B7B,CAA3B,GAA6B,IAAI6B,KAAJ,CAAU7B,CAAV,EAAY2B,CAAZ,CALjU;AAAA,IAKgVG,CAAC,GAAC,CALlV;;AAMA,SAASC,CAAT,CAAWp7C,CAAX,EAAaC,CAAb,EAAe8a,CAAf,EAAiB;AAAC,MAAI21B,CAAC,GAACzwC,CAAC,CAAC8a,CAAD,CAAD,CAAKV,MAAX;AAAA,MAAkBivB,CAAC,GAAC,CAApB;;AAAsBtpC,GAAC,EAAC,OAAKspC,CAAC,GAACtpC,CAAC,CAACmC,MAAT,EAAgBmnC,CAAC,EAAjB;AAAoB,QAAGtpC,CAAC,CAACspC,CAAD,CAAD,CAAKjvB,MAAL,KAAcq2B,CAAjB,EAAmB;AAAC,WAAI,IAAIpC,CAAC,GAACvzB,CAAC,GAAC,CAAR,EAAUm9B,CAAC,GAAC5O,CAAC,GAAC,CAAlB,EAAoBgF,CAAC,GAACruC,CAAC,CAACkC,MAAJ,IAAY+1C,CAAC,GAACl4C,CAAC,CAACmC,MAApC,EAA2CmsC,CAAC,IAAG4J,CAAC,EAAhD;AAAmD,YAAGl4C,CAAC,CAACk4C,CAAD,CAAD,CAAK79B,MAAL,KAAcpa,CAAC,CAACquC,CAAD,CAAD,CAAKj0B,MAAtB,EAA6B,SAASra,CAAT;AAAhF;;AAA2F,aAAOspC,CAAP;AAAS;AAA5I;;AAA4I,SAAM,CAAC,CAAP;AAAS;;AAAA,SAAS+R,CAAT,CAAWr7C,CAAX,EAAaC,CAAb,EAAe;AAAC,MAAG,CAACD,CAAJ,EAAM,OAAM,CAAC,CAAP;AAASC,GAAC,GAAC,QAAMA,CAAR;AAAU,SAAOD,CAAC,CAACmC,MAAF,GAASlC,CAAC,CAACkC,MAAX,GAAkB,CAAC,CAAnB,GAAqBnC,CAAC,CAAC0mC,WAAF,CAAczmC,CAAd,MAAmBD,CAAC,CAACmC,MAAF,GAASlC,CAAC,CAACkC,MAA1D;AAAiE;;AACzS,SAASm5C,CAAT,CAAWt7C,CAAX,EAAaC,CAAb,EAAe8a,CAAf,EAAiB;AAAC,OAAI,IAAI21B,CAAC,GAAC,EAAN,EAASpH,CAAC,GAAC,IAAX,EAAgBgF,CAAC,GAACoC,CAAlB,EAAoBwH,CAAC,GAAC,CAAtB,EAAwBH,CAAC,GAAC,EAA1B,EAA6BzxC,CAAC,GAAC,CAAnC,EAAqCA,CAAC,GAACrG,CAAC,CAACkC,MAAzC,EAAgDmE,CAAC,EAAjD,EAAoD;AAAC,QAAI0xC,CAAC,GAAC/3C,CAAC,CAACqG,CAAD,CAAP;AAAW,QAAImuC,CAAC,GAACz0C,CAAN;AAAQ,QAAIsvC,CAAC,GAACd,CAAC,CAAC3oC,KAAF,CAAQmyC,CAAC,CAACmC,UAAV,CAAN;;AAA4Bl6C,KAAC,EAAC;AAAC,UAAI0uC,CAAC,GAACW,CAAN;AAAA,UAAQsI,CAAC,GAACwD,CAAC,CAACzM,CAAD,EAAG8F,CAAH,EAAK0G,CAAL,CAAX;AAAmB,UAAG,CAAC,CAAD,KAAKvD,CAAR,EAAUnD,CAAC,GAACmD,CAAF,CAAV,KAAkB;AAAC,aAAI,IAAI3L,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACwI,CAAC,CAACtyC,MAAJ,IAAY,IAAE8pC,CAA1B,EAA4BA,CAAC,EAA7B;AAAgC,cAAG2L,CAAC,GAACwD,CAAC,CAACzM,CAAD,EAAG8F,CAAH,EAAKxI,CAAL,CAAH,EAAW,CAAC,CAAD,KAAK2L,CAAnB,EAAqB;AAACuD,aAAC,GAAClP,CAAF;AAAIwI,aAAC,GAACmD,CAAF;AAAI,kBAAM33C,CAAN;AAAQ;AAAtE;;AAAsEw0C,SAAC,GAAC,CAAC,CAAH;AAAK;AAAC;;AAAAx0C,KAAC,EAAC;AAAC0uC,OAAC,GAACW,CAAF;AAAIsI,OAAC,GAACwB,CAAC,GAAG13C,GAAJ,CAAQs2C,CAAC,CAAChF,SAAV,CAAF;AAAuB,UAAG,KAAK,CAAL,KAAS4E,CAAZ,EAAc,KAAI3L,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC2L,CAAC,CAACz1C,MAAJ,IAAY8pC,CAAC,GAAC0C,CAAC,CAACxsC,MAAxB,EAA+B8pC,CAAC,EAAhC;AAAmC,YAAG2L,CAAC,CAAC3L,CAAD,CAAD,CAAK5xB,MAAL,KAAcs0B,CAAC,CAAC1C,CAAD,CAAD,CAAK5xB,MAAtB,EAA6B;AAAC4xB,WAAC,GAAC0C,CAAC,CAACxsC,MAAF,GAAS,CAAX,IAAck5C,CAAC,CAAC1M,CAAC,CAAC1C,CAAD,CAAD,CAAKsP,YAAN,EAAmBvD,CAAC,CAAChF,SAArB,CAAf,IAAgD/G,CAAC,EAAjD;AAAoDA,WAAC,GAAC0C,CAAC,CAACxsC,MAAF,GAAS,CAAX,IAAck5C,CAAC,CAAC1M,CAAC,CAAC1C,CAAD,CAAD,CAAKsP,YAAN,EAAmBvD,CAAC,CAAChF,SAArB,CAAf,IAAgD/G,CAAC,EAAjD;AAAoD0C,WAAC,GAAC1C,CAAF;AAAI,gBAAMhsC,CAAN;AAAQ;AAArL;AAAqL0uC,OAAC,GAAC,CAAC,CAAH;AAAK;;AAAAW,KAAC,GAAC,CAAC,CAAD,KAAKmF,CAAL,IAAQ,CAAC,CAAD,KAAK9F,CAAb,IAAgB,IAAE8F,CAAC,GAAC9F,CAApB,GAAsB,IAAtB,GAA2BW,CAAC,CAAC3rC,KAAF,CAAQgrC,CAAR,EAC9e8F,CAAC,GAAC,CAD4e,CAA7B;;AAC5c,QAAG,SAAOnF,CAAV,EAAY;AAACmF,OAAC,GAAC,CAAF;;AAAI,UAAG,SAAOnL,CAAV,EAAY;AAAC,eAAKmL,CAAC,GAACnF,CAAC,CAACntC,MAAJ,IAAYsyC,CAAC,GAACnL,CAAC,CAACnnC,MAAhB,IAAwBmtC,CAAC,CAACA,CAAC,CAACntC,MAAF,GAASsyC,CAAT,GAAW,CAAZ,CAAD,CAAgBp6B,MAAhB,KAAyBivB,CAAC,CAACA,CAAC,CAACnnC,MAAF,GAASsyC,CAAT,GAAW,CAAZ,CAAD,CAAgBp6B,MAAtE;AAA8Eo6B,WAAC;AAA/E;;AAAkF,aAAInL,CAAC,GAACA,CAAC,CAACnnC,MAAF,GAAS,CAAf,EAAiBmnC,CAAC,GAACmL,CAAnB,EAAqBnL,CAAC,EAAtB;AAAyBgF,WAAC,GAACyJ,CAAC,CAAChwC,GAAF,EAAF;AAAzB;AAAmC;;AAAA,WAAIuhC,CAAC,GAACgG,CAAC,CAACntC,MAAF,GAASsyC,CAAT,GAAW,CAAjB,EAAmB,KAAGnL,CAAtB,EAAwBA,CAAC,EAAzB;AAA4BmL,SAAC,GAAC,EAAF,EAAK9F,CAAC,GAACW,CAAC,CAAChG,CAAD,CAAR,EAAY,CAACsO,CAAC,GAACtI,CAAC,CAAChG,CAAC,GAAC,CAAH,CAAD,CAAOiS,YAAV,KAAyBtP,CAAC,GAAC2L,CAAC,CAAClR,WAAF,CAAc,GAAd,CAAF,EAAqB,CAAC,CAAD,KAAKuF,CAAL,KAASA,CAAC,GAAC,CAAX,CAArB,EAAmC,UAAQ2L,CAAC,CAACj0C,KAAF,CAAQsoC,CAAR,EAAUA,CAAC,GAAC,CAAZ,CAAR,KAAyBA,CAAC,IAAE,CAA5B,CAAnC,EAAkE2L,CAAC,GAACA,CAAC,CAACj0C,KAAF,CAAQsoC,CAAR,CAA7F,IAAyG2L,CAAC,GAAC,EAAvH,EAA0HA,CAAC,GAAC;AAAC9zC,YAAE,EAAC,IAAJ;AAAS03C,yBAAe,EAAC,CAAC,CAA1B;AAA4B75C,cAAI,EAACi2C,CAAjC;AAAmCvyC,eAAK,EAAC,KAAK,CAA9C;AAAgDo2C,kBAAQ,EAAChH;AAAzD,SAA5H,EAAwL15B,CAAC,KAAG68B,CAAC,CAAC8D,UAAF,GAAa;AAACC,oBAAU,EAAChN,CAAC,CAACgN,UAAd;AAAyBC,sBAAY,EAACjN,CAAC,CAACiN,YAAxC;AAAqDL,sBAAY,EAAC5M,CAAC,CAAC4M,YAApE;AAAiFzoB,kBAAQ,EAAC6b,CAAC,CAAC7b;AAA5F,SAAhB,CAAzL,EAAgTwb,CAAC,CAACtrC,IAAF,CAAO40C,CAAP,CAAhT,EAA0TG,CAAC,CAAC/0C,IAAF,CAAOsrC,CAAP,CAA1T,EACpLA,CAAC,GAACmG,CADkL;AAA5B;;AACpJnL,OAAC,GAACgG,CAAF;AAAI;;AAAAmF,KAAC,GAACuD,CAAC,CAAChF,SAAJ;AAAcgF,KAAC,GAAC;AAACl0C,QAAE,EAAC,cAAY2wC,CAAZ,IAAe,iBAAeA,CAA9B,GAAgC,IAAhC,GAAqCyD,CAAC,EAA1C;AAA6CsD,qBAAe,EAAC,cAAY/G,CAAZ,IAAe,YAAUA,CAAtF;AAAwF9yC,UAAI,EAAC8yC,CAA7F;AAA+FpvC,WAAK,EAAC2yC,CAAC,CAAC3yC,KAAvG;AAA6Go2C,cAAQ,EAAC;AAAtH,KAAF;AAA4H1gC,KAAC,KAAG05B,CAAC,GAAC;AAACkH,gBAAU,EAAC,IAAZ;AAAiBJ,kBAAY,EAAC,IAA9B;AAAmCzoB,cAAQ,EAAC,IAA5C;AAAiD8oB,kBAAY,EAAC;AAA9D,KAAF,EAAsEtM,CAAC,IAAE,KAAGA,CAAC,CAACntC,MAAR,KAAiBmtC,CAAC,GAACA,CAAC,CAAC,CAAD,CAAH,EAAOmF,CAAC,CAACkH,UAAF,GAAarM,CAAC,CAACqM,UAAtB,EAAiClH,CAAC,CAAC8G,YAAF,GAAejM,CAAC,CAACiM,YAAlD,EAA+D9G,CAAC,CAAC3hB,QAAF,GAAWwc,CAAC,CAACxc,QAA5E,EAAqF2hB,CAAC,CAACmH,YAAF,GAAetM,CAAC,CAACsM,YAAvH,CAAtE,EAA2M5D,CAAC,CAAC0D,UAAF,GAAajH,CAA3N,CAAD;AAA+NnG,KAAC,CAACtrC,IAAF,CAAOg1C,CAAP;AAAU;;AAAA6D,GAAC,CAACnL,CAAD,EAAG,IAAH,CAAD;AAAU,SAAOA,CAAP;AAAS;;AAC9Y,SAASmL,CAAT,CAAW77C,CAAX,EAAaC,CAAb,EAAe;AAAC,OAAI,IAAI8a,CAAC,GAAC,EAAN,EAAS21B,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAAC1wC,CAAC,CAACmC,MAArB,EAA4BuuC,CAAC,EAA7B,EAAgC;AAAC,QAAIpH,CAAC,GAACtpC,CAAC,CAAC0wC,CAAD,CAAP;AAAW,qBAAepH,CAAC,CAAC3nC,IAAjB,IAAuB,MAAI2nC,CAAC,CAACmS,QAAF,CAAWt5C,MAAtC,IAA8CnC,CAAC,CAACmJ,MAAF,CAASunC,CAAT,EAAW,CAAX,GAAcA,CAAC,EAAf,EAAkB31B,CAAC,CAAC/X,IAAF,CAAOsmC,CAAP,CAAhE,IAA2EuS,CAAC,CAACvS,CAAC,CAACmS,QAAH,EAAYnS,CAAZ,CAA5E;AAA2F;;AAAA,WAAOrpC,CAAP,KAAW,MAAI8a,CAAC,CAAC5Y,MAAN,GAAalC,CAAC,CAACoF,KAAF,GAAQ0V,CAAC,CAAC,CAAD,CAAD,CAAK1V,KAA1B,GAAgC,IAAE0V,CAAC,CAAC5Y,MAAJ,KAAalC,CAAC,CAACoF,KAAF,GAAQ0V,CAAC,CAAC3B,GAAF,CAAM,UAASk1B,CAAT,EAAW;AAAC,WAAOA,CAAC,CAACjpC,KAAT;AAAe,GAAjC,CAArB,CAA3C;AAAqG;;AAAA,SAASy2C,CAAT,CAAW97C,CAAX,EAAa;AAAC,MAAGA,CAAC,YAAYgF,KAAb,IAAoB,0CAAwChF,CAAC,CAAC2B,IAAjE,EAAsE,MAAM3B,CAAN;AAAQ,MAAIC,CAAC,GAAC+E,KAAK,CAAC,qCAAD,EAAuC;AAACw+B,SAAK,EAACxjC;AAAP,GAAvC,CAAX;AAA6DC,GAAC,CAAC0B,IAAF,GAAO,4BAAP;AAAoC1B,GAAC,CAACujC,KAAF,GAAQxjC,CAAR;AAAU,QAAMC,CAAN;AAAS;;AAC5c,SAAS87C,CAAT,CAAW/7C,CAAX,EAAaC,CAAb,EAAe8a,CAAf,EAAiB;AAAC,MAAI21B,CAAC,GAAC,IAAE30B,SAAS,CAAC5Z,MAAZ,IAAoB,KAAK,CAAL,KAAS4Z,SAAS,CAAC,CAAD,CAAtC,GAA0CA,SAAS,CAAC,CAAD,CAAnD,GAAuD,CAAC,CAA9D;AAAgE,UAAMhB,CAAN,KAAUA,CAAC,GAACk9B,CAAC,CAAC+D,sBAAd;AAAsC,MAAI1S,CAAC,GAACvuB,CAAC,CAACxa,OAAR;AAAgBwa,GAAC,CAACxa,OAAF,GAAU06C,CAAV;;AAAY,MAAG;AAAC,QAAI3M,CAAC,GAACtpC,KAAK,EAAX;AAAchF,KAAC,CAACC,CAAD,CAAD;AAAK,GAAvB,CAAuB,OAAM83C,CAAN,EAAQ;AAAC+D,KAAC,CAAC/D,CAAD,CAAD;AAAK,GAArC,SAA4C;AAAC,QAAIG,CAAC,GAACl3B,CAAN;AAAQA,KAAC,GAAC,EAAF;AAAKjG,KAAC,CAACxa,OAAF,GAAU+oC,CAAV;AAAY;;AAAAA,GAAC,GAACkF,CAAC,CAAC3oC,KAAF,CAAQyoC,CAAR,CAAF;AAAa,SAAOgN,CAAC,CAAChS,CAAD,EAAG4O,CAAH,EAAKxH,CAAL,CAAR;AAAgB;;AAAA,SAASuL,CAAT,CAAWj8C,CAAX,EAAa;AAACA,GAAC,CAACY,OAAF,CAAU,UAASX,CAAT,EAAW8a,CAAX,EAAa;AAAC,WAAOA,CAAC,CAACgmB,aAAF,GAAgB9gC,CAAvB;AAAyB,GAAjD;AAAmD;;AAAAmU,OAAO,CAAC8nC,YAAR,GAAqBH,CAArB;;AACxT3nC,OAAO,CAACgtB,mBAAR,GAA4B,UAASphC,CAAT,EAAWC,CAAX,EAAa;AAAC,MAAI8a,CAAC,GAAC,IAAEgB,SAAS,CAAC5Z,MAAZ,IAAoB,KAAK,CAAL,KAAS4Z,SAAS,CAAC,CAAD,CAAtC,GAA0CA,SAAS,CAAC,CAAD,CAAnD,GAAuD,CAAC,CAA9D;AAAgE,UAAM9b,CAAN,KAAUA,CAAC,GAACg4C,CAAC,CAAC+D,sBAAd;AAAsC,MAAG,MAAIh8C,CAAC,CAAC0tB,GAAN,IAAW,OAAK1tB,CAAC,CAAC0tB,GAAlB,IAAuB,OAAK1tB,CAAC,CAAC0tB,GAAjC,EAAqC,MAAM1oB,KAAK,CAAC,mEAAD,CAAX;AAAiFo0C,GAAC;AAAG,MAAI1I,CAAC,GAAC1wC,CAAC,CAACwB,IAAR;AAAA,MAAa8nC,CAAC,GAACtpC,CAAC,CAACiuB,aAAjB;;AAA+B,MAAGyiB,CAAC,KAAG1wC,CAAC,CAACwK,WAAN,IAAmBkmC,CAAnB,IAAsBA,CAAC,CAACyL,YAA3B,EAAwC;AAAC7S,KAAC,GAACwO,CAAC,CAAC,EAAD,EAAIxO,CAAJ,CAAH;AAAU,QAAIgF,CAAC,GAACoC,CAAC,CAACyL,YAAR;;AAAqB,SAAIjE,CAAJ,IAAS5J,CAAT;AAAW,WAAK,CAAL,KAAShF,CAAC,CAAC4O,CAAD,CAAV,KAAgB5O,CAAC,CAAC4O,CAAD,CAAD,GAAK5J,CAAC,CAAC4J,CAAD,CAAtB;AAAX;AAAsC;;AAAAkC,GAAC,GAACp6C,CAAC,CAACm0B,aAAJ;AAAkB,MAAI+jB,CAAC,GAAC,IAAI9iC,GAAJ,EAAN;;AAAc,MAAG;AAAC,SAAIk5B,CAAC,GAACtuC,CAAN,EAAQsuC,CAAR,GAAW;AAAC,UAAG,OAAKA,CAAC,CAAC5gB,GAAV,EAAc;AAAC,YAAIqqB,CAAC,GAACzJ,CAAC,CAAC9sC,IAAF,CAAOusB,QAAb;AAAsBmqB,SAAC,CAACrmC,GAAF,CAAMkmC,CAAN,MAC3eG,CAAC,CAACt2C,GAAF,CAAMm2C,CAAN,EAAQA,CAAC,CAAChX,aAAV,GAAyBgX,CAAC,CAAChX,aAAF,GAAgBuN,CAAC,CAACrgB,aAAF,CAAgB5oB,KADkb;AAC3a;;AAAAipC,OAAC,GAACA,CAAC,CAACtkB,MAAJ;AAAW;;AAAA,QAAG,OAAKhqB,CAAC,CAAC0tB,GAAV,EAAc;AAAC,UAAIpnB,CAAC,GAACoqC,CAAC,CAACjjB,MAAR;AAAeijB,OAAC,GAACpH,CAAF;AAAI,UAAI0O,CAAC,GAACh4C,CAAC,CAAC42B,GAAR;AAAYmhB,OAAC,GAAC93C,CAAF;AAAI,UAAIw0C,CAAC,GAACsD,CAAC,CAACx3C,OAAR;AAAgBw3C,OAAC,CAACx3C,OAAF,GAAU06C,CAAV;;AAAY,UAAG;AAAC,YAAI3L,CAAC,GAACtqC,KAAK,EAAX;AAAcsB,SAAC,CAACoqC,CAAD,EAAGsH,CAAH,CAAD;AAAO,OAAzB,CAAyB,OAAM/L,CAAN,EAAQ;AAAC6P,SAAC,CAAC7P,CAAD,CAAD;AAAK,OAAvC,SAA8C;AAAC,YAAI0C,CAAC,GAAC3tB,CAAN;AAAQA,SAAC,GAAC,EAAF;AAAK+2B,SAAC,CAACx3C,OAAF,GAAUk0C,CAAV;AAAY;;AAAA,UAAImD,CAAC,GAACpJ,CAAC,CAAC3oC,KAAF,CAAQypC,CAAR,CAAN;AAAiB,aAAOgM,CAAC,CAAC1D,CAAD,EAAGjJ,CAAH,EAAK5zB,CAAL,CAAR;AAAgB;;AAAA,WAAOghC,CAAC,CAACrL,CAAD,EAAGpH,CAAH,EAAKrpC,CAAL,EAAO8a,CAAP,CAAR;AAAkB,GADkK,SAC3J;AAACq/B,KAAC,GAAC,IAAF,EAAO6B,CAAC,CAAC/D,CAAD,CAAR;AAAY;AAAC,CAD1S,C;;;;;;;;ACxBC,WAAS5mC,IAAT,EAAe8qC,OAAf,EAAwB;AACrB,eADqB,CAErB;;AAEA;;AACA,MAAI,IAAJ,EAAgD;AAC5CC,qCAA6B,CAAC,uBAAD,CAAvB,oCAAuCD,OAAvC;AAAA;AAAA;AAAA,oGAAN;AACH,GAFD,MAEO,EAIN;AACJ,CAZA,EAYC,IAZD,EAYO,SAASE,gBAAT,CAA0BC,UAA1B,EAAsC;AAC1C;;AAEA,MAAIC,2BAA2B,GAAG,cAAlC;AACA,MAAIC,sBAAsB,GAAG,gCAA7B;AACA,MAAIC,yBAAyB,GAAG,6BAAhC;AAEA,SAAO;AACH;;;;;;AAMA72C,SAAK,EAAE,SAAS82C,uBAAT,CAAiC72C,KAAjC,EAAwC;AAC3C,UAAI,OAAOA,KAAK,CAAC82C,UAAb,KAA4B,WAA5B,IAA2C,OAAO92C,KAAK,CAAC,iBAAD,CAAZ,KAAoC,WAAnF,EAAgG;AAC5F,eAAO,KAAK+2C,UAAL,CAAgB/2C,KAAhB,CAAP;AACH,OAFD,MAEO,IAAIA,KAAK,CAACqrB,KAAN,IAAerrB,KAAK,CAACqrB,KAAN,CAAYrpB,KAAZ,CAAkB20C,sBAAlB,CAAnB,EAA8D;AACjE,eAAO,KAAKK,WAAL,CAAiBh3C,KAAjB,CAAP;AACH,OAFM,MAEA,IAAIA,KAAK,CAACqrB,KAAV,EAAiB;AACpB,eAAO,KAAK4rB,eAAL,CAAqBj3C,KAArB,CAAP;AACH,OAFM,MAEA;AACH,cAAM,IAAId,KAAJ,CAAU,iCAAV,CAAN;AACH;AACJ,KAjBE;AAmBH;AACAg4C,mBAAe,EAAE,SAASC,iCAAT,CAA2CC,OAA3C,EAAoD;AACjE;AACA,UAAIA,OAAO,CAACt1C,OAAR,CAAgB,GAAhB,MAAyB,CAAC,CAA9B,EAAiC;AAC7B,eAAO,CAACs1C,OAAD,CAAP;AACH;;AAED,UAAIC,MAAM,GAAG,8BAAb;AACA,UAAIC,KAAK,GAAGD,MAAM,CAACE,IAAP,CAAYH,OAAO,CAACxqC,OAAR,CAAgB,OAAhB,EAAyB,EAAzB,CAAZ,CAAZ;AACA,aAAO,CAAC0qC,KAAK,CAAC,CAAD,CAAN,EAAWA,KAAK,CAAC,CAAD,CAAL,IAAYx6C,SAAvB,EAAkCw6C,KAAK,CAAC,CAAD,CAAL,IAAYx6C,SAA9C,CAAP;AACH,KA7BE;AA+BHk6C,eAAW,EAAE,SAASQ,6BAAT,CAAuCx3C,KAAvC,EAA8C;AACvD,UAAIy3C,QAAQ,GAAGz3C,KAAK,CAACqrB,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,EAAwBsM,MAAxB,CAA+B,UAASwW,IAAT,EAAe;AACzD,eAAO,CAAC,CAACA,IAAI,CAACpsC,KAAL,CAAW20C,sBAAX,CAAT;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOc,QAAQ,CAACnkC,GAAT,CAAa,UAAS86B,IAAT,EAAe;AAC/B,YAAIA,IAAI,CAACtsC,OAAL,CAAa,QAAb,IAAyB,CAAC,CAA9B,EAAiC;AAC7B;AACAssC,cAAI,GAAGA,IAAI,CAACxhC,OAAL,CAAa,YAAb,EAA2B,MAA3B,EAAmCA,OAAnC,CAA2C,8BAA3C,EAA2E,EAA3E,CAAP;AACH;;AACD,YAAI8qC,aAAa,GAAGtJ,IAAI,CAACxhC,OAAL,CAAa,MAAb,EAAqB,EAArB,EAAyBA,OAAzB,CAAiC,cAAjC,EAAiD,GAAjD,CAApB,CAL+B,CAO/B;AACA;;AACA,YAAI+qC,QAAQ,GAAGD,aAAa,CAAC11C,KAAd,CAAoB,0BAApB,CAAf,CAT+B,CAW/B;;AACA01C,qBAAa,GAAGC,QAAQ,GAAGD,aAAa,CAAC9qC,OAAd,CAAsB+qC,QAAQ,CAAC,CAAD,CAA9B,EAAmC,EAAnC,CAAH,GAA4CD,aAApE;AAEA,YAAIE,MAAM,GAAGF,aAAa,CAACpsB,KAAd,CAAoB,KAApB,EAA2BztB,KAA3B,CAAiC,CAAjC,CAAb,CAd+B,CAe/B;;AACA,YAAIg6C,aAAa,GAAG,KAAKX,eAAL,CAAqBS,QAAQ,GAAGA,QAAQ,CAAC,CAAD,CAAX,GAAiBC,MAAM,CAAC31C,GAAP,EAA9C,CAApB;AACA,YAAIwzC,YAAY,GAAGmC,MAAM,CAAC/4C,IAAP,CAAY,GAAZ,KAAoB/B,SAAvC;AACA,YAAIkwB,QAAQ,GAAG,CAAC,MAAD,EAAS,aAAT,EAAwBlrB,OAAxB,CAAgC+1C,aAAa,CAAC,CAAD,CAA7C,IAAoD,CAAC,CAArD,GAAyD/6C,SAAzD,GAAqE+6C,aAAa,CAAC,CAAD,CAAjG;AAEA,eAAO,IAAIpB,UAAJ,CAAe;AAClBhB,sBAAY,EAAEA,YADI;AAElBzoB,kBAAQ,EAAEA,QAFQ;AAGlB6oB,oBAAU,EAAEgC,aAAa,CAAC,CAAD,CAHP;AAIlB/B,sBAAY,EAAE+B,aAAa,CAAC,CAAD,CAJT;AAKlBtjC,gBAAM,EAAE65B;AALU,SAAf,CAAP;AAOH,OA3BM,EA2BJ,IA3BI,CAAP;AA4BH,KAhEE;AAkEH6I,mBAAe,EAAE,SAASa,iCAAT,CAA2C93C,KAA3C,EAAkD;AAC/D,UAAIy3C,QAAQ,GAAGz3C,KAAK,CAACqrB,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,EAAwBsM,MAAxB,CAA+B,UAASwW,IAAT,EAAe;AACzD,eAAO,CAACA,IAAI,CAACpsC,KAAL,CAAW40C,yBAAX,CAAR;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOa,QAAQ,CAACnkC,GAAT,CAAa,UAAS86B,IAAT,EAAe;AAC/B;AACA,YAAIA,IAAI,CAACtsC,OAAL,CAAa,SAAb,IAA0B,CAAC,CAA/B,EAAkC;AAC9BssC,cAAI,GAAGA,IAAI,CAACxhC,OAAL,CAAa,kDAAb,EAAiE,KAAjE,CAAP;AACH;;AAED,YAAIwhC,IAAI,CAACtsC,OAAL,CAAa,GAAb,MAAsB,CAAC,CAAvB,IAA4BssC,IAAI,CAACtsC,OAAL,CAAa,GAAb,MAAsB,CAAC,CAAvD,EAA0D;AACtD;AACA,iBAAO,IAAI20C,UAAJ,CAAe;AAClBhB,wBAAY,EAAErH;AADI,WAAf,CAAP;AAGH,SALD,MAKO;AACH,cAAI2J,iBAAiB,GAAG,4BAAxB;AACA,cAAIh2C,OAAO,GAAGqsC,IAAI,CAACpsC,KAAL,CAAW+1C,iBAAX,CAAd;AACA,cAAItC,YAAY,GAAG1zC,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAlB,GAAwBA,OAAO,CAAC,CAAD,CAA/B,GAAqCjF,SAAxD;AACA,cAAI+6C,aAAa,GAAG,KAAKX,eAAL,CAAqB9I,IAAI,CAACxhC,OAAL,CAAamrC,iBAAb,EAAgC,EAAhC,CAArB,CAApB;AAEA,iBAAO,IAAItB,UAAJ,CAAe;AAClBhB,wBAAY,EAAEA,YADI;AAElBzoB,oBAAQ,EAAE6qB,aAAa,CAAC,CAAD,CAFL;AAGlBhC,sBAAU,EAAEgC,aAAa,CAAC,CAAD,CAHP;AAIlB/B,wBAAY,EAAE+B,aAAa,CAAC,CAAD,CAJT;AAKlBtjC,kBAAM,EAAE65B;AALU,WAAf,CAAP;AAOH;AACJ,OAzBM,EAyBJ,IAzBI,CAAP;AA0BH,KAjGE;AAmGH2I,cAAU,EAAE,SAASiB,4BAAT,CAAsC/iC,CAAtC,EAAyC;AACjD,UAAI,CAACA,CAAC,CAAC6hC,UAAH,IAAkB7hC,CAAC,CAACuN,OAAF,CAAU1gB,OAAV,CAAkB,IAAlB,IAA0B,CAAC,CAA3B,IAClBmT,CAAC,CAACuN,OAAF,CAAU8I,KAAV,CAAgB,IAAhB,EAAsBjvB,MAAtB,GAA+B4Y,CAAC,CAAC6hC,UAAF,CAAaxrB,KAAb,CAAmB,IAAnB,EAAyBjvB,MAD5D,EACqE;AACjE,eAAO,KAAK47C,WAAL,CAAiBhjC,CAAjB,CAAP;AACH,OAHD,MAGO,IAAI,CAACA,CAAC,CAACoW,KAAP,EAAc;AACjB,eAAO,KAAK6sB,YAAL,CAAkBjjC,CAAlB,CAAP;AACH,OAFM,MAEA;AACH,eAAO,KAAKkjC,YAAL,CAAkBljC,CAAlB,CAAP;AACH;AACJ,KA5GE;AA8GHgjC,eAAW,EAAE,SAASG,6BAAT,CAAuCnjC,CAAvC,EAA0C;AACnD,UAAIojC,MAAM,GAAG,mCAAb;AACA,UAAIC,KAAK,GAAGrjC,CAAC,CAACuN,OAAF,CAAU8I,KAAV,CAAgB,IAAhB,CAAZ;AACA,UAAInS,MAAM,GAAG,EAAb;;AAEA,WAAK,IAAI/c,CAAC,GAAG,CAAR,EAAW0Z,GAAG,GAAGwiC,KAAK,CAACj8C,MAA5B,EAAoCD,CAAC,GAAG0Z,GAAxC,EAA6C1Z,CAAC,IAAI,CAAlD,EAAqD;AACjD,YAAI4F,KAAK,GAAGq2C,MAAM,CAACd,IAAP,CAAYe,KAAK,CAACl8C,CAAD,CAAjB,CAAZ;;AACA,YAAI4F,KAAJ,EAAW;AACPmX,gBAAM,CAACjc,IAAP,CAAY,IAAIu5C,UAAJ,CAAe;AACvBzpB,oBAAQ,EAAEhrB,KAAK,CAAC,CAAD,CADQ;AAEvB6zC,sBAAU,EAAE7zC,KAAK,CAAC,CAAD,CAFM;AAGvBuS,kBAAM,EAAE+jC,KAAK,CAACl8C,CAAD;AAHU,WAAf,CAAZ;AAKH;AACJ;;AAED,aAAO+c,MAAP;AACH,KA/HE;AAiIH++B,gBAAY,EAAE,SAASK,8BAAT,CAAwCtjC,CAAxC,EAA2C;AACrD,UAAIojC,MAAM,GAAG,4DAAb;AACA,UAAIC,KAAK,GAAGrjC,CAAC,CAAC6hC,UAAF,CAAaxrB,KAAb,CAAmB,IAAnB,CAAZ;AACA,UAAInS,MAAM,GAAG,EAAb;;AAEA,WAAK,IAAI/c,CAAC,GAAG,CAAR,EAAW0Z,GAAG,GAAGwiC,KAAK,CAACj8C,MAA5B,EAAoCD,CAAC,GAAG0Z,GAAxC,EAA6C1Z,CAAC,IAAI,CAAlD,EAAqD;AACjD,YAAI4F,KAAK,GAAGq2C,MAAM,CAACd,IAAP,CAAYe,KAAK,CAACl8C,CAAD,CAAjB,CAAZ;;AACA,YAAI4F,KAAJ,EAAW;AACPmX,gBAAM,CAACjc,IAAP,CACI,IAAIu5C,UAAJ,CAAe;AACXhB,wBAAY,EAAEzzC,KAAK,CAAC,CAAD,CAAL,IAAYlF,SADf;AAEXkwB,oBAAQ,EAAEhrB,KAAK,CAAC,CAAD,CAFJ;AAGX6zC,sBAAU,EAAE7zC,KAAK,CAAC,CAAD,CAHN;AAIXuS,kBAAM,EAAE+jC,KAAK,CAACl8C,CAAD;AAJF,WAAf,CADJ;AAQH;AACJ;;AAED,aAAO+c,MAAP;AACH,KArJE;AAuJH;AACAg/B,gBAAY,EAAE,SAASK,8BAAT,CAAwCx4C,KAAxC,EAA+C;AACzD,UAAIy3C,QAAQ,GAAGz3C,KAAK,CAACqrB,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,EAAwBsM,MAAxB,CAA+B,UAASwW,IAAT,EAAe;AACzD,eAAO,CAAC,CAACA,IAAI,CAACpsC,KAAL,CAAW00C,2BAAX,CAAF,IAA6C,CAACtI,IAAI,CAACpsC,KAAL,CAAW,mBAAX,CAArD;AACH,OAFc,EAEZ,IAFY,CAAf;AAIA,aAAOy1C,QAAQ,CAACnkC,GAAT,CAAa,UAAS86B,IAAT,EAAe;AAC/B,YAAIwJ,MAAM,GAAGxJ,IAAI,CAAC9iB,KAAL,CAAW,GAAX,CAAb;AACA,YAAIusB,aAAa,GAAG,KAAKX,eAAL,CAAqBU,MAAM,CAAC31C,GAAP,EAArB,CAApB;AACA,YAAIw2C,YAAY,GAAIb,MAAM,CAAC3qC,KAAP,MAAkB,EAAtC;AACA,YAAIwoC,YAAY,GAAGgD,YAAY,CAC1B7rC,OADc,CACN,gCADM,EAC4B,IAD5B,EAEdA,OAFc,CAEN,YAFM,EAEQ,EAFR,KAEe9P,SAFlC;AAGA,YAAI47C,OAAJ;;AACA,YAAID,YAAY,CAACz2C,KAAb,CAAmB,aAAnB,CAAJ,EAAuC;AACnC02C,iBAAO,GAAGD,YAAY,CAAC7rC,OAAb,CAAqB,oBAArB,EAA2C,IAA3C,CAAV;AACH;;AACD,YAAID,IAAI,GAAI+rC,OAAO,KAAK57C,SAAZ,IAAyB47C,OAAO,KAAK,2BAAtC,GACP57C,SADO,GACK47C,OAAO,CAACptB,KAAR,CAAc,GAAd,CADhB;AAGA,eAAO,IAAImrB,UAAJ,CAAe;AAClBhB,sBAAY,EAAEA,YADI;AAElB9oC,cAAI,EAAEA,IAFY;AAGlBqgB,kBAAQ,EAAE6qB,aAAa,CAAC,CAAD,CAHL;AAIlBhC,oBAAU,EAAEgC,aAAa,CAAC,CAAD,CAJP;AAKlB/B,sBAAY,EAAE+B,aAAa,CAAC,CAAD,CALT;AAMlBtjC,gBAAM,EAAE65B;AANU,SAAf,CAAP;AAQH,OAtBM,EAsBJ,IAtBI,CAAP;AAuBH;AApLE,GAAP;AAsLH,CAzMA,CAAD,C;;;;;;;;ACAC,WAAS5iC,IAAT,EAAe8qC,OAAf,EAAwB;AACrB,eADqB,CAErB;;AAEA;;AACA,MAAI,IAAJ,EAAgD;AAC5CC,qCAAqB,EAAf,oCAAmBD,OAAnB;AAAA;AAAA;AAAA,oGAAN;AACH,GAFD,MAEO,EAIN;AACJ,CAZA,EAYC,IAZD,EAYO,YAAW;AACf;;AACA,WAASqC,SAAT,CAAmB9P,CAAnB,EAAsB;AAClB,WAAO,CAAC5kC,KAAK,CAACkJ,UAAU,CAAC07B,CAAD,CAAX,CAAN,IAAyB3kC,QAAQ,CAAC2kC,CAAD,CAAxC;AACH;;AAED,WAAS+P,WAAT,CAAqB7P,GAArB,EAA0B;AACtB,WAAOA,GAAG,CAAC8P,MAAJ,CAAW,CAAX,EAAchN,WAAd,KAA8B9C,GAAG,CAAC+P,SAAJ,CAAc,CAAd,CAArC;AACH;;AAED,WAASC,OAAT,CAAiBjH,CAAjB,EAAoB;AAChB,WAAO,YAAW;AACd,aAAO,KAAKA,CAAL,CAAP;AACH,KAFD;AAGH;;AAED,MAAIkH,YAAY,GAAG,CAAC,eAAD,EAAkB,QAAlB,EAA4B,UAA5B,EAAwC,YAAxC,CAAnB;AACA,MAAIC,YAAY,GAAG,CAAC,cAAD,EAAiB,YAAjB,CAAnB;AACA,MAAIC,WAAW,GAAG,CAAC,UAAD,EAAa,cAAb,EAA6B,QAA7B,CAAlB;AACA,MAAIC,UAAU,GAAG,CAAC,MAAD,CAAjB;AAEA,MAAIlrB,KAAK,GAAG+qB,YAAY,CAACxlC,MAAb,CAAoBylC,YAApB,EAAkCC,WAAlC,EAA+CC,UAA/C,CAAZ;;AAEA,WAAS1C,UAAT,CAAoBn8C,GAApB,EAAyB;AACrB,QAAI,CAACA,GAAL,EAAU;;AACV,SAAK,IAAI8B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6xB,KAAK,CAAC5xB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAI9B,GAAG,CAAC2zB,KAAK,CAAC7xB,CAAD,CAAN,CAAH,KAAkBU,SAAtB,EAAiC;AAC7B,aAAK,QAAQ87C,WAAW,CAAC3qB,KAAK,CAAC7xB,CAAD,CAAN,CAAxB,EAAoC9B,GAAG,CAAC2zB,KAAK,CAAC7xB,CAAD,CAAN,CAAvC;AACH;AACJ;AACJ;;AAEDq6C,YAAU,CAAC98C,SAAX,GAAuB;AACnBy/C,WAAO,EAAE,mBAAW;AAChB,aAAO,KAAKzsC,IAAZ;AACH,KAHkB;AAInB0sC,WAAO,EAAE,iBAAS74C,CAAT,EAAY;AACjB,UAAI9G,MAAM,CAACC,SAAP,CAAiBS,QAAjB,CAA0BwI,IAA1B,CAA+BpC,CAA/B,MAAsC,gBAA1C,EAA4D;AACxD,cAAM,IAAIkZ,SAAJ,CAAc,uBAAd,CAAN;AACH;;AACD,WAAK/M,IAAL,GAAYnM,CAAZ;AACH,KATkB;AAWnB84C,iBAAa,EAAE,yBAAW;AACtB,aAAO,KAAKC,UAAZ;AACH,KAbkB;AAcnBC,iBAAa,EAAE,uBAASh5C,CAAT,EAAY;AACvB,UAAIA,CAAC,YAAYi2C,UAAjB,EAA6B;AACzB,aAAK8C,UAAL,GAAkB/4C,CAAlB;AACH,OAFD,MAEO,IAAIA,CAAC,YAAY9G,MAAjB,EAAyB;AAC5B,aAAK6/C,UAAL,GAAkB,IAAI9C,UAAJ,CAAej2C,CAAf,CAAlB;AACH,OAFM,MAEA;AACH,cAAM,IAAIkZ,SAAJ,CAAc,6CAAd,CAAN;AACH;AACJ,KAtBkB;AAwBnBtf,YAAQ,EAAE,oBAAW;AACjB,UAAI4yB,QAAQ,GAAG,KAAKysB,WAAL,MAAsB,EAArC;AACA,UAAI5D,UAAU,GAAG,KAAK6D,aAAL,MAAwB,EAAzC;AACA,UAAI5D,YAAY,GAAG,KAAK6D,eAAL,MAA0B,EAA7C;AACA,UAAIlE,YAAY,GAAG,KAAKmE,eAAL,MAA0B,EAA7C;;AACA,UAAI,KAAKC,SAAL,EAAJ,EAAsB;AAClB,YAAI7sB,QAAJ,EAAc;AACV,iBAAO,aAAaA,QAAb,GAAwB,GAAxB,GAA8B6oB,UAA9B,GAA2C,GAA3C,GAAiDC,YAAjD,GAAgE,GAAvE;AACH;;AACD,eAAO,YAAYD,UAAZ,GAAyB,GAAzB,GAA+BC,YAAtC;AACH;;AACD,UAAIL,YAAJ,EAAkB;AACd,eAAOA,YAAY,GAAG,IAAf,GAAsBzoB,QAAtB,GAAiC,GAAjC,GAAuC6oB,UAAvC,GAAoD,GAApD,GAA0DC,YAA1D,GAAyE,GAAhF;AACH;;AACD,aAAO9oB,QAAQ,GAAG,GAAX,GAAiB6oB,UAAjB,GAA8B,GAA9B,GAAoCC,YAA3C;AACH;AAvCkB,GAAvB;;AA0CAW,YAAU,CAACqD,UAAX,GAAwB,SAASC,sBAAT,CAAgChR,GAAhC,EAAqC;AACzD,QAAIiR,cAAc,GAAGjR,GAAG,CAACjnC,OAAJ,CAAY,GAAZ,CAArB;AACA,QAAIm4C,YAAY,GAAGlR,GAAG,CAACnI,WAAJ,CAAgB,GAAhB,CAAnB;AAEA,QAAI6U,YAAY,GAAG1M,GAAG,CAAC+P,SAAJ,CAAc,CAAd,EAAiBkB,cAAjB,CAAnB;AACA,QAAIrtC,IAAI,GAAGo8B,GAAG,CAAC+P,SAAJ,CAAckB,cAAc,GAAG,CAA/B,EAAkCC,YAAlC,EAAgD3uB,KAAhD,CAAsD,GAAtD,CAAX;AACA,QAAI4uB,cAAc,GAAGnR,GAAG,CAAC+P,SAAJ,CAAcmB,YAAY,GAAG,CAA7B,CAArB;;AAEA,QAAIC,cAAc,CAACp4C,OAAf,CAAuB,GAAvB,MAAgC,CAApC,EAAuC;AACnC,UAAIw1C,KAAK,GAAG,gCAAgCC,IAAhC,CAAqC2C,cAArC,EAAqD,EAArD,CAAZ;AACA,UAAIltB,QAAQ,GAAGsqB,KAAK,CAAC,CAAD,CAApB;AACA,UAAIzB,UAAU,GAAGyB,KAAK,CAAC,CAAD,CAAtB;AACA,UAAIxB,YAAY,GAAGwB,KAAK,CAAC,CAAD,CAAxB;AACH;;AAED,WAAO,IAAIb,UAAJ,CAAe;AAClBhB,kBAAY,EAAEA,YADI;AAElB9oC,UAAI,EAAEA,IAAI,IAAI7P,SAFI;AAGlBkwB,cAAQ,EAAEA,QAHQ;AAIlB6oB,gBAAU,EAAEA,UAAU,IAAI/4C,SAJR;AAKlBg5C,kBAAY,EAAEA,YAAY,IAAIh5C;AALZ,KAAf,CAAP;AAOH,GAtBD;;AAwBA,OAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG48C,YAAY,CAAC38C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1Cq6C,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACI,YAAY,CAAC58C,CAAD,CAAb,CAAxC,IAA6D28C,OAAO,CAACC,YAAY,CAAC58C,CAAD,CAAb,CAApE;;AACAq6C,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACI,YAAY,CAAC58C,CAAD,CAAb,CAAxC,IAA8D,UAAS01C,CAAT,EAAY;AACtE,aAAO,UAAStxC,CAAT,EAAY;AACf,aAAKsxC,CAAL,IAAUlZ,OAAO,CAACp4B,CAAD,CAAjB;AACH,OAFD;AAGH,KAJ4D,CAI1Dw4C,YAAY,CAAC58C,CAAD,CAJ8C,CAA7D;AAKH;;AAED,OAAK,IAAI21B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGknB,YAAY,CAAC58C,MAAjC,EAAyC01B,CAAC,EAA1C,EAA8C;AAC1C0kB,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACK,YAAY,CAAClnB,CAAD,CAAb,CAAxC,IAA6DgnB,OAAO,CAACE,YAAY,CAAClnB,CAAD,CAAb,CAApE;;AACA0kB,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACK,YAAY,CAAClnB,CAAD,CAAb,CAAxC,IAA8D,UAAS+f,CAAT,EAAY;AACtE,aAAO,UAAStxC,CAAT,EAAY;AACf,YAAI,CAACm4C,SAAS,CAACn4C,CAAD,CAAd,EAAmB;AACf,gBAAM,IAAIkZ,SAAJ,CAAco4B,CAAC,GAAG,mBAAlB,CAAN;AACH;;AACD,aAAKA,CAAL,IAAU9tC,MAAM,CAACxD,CAAD,CAAhB;AACH,OALD;AAMH,KAP4D,CAO1Dy4C,YAAY,CAAClnB,CAAD,CAP8C,CAA7D;AAQH;;AAED,OAAK,IAAIyW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0Q,WAAW,CAAC78C,MAAhC,EAAwCmsC,CAAC,EAAzC,EAA6C;AACzCiO,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACM,WAAW,CAAC1Q,CAAD,CAAZ,CAAxC,IAA4DuQ,OAAO,CAACG,WAAW,CAAC1Q,CAAD,CAAZ,CAAnE;;AACAiO,cAAU,CAAC98C,SAAX,CAAqB,QAAQi/C,WAAW,CAACM,WAAW,CAAC1Q,CAAD,CAAZ,CAAxC,IAA6D,UAASsJ,CAAT,EAAY;AACrE,aAAO,UAAStxC,CAAT,EAAY;AACf,aAAKsxC,CAAL,IAAUv1C,MAAM,CAACiE,CAAD,CAAhB;AACH,OAFD;AAGH,KAJ2D,CAIzD04C,WAAW,CAAC1Q,CAAD,CAJ8C,CAA5D;AAKH;;AAED,SAAOiO,UAAP;AACH,CA7IA,CAAD,C;;;;;;;ACAa;;AAEb,IAAIt1C,IAAJ,EAA2C;AACzCkN,QAAM,CAACC,OAAP,GAAiBC,mBAAO,CAAC,EAAD,CAAxB;AACD,CAFD,MAEO,E;;;;;;;ACJP;;;;;;;;;AASa;;;;AAAA,IAAIi7B,CAAC,GAAC3mC,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAN;AAAA,IAAkCoE,CAAC,GAAChmC,MAAM,CAAC4hC,GAAP,CAAW,cAAX,CAApC;AAAA,IAA+DqN,CAAC,GAACjvC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAjE;AAAA,IAA8FuN,CAAC,GAACnvC,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAhG;AAAA,IAAgI2N,CAAC,GAACvvC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAlI;AAAA,IAA+JwN,CAAC,GAACpvC,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAAjK;AAAA,IAA8LyN,CAAC,GAACrvC,MAAM,CAAC4hC,GAAP,CAAW,eAAX,CAAhM;AAAA,IAA4NjkC,CAAC,GAACqC,MAAM,CAAC4hC,GAAP,CAAW,sBAAX,CAA9N;AAAA,IAAiQ0N,CAAC,GAACtvC,MAAM,CAAC4hC,GAAP,CAAW,mBAAX,CAAnQ;AAAA,IAAmSvpB,CAAC,GAACrY,MAAM,CAAC4hC,GAAP,CAAW,gBAAX,CAArS;AAAA,IAAkUtpB,CAAC,GAACtY,MAAM,CAAC4hC,GAAP,CAAW,qBAAX,CAApU;AAAA,IAAsW6O,CAAC,GAACzwC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAxW;AAAA,IAAiY8O,CAAC,GAAC1wC,MAAM,CAAC4hC,GAAP,CAAW,YAAX,CAAnY;AAAA,IAA4Z0V,EAAE,GAACt3C,MAAM,CAAC4hC,GAAP,CAAW,wBAAX,CAA/Z;AAAA,IAAoc2V,EAAE,GAACv3C,MAAM,CAAC4hC,GAAP,CAAW,iBAAX,CAAvc;AAAA,IAAqe4V,EAAE,GACpfx3C,MAAM,CAAC4hC,GAAP,CAAW,aAAX,CADa;AAAA,IACa6P,CAAC,GAACzxC,MAAM,CAAC4hC,GAAP,CAAW,qBAAX,CADf;AAAA,IACiD8P,CAAC,GAAC1xC,MAAM,CAACC,QAD1D;;AACmE,SAASw3C,EAAT,CAAYpgD,CAAZ,EAAc;AAAC,MAAG,SAAOA,CAAP,IAAU,qBAAkBA,CAAlB,CAAb,EAAiC,OAAO,IAAP;AAAYA,GAAC,GAACq6C,CAAC,IAAEr6C,CAAC,CAACq6C,CAAD,CAAJ,IAASr6C,CAAC,CAAC,YAAD,CAAZ;AAA2B,SAAM,eAAa,OAAOA,CAApB,GAAsBA,CAAtB,GAAwB,IAA9B;AAAmC;;AAAA,IAAIg7C,CAAC,GAAC;AAAC9c,WAAS,EAAC,qBAAU;AAAC,WAAM,CAAC,CAAP;AAAS,GAA/B;AAAgCmiB,oBAAkB,EAAC,8BAAU,CAAE,CAA/D;AAAgEC,qBAAmB,EAAC,+BAAU,CAAE,CAAhG;AAAiGC,iBAAe,EAAC,2BAAU,CAAE;AAA7H,CAAN;AAAA,IAAqItF,CAAC,GAACz7C,MAAM,CAAC05C,MAA9I;AAAA,IAAqJiC,CAAC,GAAC,EAAvJ;;AAA0J,SAASC,CAAT,CAAWp7C,CAAX,EAAaC,CAAb,EAAeqpC,CAAf,EAAiB;AAAC,OAAKvV,KAAL,GAAW/zB,CAAX;AAAa,OAAKguB,OAAL,GAAa/tB,CAAb;AAAe,OAAKugD,IAAL,GAAUrF,CAAV;AAAY,OAAKsF,OAAL,GAAanX,CAAC,IAAE0R,CAAhB;AAAkB;;AAAAI,CAAC,CAAC37C,SAAF,CAAYqqC,gBAAZ,GAA6B,EAA7B;;AAChbsR,CAAC,CAAC37C,SAAF,CAAYihD,QAAZ,GAAqB,UAAS1gD,CAAT,EAAWC,CAAX,EAAa;AAAC,MAAG,qBAAkBD,CAAlB,KAAqB,eAAa,OAAOA,CAAzC,IAA4C,QAAMA,CAArD,EAAuD,MAAMgF,KAAK,CAAC,uHAAD,CAAX;AAAqI,OAAKy7C,OAAL,CAAaF,eAAb,CAA6B,IAA7B,EAAkCvgD,CAAlC,EAAoCC,CAApC,EAAsC,UAAtC;AAAkD,CAAjR;;AAAkRm7C,CAAC,CAAC37C,SAAF,CAAY0kC,WAAZ,GAAwB,UAASnkC,CAAT,EAAW;AAAC,OAAKygD,OAAL,CAAaJ,kBAAb,CAAgC,IAAhC,EAAqCrgD,CAArC,EAAuC,aAAvC;AAAsD,CAA1F;;AAA2F,SAASq7C,CAAT,GAAY,CAAE;;AAAAA,CAAC,CAAC57C,SAAF,GAAY27C,CAAC,CAAC37C,SAAd;;AAAwB,SAAS67C,CAAT,CAAWt7C,CAAX,EAAaC,CAAb,EAAeqpC,CAAf,EAAiB;AAAC,OAAKvV,KAAL,GAAW/zB,CAAX;AAAa,OAAKguB,OAAL,GAAa/tB,CAAb;AAAe,OAAKugD,IAAL,GAAUrF,CAAV;AAAY,OAAKsF,OAAL,GAAanX,CAAC,IAAE0R,CAAhB;AAAkB;;AAAA,IAAIa,CAAC,GAACP,CAAC,CAAC77C,SAAF,GAAY,IAAI47C,CAAJ,EAAlB;AAC/dQ,CAAC,CAAC1xC,WAAF,GAAcmxC,CAAd;AAAgBL,CAAC,CAACY,CAAD,EAAGT,CAAC,CAAC37C,SAAL,CAAD;AAAiBo8C,CAAC,CAAC8E,oBAAF,GAAuB,CAAC,CAAxB;AAA0B,IAAI7E,CAAC,GAACjzC,KAAK,CAACK,OAAZ;AAAA,IAAoB6yC,CAAC,GAACv8C,MAAM,CAACC,SAAP,CAAiBF,cAAvC;AAAA,IAAsD08C,CAAC,GAAC;AAAC17C,SAAO,EAAC;AAAT,CAAxD;AAAA,IAAuEqgD,CAAC,GAAC;AAAC//C,KAAG,EAAC,CAAC,CAAN;AAAQ+1B,KAAG,EAAC,CAAC,CAAb;AAAeiqB,QAAM,EAAC,CAAC,CAAvB;AAAyBC,UAAQ,EAAC,CAAC;AAAnC,CAAzE;;AAC3D,SAASC,CAAT,CAAW/gD,CAAX,EAAaC,CAAb,EAAeqpC,CAAf,EAAiB;AAAC,MAAImL,CAAJ;AAAA,MAAM15B,CAAC,GAAC,EAAR;AAAA,MAAW21B,CAAC,GAAC,IAAb;AAAA,MAAkBzE,CAAC,GAAC,IAApB;AAAyB,MAAG,QAAMhsC,CAAT,EAAW,KAAIw0C,CAAJ,IAAS,KAAK,CAAL,KAASx0C,CAAC,CAAC22B,GAAX,KAAiBqV,CAAC,GAAChsC,CAAC,CAAC22B,GAArB,GAA0B,KAAK,CAAL,KAAS32B,CAAC,CAACY,GAAX,KAAiB6vC,CAAC,GAAC,KAAGzwC,CAAC,CAACY,GAAxB,CAA1B,EAAuDZ,CAAhE;AAAkE87C,KAAC,CAACrzC,IAAF,CAAOzI,CAAP,EAASw0C,CAAT,KAAa,CAACmM,CAAC,CAACrhD,cAAF,CAAiBk1C,CAAjB,CAAd,KAAoC15B,CAAC,CAAC05B,CAAD,CAAD,GAAKx0C,CAAC,CAACw0C,CAAD,CAA1C;AAAlE;AAAiH,MAAIjG,CAAC,GAACzyB,SAAS,CAAC5Z,MAAV,GAAiB,CAAvB;AAAyB,MAAG,MAAIqsC,CAAP,EAASzzB,CAAC,CAACrW,QAAF,GAAW4kC,CAAX,CAAT,KAA2B,IAAG,IAAEkF,CAAL,EAAO;AAAC,SAAI,IAAIF,CAAC,GAACzlC,KAAK,CAAC2lC,CAAD,CAAX,EAAeqJ,CAAC,GAAC,CAArB,EAAuBA,CAAC,GAACrJ,CAAzB,EAA2BqJ,CAAC,EAA5B;AAA+BvJ,OAAC,CAACuJ,CAAD,CAAD,GAAK97B,SAAS,CAAC87B,CAAC,GAAC,CAAH,CAAd;AAA/B;;AAAmD98B,KAAC,CAACrW,QAAF,GAAW4pC,CAAX;AAAa;AAAA,MAAGtuC,CAAC,IAAEA,CAAC,CAACm8C,YAAR,EAAqB,KAAI1H,CAAJ,IAASjG,CAAC,GAACxuC,CAAC,CAACm8C,YAAJ,EAAiB3N,CAA1B;AAA4B,SAAK,CAAL,KAASzzB,CAAC,CAAC05B,CAAD,CAAV,KAAgB15B,CAAC,CAAC05B,CAAD,CAAD,GAAKjG,CAAC,CAACiG,CAAD,CAAtB;AAA5B;AAAuD,SAAM;AAACnnB,YAAQ,EAACgiB,CAAV;AAAY9tC,QAAI,EAACxB,CAAjB;AAAmBa,OAAG,EAAC6vC,CAAvB;AAAyB9Z,OAAG,EAACqV,CAA7B;AAA+BlY,SAAK,EAAChZ,CAArC;AAAuCimC,UAAM,EAAC/E,CAAC,CAAC17C;AAAhD,GAAN;AAA+D;;AAC9a,SAAS0gD,EAAT,CAAYjhD,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAM;AAACqtB,YAAQ,EAACgiB,CAAV;AAAY9tC,QAAI,EAACxB,CAAC,CAACwB,IAAnB;AAAwBX,OAAG,EAACZ,CAA5B;AAA8B22B,OAAG,EAAC52B,CAAC,CAAC42B,GAApC;AAAwC7C,SAAK,EAAC/zB,CAAC,CAAC+zB,KAAhD;AAAsDitB,UAAM,EAAChhD,CAAC,CAACghD;AAA/D,GAAN;AAA6E;;AAAA,SAASE,CAAT,CAAWlhD,CAAX,EAAa;AAAC,SAAM,qBAAkBA,CAAlB,KAAqB,SAAOA,CAA5B,IAA+BA,CAAC,CAACstB,QAAF,KAAagiB,CAAlD;AAAoD;;AAAA,SAAS6R,MAAT,CAAgBnhD,CAAhB,EAAkB;AAAC,MAAIC,CAAC,GAAC;AAAC,SAAI,IAAL;AAAU,SAAI;AAAd,GAAN;AAA0B,SAAM,MAAID,CAAC,CAAC0S,OAAF,CAAU,OAAV,EAAkB,UAAS42B,CAAT,EAAW;AAAC,WAAOrpC,CAAC,CAACqpC,CAAD,CAAR;AAAY,GAA1C,CAAV;AAAsD;;AAAA,IAAI8X,CAAC,GAAC,MAAN;;AAAa,SAASC,CAAT,CAAWrhD,CAAX,EAAaC,CAAb,EAAe;AAAC,SAAM,qBAAkBD,CAAlB,KAAqB,SAAOA,CAA5B,IAA+B,QAAMA,CAAC,CAACa,GAAvC,GAA2CsgD,MAAM,CAAC,KAAGnhD,CAAC,CAACa,GAAN,CAAjD,GAA4DZ,CAAC,CAACC,QAAF,CAAW,EAAX,CAAlE;AAAiF;;AACjX,SAASohD,CAAT,CAAWthD,CAAX,EAAaC,CAAb,EAAeqpC,CAAf,EAAiBmL,CAAjB,EAAmB15B,CAAnB,EAAqB;AAAC,MAAI21B,CAAC,WAAQ1wC,CAAR,CAAL;;AAAe,MAAG,gBAAc0wC,CAAd,IAAiB,cAAYA,CAAhC,EAAkC1wC,CAAC,GAAC,IAAF;AAAO,MAAIisC,CAAC,GAAC,CAAC,CAAP;AAAS,MAAG,SAAOjsC,CAAV,EAAYisC,CAAC,GAAC,CAAC,CAAH,CAAZ,KAAsB,QAAOyE,CAAP;AAAU,SAAK,QAAL;AAAc,SAAK,QAAL;AAAczE,OAAC,GAAC,CAAC,CAAH;AAAK;;AAAM,SAAK,QAAL;AAAc,cAAOjsC,CAAC,CAACstB,QAAT;AAAmB,aAAKgiB,CAAL;AAAO,aAAKX,CAAL;AAAO1C,WAAC,GAAC,CAAC,CAAH;AAAjC;;AAA/D;AAAsG,MAAGA,CAAH,EAAK,OAAOA,CAAC,GAACjsC,CAAF,EAAI+a,CAAC,GAACA,CAAC,CAACkxB,CAAD,CAAP,EAAWjsC,CAAC,GAAC,OAAKy0C,CAAL,GAAO,MAAI4M,CAAC,CAACpV,CAAD,EAAG,CAAH,CAAZ,GAAkBwI,CAA/B,EAAiCqH,CAAC,CAAC/gC,CAAD,CAAD,IAAMuuB,CAAC,GAAC,EAAF,EAAK,QAAMtpC,CAAN,KAAUspC,CAAC,GAACtpC,CAAC,CAAC0S,OAAF,CAAU0uC,CAAV,EAAY,KAAZ,IAAmB,GAA/B,CAAL,EAAyCE,CAAC,CAACvmC,CAAD,EAAG9a,CAAH,EAAKqpC,CAAL,EAAO,EAAP,EAAU,UAASuO,CAAT,EAAW;AAAC,WAAOA,CAAP;AAAS,GAA/B,CAAhD,IAAkF,QAAM98B,CAAN,KAAUmmC,CAAC,CAACnmC,CAAD,CAAD,KAAOA,CAAC,GAACkmC,EAAE,CAAClmC,CAAD,EAAGuuB,CAAC,IAAE,CAACvuB,CAAC,CAACla,GAAH,IAAQorC,CAAC,IAAEA,CAAC,CAACprC,GAAF,KAAQka,CAAC,CAACla,GAArB,GAAyB,EAAzB,GAA4B,CAAC,KAAGka,CAAC,CAACla,GAAN,EAAW6R,OAAX,CAAmB0uC,CAAnB,EAAqB,KAArB,IAA4B,GAA1D,CAAD,GAAgEphD,CAAnE,CAAX,GAAkFC,CAAC,CAAC+C,IAAF,CAAO+X,CAAP,CAA5F,CAAnH,EAA0N,CAAjO;AAAmOkxB,GAAC,GAAC,CAAF;AAAIwI,GAAC,GAAC,OAAKA,CAAL,GAAO,GAAP,GAAWA,CAAC,GAAC,GAAf;AAAmB,MAAGqH,CAAC,CAAC97C,CAAD,CAAJ,EAAQ,KAAI,IAAIwuC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACxuC,CAAC,CAACmC,MAAhB,EAAuBqsC,CAAC,EAAxB,EAA2B;AAACkC,KAAC,GACvf1wC,CAAC,CAACwuC,CAAD,CADqf;AACjf,QAAIF,CAAC,GAACmG,CAAC,GAAC4M,CAAC,CAAC3Q,CAAD,EAAGlC,CAAH,CAAT;AAAevC,KAAC,IAAEqV,CAAC,CAAC5Q,CAAD,EAAGzwC,CAAH,EAAKqpC,CAAL,EAAOgF,CAAP,EAASvzB,CAAT,CAAJ;AAAgB,GAD8a,MACza,IAAGuzB,CAAC,GAAC8R,EAAE,CAACpgD,CAAD,CAAJ,EAAQ,eAAa,OAAOsuC,CAA/B,EAAiC,KAAItuC,CAAC,GAACsuC,CAAC,CAAC5lC,IAAF,CAAO1I,CAAP,CAAF,EAAYwuC,CAAC,GAAC,CAAlB,EAAoB,CAAC,CAACkC,CAAC,GAAC1wC,CAAC,CAACkI,IAAF,EAAH,EAAaq5C,IAAlC;AAAwC7Q,KAAC,GAACA,CAAC,CAACrrC,KAAJ,EAAUipC,CAAC,GAACmG,CAAC,GAAC4M,CAAC,CAAC3Q,CAAD,EAAGlC,CAAC,EAAJ,CAAf,EAAuBvC,CAAC,IAAEqV,CAAC,CAAC5Q,CAAD,EAAGzwC,CAAH,EAAKqpC,CAAL,EAAOgF,CAAP,EAASvzB,CAAT,CAA3B;AAAxC,GAAjC,MAAqH,IAAG,aAAW21B,CAAd,EAAgB,MAAMzwC,CAAC,GAACoC,MAAM,CAACrC,CAAD,CAAR,EAAYgF,KAAK,CAAC,qDAAmD,sBAAoB/E,CAApB,GAAsB,uBAAqBT,MAAM,CAACa,IAAP,CAAYL,CAAZ,EAAe2E,IAAf,CAAoB,IAApB,CAArB,GAA+C,GAArE,GAAyE1E,CAA5H,IAA+H,2EAAhI,CAAvB;AAAoO,SAAOgsC,CAAP;AAAS;;AAC3Z,SAASuV,CAAT,CAAWxhD,CAAX,EAAaC,CAAb,EAAeqpC,CAAf,EAAiB;AAAC,MAAG,QAAMtpC,CAAT,EAAW,OAAOA,CAAP;AAAS,MAAIy0C,CAAC,GAAC,EAAN;AAAA,MAAS15B,CAAC,GAAC,CAAX;AAAaumC,GAAC,CAACthD,CAAD,EAAGy0C,CAAH,EAAK,EAAL,EAAQ,EAAR,EAAW,UAAS/D,CAAT,EAAW;AAAC,WAAOzwC,CAAC,CAACyI,IAAF,CAAO4gC,CAAP,EAASoH,CAAT,EAAW31B,CAAC,EAAZ,CAAP;AAAuB,GAA9C,CAAD;AAAiD,SAAO05B,CAAP;AAAS;;AAAA,SAASgN,EAAT,CAAYzhD,CAAZ,EAAc;AAAC,MAAG,CAAC,CAAD,KAAKA,CAAC,CAAC0hD,OAAV,EAAkB;AAAC,QAAIzhD,CAAC,GAACD,CAAC,CAAC2hD,OAAR;AAAgB1hD,KAAC,GAACA,CAAC,EAAH;AAAMA,KAAC,CAACkpB,IAAF,CAAO,UAASmgB,CAAT,EAAW;AAAC,UAAG,MAAItpC,CAAC,CAAC0hD,OAAN,IAAe,CAAC,CAAD,KAAK1hD,CAAC,CAAC0hD,OAAzB,EAAiC1hD,CAAC,CAAC0hD,OAAF,GAAU,CAAV,EAAY1hD,CAAC,CAAC2hD,OAAF,GAAUrY,CAAtB;AAAwB,KAA5E,EAA6E,UAASA,CAAT,EAAW;AAAC,UAAG,MAAItpC,CAAC,CAAC0hD,OAAN,IAAe,CAAC,CAAD,KAAK1hD,CAAC,CAAC0hD,OAAzB,EAAiC1hD,CAAC,CAAC0hD,OAAF,GAAU,CAAV,EAAY1hD,CAAC,CAAC2hD,OAAF,GAAUrY,CAAtB;AAAwB,KAAlJ;AAAoJ,KAAC,CAAD,KAAKtpC,CAAC,CAAC0hD,OAAP,KAAiB1hD,CAAC,CAAC0hD,OAAF,GAAU,CAAV,EAAY1hD,CAAC,CAAC2hD,OAAF,GAAU1hD,CAAvC;AAA0C;;AAAA,MAAG,MAAID,CAAC,CAAC0hD,OAAT,EAAiB,OAAO1hD,CAAC,CAAC2hD,OAAF,CAAUC,OAAjB;AAAyB,QAAM5hD,CAAC,CAAC2hD,OAAR;AAAiB;;AAAA,IAAIE,CAAC,GAAC;AAACthD,SAAO,EAAC;AAAT,CAAN;;AAAqB,SAASuhD,EAAT,GAAa;AAAC,SAAO,IAAIniD,OAAJ,EAAP;AAAmB;;AACpd,SAASoiD,CAAT,GAAY;AAAC,SAAM;AAAC37C,KAAC,EAAC,CAAH;AAAKE,KAAC,EAAC,KAAK,CAAZ;AAAcsuC,KAAC,EAAC,IAAhB;AAAqBgD,KAAC,EAAC;AAAvB,GAAN;AAAmC;;AAAA,IAAIoK,CAAC,GAAC;AAACzhD,SAAO,EAAC;AAAT,CAAN;AAAA,IAAqB0hD,CAAC,GAAC;AAACC,YAAU,EAAC;AAAZ,CAAvB;AAAA,IAAyCC,CAAC,GAAC;AAACnG,wBAAsB,EAACgG,CAAxB;AAA0BI,mBAAiB,EAACP,CAA5C;AAA8CQ,yBAAuB,EAACJ,CAAtE;AAAwEK,mBAAiB,EAACrG,CAA1F;AAA4FsG,iBAAe,EAAC;AAA5G,CAA3C;AAAA,IAA2JC,CAAC,GAACL,CAAC,CAACI,eAA/J;AAChDnuC,OAAO,CAACquC,QAAR,GAAiB;AAACrpC,KAAG,EAACooC,CAAL;AAAO5gD,SAAO,EAAC,iBAASZ,CAAT,EAAWC,CAAX,EAAaqpC,CAAb,EAAe;AAACkY,KAAC,CAACxhD,CAAD,EAAG,YAAU;AAACC,OAAC,CAACgc,KAAF,CAAQ,IAAR,EAAaF,SAAb;AAAwB,KAAtC,EAAuCutB,CAAvC,CAAD;AAA2C,GAA1E;AAA2E1Y,OAAK,EAAC,eAAS5wB,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC,CAAN;AAAQuhD,KAAC,CAACxhD,CAAD,EAAG,YAAU;AAACC,OAAC;AAAG,KAAlB,CAAD;AAAqB,WAAOA,CAAP;AAAS,GAAnI;AAAoIouC,SAAO,EAAC,iBAASruC,CAAT,EAAW;AAAC,WAAOwhD,CAAC,CAACxhD,CAAD,EAAG,UAASC,CAAT,EAAW;AAAC,aAAOA,CAAP;AAAS,KAAxB,CAAD,IAA4B,EAAnC;AAAsC,GAA9L;AAA+LyiD,MAAI,EAAC,cAAS1iD,CAAT,EAAW;AAAC,QAAG,CAACkhD,CAAC,CAAClhD,CAAD,CAAL,EAAS,MAAMgF,KAAK,CAAC,uEAAD,CAAX;AAAqF,WAAOhF,CAAP;AAAS;AAAvT,CAAjB;AAA0UoU,OAAO,CAACy1B,SAAR,GAAkBuR,CAAlB;AAAoBhnC,OAAO,CAACvJ,QAAR,GAAiB+sC,CAAjB;AAAmBxjC,OAAO,CAACnJ,QAAR,GAAiBitC,CAAjB;AAAmB9jC,OAAO,CAACuuC,aAAR,GAAsBrH,CAAtB;AAAwBlnC,OAAO,CAAClJ,UAAR,GAAmB4sC,CAAnB;AAAqB1jC,OAAO,CAACjJ,QAAR,GAAiB6V,CAAjB;AAAmB5M,OAAO,CAAChJ,YAAR,GAAqB6V,CAArB;AACpc7M,OAAO,CAAC+kC,kDAAR,GAA2DgJ,CAA3D;;AACA/tC,OAAO,CAACxC,KAAR,GAAc,UAAS5R,CAAT,EAAW;AAAC,SAAO,YAAU;AAAC,QAAIC,CAAC,GAAC4hD,CAAC,CAACthD,OAAR;AAAgB,QAAG,CAACN,CAAJ,EAAM,OAAOD,CAAC,CAACic,KAAF,CAAQ,IAAR,EAAaF,SAAb,CAAP;AAA+B,QAAIutB,CAAC,GAACrpC,CAAC,CAAC2iD,eAAF,CAAkBd,EAAlB,CAAN;AAA4B7hD,KAAC,GAACqpC,CAAC,CAAC5nC,GAAF,CAAM1B,CAAN,CAAF;AAAW,SAAK,CAAL,KAASC,CAAT,KAAaA,CAAC,GAAC8hD,CAAC,EAAH,EAAMzY,CAAC,CAAC1nC,GAAF,CAAM5B,CAAN,EAAQC,CAAR,CAAnB;AAA+BqpC,KAAC,GAAC,CAAF;;AAAI,SAAI,IAAImL,CAAC,GAAC14B,SAAS,CAAC5Z,MAApB,EAA2BmnC,CAAC,GAACmL,CAA7B,EAA+BnL,CAAC,EAAhC,EAAmC;AAAC,UAAIvuB,CAAC,GAACgB,SAAS,CAACutB,CAAD,CAAf;;AAAmB,UAAG,eAAa,OAAOvuB,CAApB,IAAuB,qBAAkBA,CAAlB,KAAqB,SAAOA,CAAtD,EAAwD;AAAC,YAAI21B,CAAC,GAACzwC,CAAC,CAAC20C,CAAR;AAAU,iBAAOlE,CAAP,KAAWzwC,CAAC,CAAC20C,CAAF,GAAIlE,CAAC,GAAC,IAAI/wC,OAAJ,EAAjB;AAA8BM,SAAC,GAACywC,CAAC,CAAChvC,GAAF,CAAMqZ,CAAN,CAAF;AAAW,aAAK,CAAL,KAAS9a,CAAT,KAAaA,CAAC,GAAC8hD,CAAC,EAAH,EAAMrR,CAAC,CAAC9uC,GAAF,CAAMmZ,CAAN,EAAQ9a,CAAR,CAAnB;AAA+B,OAA3I,MAAgJywC,CAAC,GAACzwC,CAAC,CAAC23C,CAAJ,EAAM,SAAOlH,CAAP,KAAWzwC,CAAC,CAAC23C,CAAF,GAAIlH,CAAC,GAAC,IAAIt7B,GAAJ,EAAjB,CAAN,EAAgCnV,CAAC,GAACywC,CAAC,CAAChvC,GAAF,CAAMqZ,CAAN,CAAlC,EAA2C,KAAK,CAAL,KAAS9a,CAAT,KAAaA,CAAC,GAAC8hD,CAAC,EAAH,EAAMrR,CAAC,CAAC9uC,GAAF,CAAMmZ,CAAN,EAAQ9a,CAAR,CAAnB,CAA3C;AAA0E;;AAAA,QAAG,MAAIA,CAAC,CAACmG,CAAT,EAAW,OAAOnG,CAAC,CAACqG,CAAT;AAAW,QAAG,MAAIrG,CAAC,CAACmG,CAAT,EAAW,MAAMnG,CAAC,CAACqG,CAAR;;AAAU,QAAG;AAAC,UAAI2lC,CAAC,GAACjsC,CAAC,CAACic,KAAF,CAAQ,IAAR,EACjfF,SADif,CAAN;AACheutB,OAAC,GAACrpC,CAAF;AAAIqpC,OAAC,CAACljC,CAAF,GAAI,CAAJ;AAAM,aAAOkjC,CAAC,CAAChjC,CAAF,GAAI2lC,CAAX;AAAa,KADqc,CACrc,OAAMuC,CAAN,EAAQ;AAAC,YAAMvC,CAAC,GAAChsC,CAAF,EAAIgsC,CAAC,CAAC7lC,CAAF,GAAI,CAAR,EAAU6lC,CAAC,CAAC3lC,CAAF,GAAIkoC,CAAd,EAAgBA,CAAtB;AAAyB;AAAC,GAD3C;AAC4C,CADtE;;AAEAp6B,OAAO,CAACyuC,YAAR,GAAqB,UAAS7iD,CAAT,EAAWC,CAAX,EAAaqpC,CAAb,EAAe;AAAC,MAAG,SAAOtpC,CAAP,IAAU,KAAK,CAAL,KAASA,CAAtB,EAAwB,MAAMgF,KAAK,CAAC,mFAAiFhF,CAAjF,GAAmF,GAApF,CAAX;AAAoG,MAAIy0C,CAAC,GAACwG,CAAC,CAAC,EAAD,EAAIj7C,CAAC,CAAC+zB,KAAN,CAAP;AAAA,MAAoBhZ,CAAC,GAAC/a,CAAC,CAACa,GAAxB;AAAA,MAA4B6vC,CAAC,GAAC1wC,CAAC,CAAC42B,GAAhC;AAAA,MAAoCqV,CAAC,GAACjsC,CAAC,CAACghD,MAAxC;;AAA+C,MAAG,QAAM/gD,CAAT,EAAW;AAAC,SAAK,CAAL,KAASA,CAAC,CAAC22B,GAAX,KAAiB8Z,CAAC,GAACzwC,CAAC,CAAC22B,GAAJ,EAAQqV,CAAC,GAACgQ,CAAC,CAAC17C,OAA7B;AAAsC,SAAK,CAAL,KAASN,CAAC,CAACY,GAAX,KAAiBka,CAAC,GAAC,KAAG9a,CAAC,CAACY,GAAxB;AAA6B,QAAGb,CAAC,CAACwB,IAAF,IAAQxB,CAAC,CAACwB,IAAF,CAAO26C,YAAlB,EAA+B,IAAI3N,CAAC,GAACxuC,CAAC,CAACwB,IAAF,CAAO26C,YAAb;;AAA0B,SAAI7N,CAAJ,IAASruC,CAAT;AAAW87C,OAAC,CAACrzC,IAAF,CAAOzI,CAAP,EAASquC,CAAT,KAAa,CAACsS,CAAC,CAACrhD,cAAF,CAAiB+uC,CAAjB,CAAd,KAAoCmG,CAAC,CAACnG,CAAD,CAAD,GAAK,KAAK,CAAL,KAASruC,CAAC,CAACquC,CAAD,CAAV,IAAe,KAAK,CAAL,KAASE,CAAxB,GAA0BA,CAAC,CAACF,CAAD,CAA3B,GAA+BruC,CAAC,CAACquC,CAAD,CAAzE;AAAX;AAAyF;;AAAA,MAAIA,CAAC,GAACvyB,SAAS,CAAC5Z,MAAV,GAAiB,CAAvB;AAAyB,MAAG,MAAImsC,CAAP,EAASmG,CAAC,CAAC/vC,QAAF,GAAW4kC,CAAX,CAAT,KAA2B,IAAG,IAAEgF,CAAL,EAAO;AAACE,KAAC,GAAC3lC,KAAK,CAACylC,CAAD,CAAP;;AAC7e,SAAI,IAAIuJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACvJ,CAAd,EAAgBuJ,CAAC,EAAjB;AAAoBrJ,OAAC,CAACqJ,CAAD,CAAD,GAAK97B,SAAS,CAAC87B,CAAC,GAAC,CAAH,CAAd;AAApB;;AAAwCpD,KAAC,CAAC/vC,QAAF,GAAW8pC,CAAX;AAAa;AAAA,SAAM;AAAClhB,YAAQ,EAACgiB,CAAV;AAAY9tC,QAAI,EAACxB,CAAC,CAACwB,IAAnB;AAAwBX,OAAG,EAACka,CAA5B;AAA8B6b,OAAG,EAAC8Z,CAAlC;AAAoC3c,SAAK,EAAC0gB,CAA1C;AAA4CuM,UAAM,EAAC/U;AAAnD,GAAN;AAA4D,CADjH;;AACkH73B,OAAO,CAAC0uC,aAAR,GAAsB,UAAS9iD,CAAT,EAAW;AAACA,GAAC,GAAC;AAACstB,YAAQ,EAAC0qB,CAAV;AAAYjX,iBAAa,EAAC/gC,CAA1B;AAA4B+iD,kBAAc,EAAC/iD,CAA3C;AAA6CgjD,gBAAY,EAAC,CAA1D;AAA4DC,YAAQ,EAAC,IAArE;AAA0EC,YAAQ,EAAC,IAAnF;AAAwFC,iBAAa,EAAC,IAAtG;AAA2GC,eAAW,EAAC;AAAvH,GAAF;AAA+HpjD,GAAC,CAACijD,QAAF,GAAW;AAAC31B,YAAQ,EAACyqB,CAAV;AAAYhqB,YAAQ,EAAC/tB;AAArB,GAAX;AAAmC,SAAOA,CAAC,CAACkjD,QAAF,GAAWljD,CAAlB;AAAoB,CAAxN;;AAAyNoU,OAAO,CAACivC,aAAR,GAAsBtC,CAAtB;;AAAwB3sC,OAAO,CAACkvC,aAAR,GAAsB,UAAStjD,CAAT,EAAW;AAAC,MAAIC,CAAC,GAAC8gD,CAAC,CAAC9qB,IAAF,CAAO,IAAP,EAAYj2B,CAAZ,CAAN;AAAqBC,GAAC,CAACuB,IAAF,GAAOxB,CAAP;AAAS,SAAOC,CAAP;AAAS,CAAzE;;AAA0EmU,OAAO,CAACmvC,SAAR,GAAkB,YAAU;AAAC,SAAM;AAAChjD,WAAO,EAAC;AAAT,GAAN;AAAqB,CAAlD;;AAC7a6T,OAAO,CAACovC,mBAAR,GAA4B,UAASxjD,CAAT,EAAWC,CAAX,EAAa;AAAC,MAAIqpC,CAAC,GAAC,CAAC,CAAP;;AAAS,MAAG,CAACkZ,CAAC,CAACxiD,CAAD,CAAL,EAAS;AAACspC,KAAC,GAAC,CAAC,CAAH;AAAK,QAAImL,CAAC,GAAC;AAACnnB,cAAQ,EAAChnB,CAAV;AAAYy6B,mBAAa,EAAC9gC,CAA1B;AAA4B8iD,oBAAc,EAAC9iD,CAA3C;AAA6CkjD,mBAAa,EAACljD,CAA3D;AAA6D+iD,kBAAY,EAAC,CAA1E;AAA4EC,cAAQ,EAAC,IAArF;AAA0FC,cAAQ,EAAC,IAAnG;AAAwGE,iBAAW,EAACpjD;AAApH,KAAN;AAA6Hy0C,KAAC,CAACwO,QAAF,GAAW;AAAC31B,cAAQ,EAACyqB,CAAV;AAAYhqB,cAAQ,EAAC0mB;AAArB,KAAX;AAAmC+N,KAAC,CAACxiD,CAAD,CAAD,GAAKy0C,CAAL;AAAO;;AAAAA,GAAC,GAAC+N,CAAC,CAACxiD,CAAD,CAAH;AAAO,MAAGy0C,CAAC,CAAC0O,aAAF,KAAkB/I,CAArB,EAAuB3F,CAAC,CAAC0O,aAAF,GAAgBljD,CAAhB,EAAkBw0C,CAAC,CAAC1T,aAAF,KAAkBqZ,CAAlB,KAAsB3F,CAAC,CAAC1T,aAAF,GAAgB9gC,CAAtC,CAAlB,EAA2Dw0C,CAAC,CAACsO,cAAF,KAAmB3I,CAAnB,KAAuB3F,CAAC,CAACsO,cAAF,GAAiB9iD,CAAxC,CAA3D,CAAvB,KAAkI,IAAGqpC,CAAH,EAAK,MAAMtkC,KAAK,CAAC,oBAAkBhF,CAAlB,GAAoB,kBAArB,CAAX;AAAoD,SAAOy0C,CAAP;AAAS,CAApb;;AAAqbrgC,OAAO,CAACqvC,2BAAR,GAAoC,UAASzjD,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAUmjD,cAAV,CAAyB1jD,CAAzB,CAAP;AAAmC,CAAnF;;AACrboU,OAAO,CAACuvC,0BAAR,GAAmC,UAAS3jD,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAUqjD,aAAV,CAAwB5jD,CAAxB,EAA0BC,CAA1B,CAAP;AAAoC,CAArF;;AAAsFmU,OAAO,CAACyvC,UAAR,GAAmB,UAAS7jD,CAAT,EAAW;AAAC,SAAM;AAACstB,YAAQ,EAAC2qB,CAAV;AAAYxqB,UAAM,EAACztB;AAAnB,GAAN;AAA4B,CAA3D;;AAA4DoU,OAAO,CAAC0vC,cAAR,GAAuB5C,CAAvB;;AAAyB9sC,OAAO,CAAC2vC,IAAR,GAAa,UAAS/jD,CAAT,EAAW;AAAC,SAAM;AAACstB,YAAQ,EAAC+rB,CAAV;AAAYnP,YAAQ,EAAC;AAACwX,aAAO,EAAC,CAAC,CAAV;AAAYC,aAAO,EAAC3hD;AAApB,KAArB;AAA4CoqC,SAAK,EAACqX;AAAlD,GAAN;AAA4D,CAArF;;AAAsFrtC,OAAO,CAAC4vC,IAAR,GAAa,UAAShkD,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAM;AAACqtB,YAAQ,EAAC8rB,CAAV;AAAY53C,QAAI,EAACxB,CAAjB;AAAmBikD,WAAO,EAAC,KAAK,CAAL,KAAShkD,CAAT,GAAW,IAAX,GAAgBA;AAA3C,GAAN;AAAoD,CAA/E;;AAAgFmU,OAAO,CAAC8vC,eAAR,GAAwB,UAASlkD,CAAT,EAAW;AAAC,MAAIC,CAAC,GAACgiD,CAAC,CAACC,UAAR;AAAmBD,GAAC,CAACC,UAAF,GAAa,EAAb;;AAAgB,MAAG;AAACliD,KAAC;AAAG,GAAR,SAAe;AAACiiD,KAAC,CAACC,UAAF,GAAajiD,CAAb;AAAe;AAAC,CAAvG;;AAAwGmU,OAAO,CAAC+vC,cAAR,GAAuBhE,EAAvB;AACzb/rC,OAAO,CAACgwC,yBAAR,GAAkCnE,EAAlC;AAAqC7rC,OAAO,CAACiwC,kBAAR,GAA2BnE,EAA3B;;AAA8B9rC,OAAO,CAACkwC,YAAR,GAAqB,YAAU;AAAC,QAAMt/C,KAAK,CAAC,0DAAD,CAAX;AAAyE,CAAzG;;AAA0GoP,OAAO,CAACmwC,wBAAR,GAAiC,UAASvkD,CAAT,EAAW;AAAC,MAAIC,CAAC,GAAC4hD,CAAC,CAACthD,OAAR;AAAgB,SAAON,CAAC,GAACA,CAAC,CAAC2iD,eAAF,CAAkB5iD,CAAlB,CAAD,GAAsBA,CAAC,EAA/B;AAAkC,CAA/F;;AAAgGoU,OAAO,CAACowC,uBAAR,GAAgC,YAAU;AAAC,MAAIxkD,CAAC,GAAC6hD,CAAC,CAACthD,OAAR;AAAgB,SAAOP,CAAC,GAACA,CAAC,CAACykD,cAAF,EAAD,IAAqBzkD,CAAC,GAAC,IAAI0kD,eAAJ,EAAF,EAAsB1kD,CAAC,CAAC2kD,KAAF,CAAQ3/C,KAAK,CAAC,0FAAD,CAAb,CAAtB,EAAiIhF,CAAC,CAAC4kD,MAAxJ,CAAR;AAAwK,CAAnO;;AAC7QxwC,OAAO,CAACywC,wBAAR,GAAiC,YAAU;AAAC,SAAO7C,CAAC,CAACzhD,OAAF,CAAUm5C,eAAV,EAAP;AAAmC,CAA/E;;AAAgFtlC,OAAO,CAAC0wC,qBAAR,GAA8B,UAAS9kD,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAU25C,YAAV,CAAuBl6C,CAAvB,CAAP;AAAiC,CAA3E;;AAA4EoU,OAAO,CAACkmC,GAAR,GAAY,UAASt6C,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAU+5C,GAAV,CAAct6C,CAAd,CAAP;AAAwB,CAAhD;;AAAiDoU,OAAO,CAAC4lC,WAAR,GAAoB,UAASh6C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAUy5C,WAAV,CAAsBh6C,CAAtB,EAAwBC,CAAxB,CAAP;AAAkC,CAApE;;AAAqEmU,OAAO,CAACklC,UAAR,GAAmB,UAASt5C,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAU+4C,UAAV,CAAqBt5C,CAArB,CAAP;AAA+B,CAA9D;;AAA+DoU,OAAO,CAAC2lC,aAAR,GAAsB,YAAU,CAAE,CAAlC;;AAAmC3lC,OAAO,CAAC0mC,gBAAR,GAAyB,UAAS96C,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAUu6C,gBAAV,CAA2B96C,CAA3B,CAAP;AAAqC,CAA1E;;AACpXoU,OAAO,CAACylC,SAAR,GAAkB,UAAS75C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAUs5C,SAAV,CAAoB75C,CAApB,EAAsBC,CAAtB,CAAP;AAAgC,CAAhE;;AAAiEmU,OAAO,CAAC2mC,KAAR,GAAc,YAAU;AAAC,SAAOiH,CAAC,CAACzhD,OAAF,CAAUw6C,KAAV,EAAP;AAAyB,CAAlD;;AAAmD3mC,OAAO,CAAC0lC,mBAAR,GAA4B,UAAS95C,CAAT,EAAWC,CAAX,EAAaqpC,CAAb,EAAe;AAAC,SAAO0Y,CAAC,CAACzhD,OAAF,CAAUu5C,mBAAV,CAA8B95C,CAA9B,EAAgCC,CAAhC,EAAkCqpC,CAAlC,CAAP;AAA4C,CAAxF;;AAAyFl1B,OAAO,CAACwlC,kBAAR,GAA2B,UAAS55C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAUq5C,kBAAV,CAA6B55C,CAA7B,EAA+BC,CAA/B,CAAP;AAAyC,CAAlF;;AAAmFmU,OAAO,CAACulC,eAAR,GAAwB,UAAS35C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAUo5C,eAAV,CAA0B35C,CAA1B,EAA4BC,CAA5B,CAAP;AAAsC,CAA5E;;AAA6EmU,OAAO,CAAC6lC,OAAR,GAAgB,UAASj6C,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAO+hD,CAAC,CAACzhD,OAAF,CAAU05C,OAAV,CAAkBj6C,CAAlB,EAAoBC,CAApB,CAAP;AAA8B,CAA5D;;AAA6DmU,OAAO,CAAColC,UAAR,GAAmB,UAASx5C,CAAT,EAAWC,CAAX,EAAaqpC,CAAb,EAAe;AAAC,SAAO0Y,CAAC,CAACzhD,OAAF,CAAUi5C,UAAV,CAAqBx5C,CAArB,EAAuBC,CAAvB,EAAyBqpC,CAAzB,CAAP;AAAmC,CAAtE;;AAC1al1B,OAAO,CAACqlC,MAAR,GAAe,UAASz5C,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAUk5C,MAAV,CAAiBz5C,CAAjB,CAAP;AAA2B,CAAtD;;AAAuDoU,OAAO,CAACmlC,QAAR,GAAiB,UAASv5C,CAAT,EAAW;AAAC,SAAOgiD,CAAC,CAACzhD,OAAF,CAAUg5C,QAAV,CAAmBv5C,CAAnB,CAAP;AAA6B,CAA1D;;AAA2DoU,OAAO,CAACymC,oBAAR,GAA6B,UAAS76C,CAAT,EAAWC,CAAX,EAAaqpC,CAAb,EAAe;AAAC,SAAO0Y,CAAC,CAACzhD,OAAF,CAAUs6C,oBAAV,CAA+B76C,CAA/B,EAAiCC,CAAjC,EAAmCqpC,CAAnC,CAAP;AAA6C,CAA1F;;AAA2Fl1B,OAAO,CAACsmC,aAAR,GAAsB,YAAU;AAAC,SAAOsH,CAAC,CAACzhD,OAAF,CAAUm6C,aAAV,EAAP;AAAiC,CAAlE;;AAAmEtmC,OAAO,CAAChE,OAAR,GAAgB,wCAAhB,C;;;;;;;;;;;;;;;;;;;;;;AC9BhR;;;;;;;;IASqB20C,Y;;;;0CAC0B,IAAI3vC,GAAJ,E;;;;;gCAG3C8U,K,EACA86B,Q,EACM;AACN,UAAMhoC,SAAS,GAAG,KAAKioC,YAAL,CAAkBvjD,GAAlB,CAAsBwoB,KAAtB,CAAlB;;AACA,UAAIlN,SAAS,KAAKpa,SAAlB,EAA6B;AAC3B,aAAKqiD,YAAL,CAAkBrjD,GAAlB,CAAsBsoB,KAAtB,EAA6B,CAAC86B,QAAD,CAA7B;AACD,OAFD,MAEO;AACL,YAAMj0C,KAAK,GAAGiM,SAAS,CAACpV,OAAV,CAAkBo9C,QAAlB,CAAd;;AACA,YAAIj0C,KAAK,GAAG,CAAZ,EAAe;AACbiM,mBAAS,CAACha,IAAV,CAAegiD,QAAf;AACD;AACF;AACF;;;yBAGC96B,K,EAEM;AACN,UAAMlN,SAAS,GAAG,KAAKioC,YAAL,CAAkBvjD,GAAlB,CAAsBwoB,KAAtB,CAAlB;;AACA,UAAIlN,SAAS,KAAKpa,SAAlB,EAA6B;AAAA,0CAH1B6P,IAG0B;AAH1BA,cAG0B;AAAA;;AAC3B,YAAIuK,SAAS,CAAC7a,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,cAAM6iD,QAAQ,GAAGhoC,SAAS,CAAC,CAAD,CAA1B;AACAgoC,kBAAQ,CAAC/oC,KAAT,CAAe,IAAf,EAAqBxJ,IAArB;AACD,SAJD,MAIO;AACL,cAAIyyC,QAAQ,GAAG,KAAf;AACA,cAAIC,WAAW,GAAG,IAAlB;AAEA,cAAMC,eAAe,GAAGv8C,KAAK,CAACC,IAAN,CAAWkU,SAAX,CAAxB;;AACA,eAAK,IAAI9a,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkjD,eAAe,CAACjjD,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,gBAAM8iD,SAAQ,GAAGI,eAAe,CAACljD,CAAD,CAAhC;;AACA,gBAAI;AACF8iD,uBAAQ,CAAC/oC,KAAT,CAAe,IAAf,EAAqBxJ,IAArB;AACD,aAFD,CAEE,OAAO3M,KAAP,EAAc;AACd,kBAAIq/C,WAAW,KAAK,IAApB,EAA0B;AACxBD,wBAAQ,GAAG,IAAX;AACAC,2BAAW,GAAGr/C,KAAd;AACD;AACF;AACF;;AAED,cAAIo/C,QAAJ,EAAc;AACZ,kBAAMC,WAAN;AACD;AACF;AACF;AACF;;;yCAE0B;AACzB,WAAKF,YAAL,CAAkBn6B,KAAlB;AACD;;;mCAEcZ,K,EAAsB86B,Q,EAA0B;AAC7D,UAAMhoC,SAAS,GAAG,KAAKioC,YAAL,CAAkBvjD,GAAlB,CAAsBwoB,KAAtB,CAAlB;;AACA,UAAIlN,SAAS,KAAKpa,SAAlB,EAA6B;AAC3B,YAAMmO,KAAK,GAAGiM,SAAS,CAACpV,OAAV,CAAkBo9C,QAAlB,CAAd;;AACA,YAAIj0C,KAAK,IAAI,CAAb,EAAgB;AACdiM,mBAAS,CAAC7T,MAAV,CAAiB4H,KAAjB,EAAwB,CAAxB;AACD;AACF;AACF;;;;;;;;;;;;;;;;;;ACvEH,IAAIs0C,aAAa,GAAG,SAASA,aAAT,CAAuBrlD,CAAvB,EAA0BC,CAA1B,EAA6B;AAC/C,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFD;;AAIe,kDAAUqlD,QAAV,EAAoB;AACjC,MAAIC,OAAO,GAAGxpC,SAAS,CAAC5Z,MAAV,GAAmB,CAAnB,IAAwB4Z,SAAS,CAAC,CAAD,CAAT,KAAiBnZ,SAAzC,GAAqDmZ,SAAS,CAAC,CAAD,CAA9D,GAAoEspC,aAAlF;AAEA,MAAItmC,QAAQ,GAAG,KAAK,CAApB;AACA,MAAID,QAAQ,GAAG,EAAf;AACA,MAAI0mC,UAAU,GAAG,KAAK,CAAtB;AACA,MAAIC,UAAU,GAAG,KAAjB;;AAEA,MAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,MAA7B,EAAqC50C,KAArC,EAA4C;AACpE,WAAOw0C,OAAO,CAACI,MAAD,EAAS7mC,QAAQ,CAAC/N,KAAD,CAAjB,CAAd;AACD,GAFD;;AAIA,MAAIkO,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,SAAK,IAAI2mC,IAAI,GAAG7pC,SAAS,CAAC5Z,MAArB,EAA6B0jD,OAAO,GAAGh9C,KAAK,CAAC+8C,IAAD,CAA5C,EAAoDE,IAAI,GAAG,CAAhE,EAAmEA,IAAI,GAAGF,IAA1E,EAAgFE,IAAI,EAApF,EAAwF;AACtFD,aAAO,CAACC,IAAD,CAAP,GAAgB/pC,SAAS,CAAC+pC,IAAD,CAAzB;AACD;;AAED,QAAIL,UAAU,IAAI1mC,QAAQ,KAAK,IAA3B,IAAmC8mC,OAAO,CAAC1jD,MAAR,KAAmB2c,QAAQ,CAAC3c,MAA/D,IAAyE0jD,OAAO,CAACE,KAAR,CAAcL,mBAAd,CAA7E,EAAiH;AAC/G,aAAOF,UAAP;AACD;;AAEDC,cAAU,GAAG,IAAb;AACA1mC,YAAQ,GAAG,IAAX;AACAD,YAAQ,GAAG+mC,OAAX;AACAL,cAAU,GAAGF,QAAQ,CAACrpC,KAAT,CAAe,IAAf,EAAqB4pC,OAArB,CAAb;AACA,WAAOL,UAAP;AACD,GAdD;;AAgBA,SAAOvmC,MAAP;AACD,C;;ACnCD;;;;;;;;AAkBA;AACA;AACA;AACO,SAAS+mC,cAAT,CAAwB9rC,IAAxB,EAAiE;AACtE,MAAI,CAACA,IAAI,CAAC+rC,aAAV,EAAyB;AACvB,WAAO,IAAP;AACD;;AACD,SAAO/rC,IAAI,CAAC+rC,aAAL,CAAmBC,WAA1B;AACD,C,CAED;AACA;;AACO,SAASC,cAAT,CAAwBjsC,IAAxB,EAA+D;AACpE,MAAMksC,UAAU,GAAGJ,cAAc,CAAC9rC,IAAD,CAAjC;;AACA,MAAIksC,UAAJ,EAAgB;AACd,WAAOA,UAAU,CAACC,YAAlB;AACD;;AACD,SAAO,IAAP;AACD,C,CAED;AACA;;AACO,SAASC,qCAAT,CAA+CpsC,IAA/C,EAAwE;AAC7E,MAAMqsC,UAAU,GAAGC,oBAAoB,CAACtsC,IAAD,CAAvC;AACA,SAAOusC,gBAAgB,CAAC,CACtBvsC,IAAI,CAACwsC,qBAAL,EADsB,EAEtB;AACEjgC,OAAG,EAAE8/B,UAAU,CAACI,SADlB;AAEEC,QAAI,EAAEL,UAAU,CAACM,UAFnB;AAGEC,UAAM,EAAEP,UAAU,CAACQ,YAHrB;AAIEC,SAAK,EAAET,UAAU,CAACU,WAJpB;AAKE;AACA;AACA;AACAC,SAAK,EAAE,CART;AASEC,UAAM,EAAE;AATV,GAFsB,CAAD,CAAvB;AAcD,C,CAED;AACA;;AACO,SAASV,gBAAT,CAA0BW,KAA1B,EAAoD;AACzD,SAAOA,KAAK,CAAC7+C,MAAN,CAAa,UAAC8+C,YAAD,EAAeC,IAAf,EAAwB;AAC1C,QAAID,YAAY,IAAI,IAApB,EAA0B;AACxB,aAAOC,IAAP;AACD;;AAED,WAAO;AACL7gC,SAAG,EAAE4gC,YAAY,CAAC5gC,GAAb,GAAmB6gC,IAAI,CAAC7gC,GADxB;AAELmgC,UAAI,EAAES,YAAY,CAACT,IAAb,GAAoBU,IAAI,CAACV,IAF1B;AAGLM,WAAK,EAAEG,YAAY,CAACH,KAHf;AAILC,YAAM,EAAEE,YAAY,CAACF,MAJhB;AAKLL,YAAM,EAAEO,YAAY,CAACP,MAAb,GAAsBQ,IAAI,CAACR,MAL9B;AAMLE,WAAK,EAAEK,YAAY,CAACL,KAAb,GAAqBM,IAAI,CAACN;AAN5B,KAAP;AAQD,GAbM,CAAP;AAcD,C,CAED;AACA;;AACO,SAASO,2BAAT,CACLrtC,IADK,EAELstC,cAFK,EAGC;AACN,MAAMC,WAAW,GAAGtB,cAAc,CAACjsC,IAAD,CAAlC;;AACA,MAAIutC,WAAW,IAAIA,WAAW,KAAKD,cAAnC,EAAmD;AACjD,QAAMJ,KAA+B,GAAG,CAACltC,IAAI,CAACwsC,qBAAL,EAAD,CAAxC;AACA,QAAIgB,aAAiC,GAAGD,WAAxC;AACA,QAAIE,WAAW,GAAG,KAAlB;;AACA,WAAOD,aAAP,EAAsB;AACpB,UAAMJ,IAAI,GAAGhB,qCAAqC,CAACoB,aAAD,CAAlD;AACAN,WAAK,CAACpkD,IAAN,CAAWskD,IAAX;AACAI,mBAAa,GAAGvB,cAAc,CAACuB,aAAD,CAA9B;;AAEA,UAAIC,WAAJ,EAAiB;AACf;AACD,OAPmB,CAQpB;AACA;AACA;;;AACA,UAAID,aAAa,IAAI1B,cAAc,CAAC0B,aAAD,CAAd,KAAkCF,cAAvD,EAAuE;AACrEG,mBAAW,GAAG,IAAd;AACD;AACF;;AAED,WAAOlB,gBAAgB,CAACW,KAAD,CAAvB;AACD,GArBD,MAqBO;AACL,WAAOltC,IAAI,CAACwsC,qBAAL,EAAP;AACD;AACF;AAEM,SAASF,oBAAT,CAA8BoB,UAA9B,EAaL;AACA,MAAMC,eAAe,GAAGz0C,MAAM,CAAC00C,gBAAP,CAAwBF,UAAxB,CAAxB;AACA,SAAO;AACLf,cAAU,EAAE7zC,QAAQ,CAAC60C,eAAe,CAACE,eAAjB,EAAkC,EAAlC,CADf;AAELd,eAAW,EAAEj0C,QAAQ,CAAC60C,eAAe,CAACG,gBAAjB,EAAmC,EAAnC,CAFhB;AAGLrB,aAAS,EAAE3zC,QAAQ,CAAC60C,eAAe,CAACI,cAAjB,EAAiC,EAAjC,CAHd;AAILlB,gBAAY,EAAE/zC,QAAQ,CAAC60C,eAAe,CAACK,iBAAjB,EAAoC,EAApC,CAJjB;AAKLC,cAAU,EAAEn1C,QAAQ,CAAC60C,eAAe,CAACM,UAAjB,EAA6B,EAA7B,CALf;AAMLC,eAAW,EAAEp1C,QAAQ,CAAC60C,eAAe,CAACO,WAAjB,EAA8B,EAA9B,CANhB;AAOLC,aAAS,EAAEr1C,QAAQ,CAAC60C,eAAe,CAACQ,SAAjB,EAA4B,EAA5B,CAPd;AAQLC,gBAAY,EAAEt1C,QAAQ,CAAC60C,eAAe,CAACS,YAAjB,EAA+B,EAA/B,CARjB;AASLC,eAAW,EAAEv1C,QAAQ,CAAC60C,eAAe,CAACU,WAAjB,EAA8B,EAA9B,CAThB;AAULC,gBAAY,EAAEx1C,QAAQ,CAAC60C,eAAe,CAACW,YAAjB,EAA+B,EAA/B,CAVjB;AAWLC,cAAU,EAAEz1C,QAAQ,CAAC60C,eAAe,CAACY,UAAjB,EAA6B,EAA7B,CAXf;AAYLC,iBAAa,EAAE11C,QAAQ,CAAC60C,eAAe,CAACa,aAAjB,EAAgC,EAAhC;AAZlB,GAAP;AAcD,C;;;;;;;;AC3ID;;;;;;;;AASA;AAOA,IAAMxP,cAAM,GAAG15C,MAAM,CAAC05C,MAAtB,C,CAEA;AACA;AACA;;IAEMyP,W;AAMJ,uBAAYC,GAAZ,EAA2BC,SAA3B,EAAmD;AAAA;;AACjD,SAAK3uC,IAAL,GAAY0uC,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAZ;AACA,SAAKyF,MAAL,GAAcF,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAd;AACA,SAAK0F,OAAL,GAAeH,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAf;AACA,SAAK2F,OAAL,GAAeJ,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAf;AAEA,SAAKyF,MAAL,CAAY92C,KAAZ,CAAkBi3C,WAAlB,GAAgCC,aAAa,CAACJ,MAA9C;AACA,SAAKC,OAAL,CAAa/2C,KAAb,CAAmBi3C,WAAnB,GAAiCC,aAAa,CAACH,OAA/C;AACA,SAAKC,OAAL,CAAah3C,KAAb,CAAmBm3C,eAAnB,GAAqCD,aAAa,CAACE,UAAnD;AAEAlQ,kBAAM,CAAC,KAAKh/B,IAAL,CAAUlI,KAAX,EAAkB;AACtBi3C,iBAAW,EAAEC,aAAa,CAACG,MADL;AAEtBC,mBAAa,EAAE,MAFO;AAGtBC,cAAQ,EAAE;AAHY,KAAlB,CAAN;AAMA,SAAKrvC,IAAL,CAAUlI,KAAV,CAAgBw3C,MAAhB,GAAyB,UAAzB;AAEA,SAAKtvC,IAAL,CAAUuvC,WAAV,CAAsB,KAAKX,MAA3B;AACA,SAAKA,MAAL,CAAYW,WAAZ,CAAwB,KAAKV,OAA7B;AACA,SAAKA,OAAL,CAAaU,WAAb,CAAyB,KAAKT,OAA9B;AACAH,aAAS,CAACY,WAAV,CAAsB,KAAKvvC,IAA3B;AACD;;;;6BAEQ;AACP,UAAI,KAAKA,IAAL,CAAUwvC,UAAd,EAA0B;AACxB,aAAKxvC,IAAL,CAAUwvC,UAAV,CAAqBC,WAArB,CAAiC,KAAKzvC,IAAtC;AACD;AACF;;;2BAEM0vC,G,EAAWC,I,EAAW;AAC3BC,aAAO,CAACD,IAAD,EAAO,QAAP,EAAiB,KAAK3vC,IAAtB,CAAP;AACA4vC,aAAO,CAACD,IAAD,EAAO,QAAP,EAAiB,KAAKf,MAAtB,CAAP;AACAgB,aAAO,CAACD,IAAD,EAAO,SAAP,EAAkB,KAAKd,OAAvB,CAAP;AAEA7P,oBAAM,CAAC,KAAK8P,OAAL,CAAah3C,KAAd,EAAqB;AACzBm1C,cAAM,EACJyC,GAAG,CAACzC,MAAJ,GACA0C,IAAI,CAAClD,SADL,GAEAkD,IAAI,CAAC9C,YAFL,GAGA8C,IAAI,CAACpB,UAHL,GAIAoB,IAAI,CAACnB,aAJL,GAKA,IAPuB;AAQzBxB,aAAK,EACH0C,GAAG,CAAC1C,KAAJ,GACA2C,IAAI,CAAChD,UADL,GAEAgD,IAAI,CAAC5C,WAFL,GAGA4C,IAAI,CAACtB,WAHL,GAIAsB,IAAI,CAACrB,YAJL,GAKA;AAduB,OAArB,CAAN;AAiBAtP,oBAAM,CAAC,KAAKh/B,IAAL,CAAUlI,KAAX,EAAkB;AACtByU,WAAG,EAAEmjC,GAAG,CAACnjC,GAAJ,GAAUojC,IAAI,CAACxB,SAAf,GAA2B,IADV;AAEtBzB,YAAI,EAAEgD,GAAG,CAAChD,IAAJ,GAAWiD,IAAI,CAAC1B,UAAhB,GAA6B;AAFb,OAAlB,CAAN;AAID;;;;;;IAGG4B,U;AAKJ,sBAAYnB,GAAZ,EAA2BC,SAA3B,EAAmD;AAAA;;AACjD,SAAKmB,GAAL,GAAWpB,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAX;AACAnK,kBAAM,CAAC,KAAK8Q,GAAL,CAASh4C,KAAV,EAAiB;AACrBi4C,aAAO,EAAE,MADY;AAErBC,cAAQ,EAAE,YAFW;AAGrBf,qBAAe,EAAE,SAHI;AAIrBgB,kBAAY,EAAE,KAJO;AAKrBC,gBAAU,EACR,0EANmB;AAOrBC,gBAAU,EAAE,MAPS;AAQrBtB,aAAO,EAAE,SARY;AASrBO,mBAAa,EAAE,MATM;AAUrBC,cAAQ,EAAE,OAVW;AAWrBe,cAAQ,EAAE,MAXW;AAYrBC,gBAAU,EAAE;AAZS,KAAjB,CAAN;AAeA,SAAKC,QAAL,GAAgB5B,GAAG,CAACvF,aAAJ,CAAkB,MAAlB,CAAhB;AACA,SAAK2G,GAAL,CAASP,WAAT,CAAqB,KAAKe,QAA1B;AACAtR,kBAAM,CAAC,KAAKsR,QAAL,CAAcx4C,KAAf,EAAsB;AAC1B6F,WAAK,EAAE,SADmB;AAE1BovC,iBAAW,EAAE,mBAFa;AAG1BuB,kBAAY,EAAE,QAHY;AAI1BJ,iBAAW,EAAE;AAJa,KAAtB,CAAN;AAMA,SAAKqC,OAAL,GAAe7B,GAAG,CAACvF,aAAJ,CAAkB,MAAlB,CAAf;AACA,SAAK2G,GAAL,CAASP,WAAT,CAAqB,KAAKgB,OAA1B;AACAvR,kBAAM,CAAC,KAAKuR,OAAL,CAAaz4C,KAAd,EAAqB;AACzB6F,WAAK,EAAE;AADkB,KAArB,CAAN;AAIA,SAAKmyC,GAAL,CAASh4C,KAAT,CAAew3C,MAAf,GAAwB,UAAxB;AACAX,aAAS,CAACY,WAAV,CAAsB,KAAKO,GAA3B;AACD;;;;6BAEQ;AACP,UAAI,KAAKA,GAAL,CAASN,UAAb,EAAyB;AACvB,aAAKM,GAAL,CAASN,UAAT,CAAoBC,WAApB,CAAgC,KAAKK,GAArC;AACD;AACF;;;+BAEUroD,I,EAAculD,K,EAAeC,M,EAAgB;AACtD,WAAKqD,QAAL,CAAcE,WAAd,GAA4B/oD,IAA5B;AACA,WAAK8oD,OAAL,CAAaC,WAAb,GACErsC,IAAI,CAACssC,KAAL,CAAWzD,KAAX,IAAoB,OAApB,GAA8B7oC,IAAI,CAACssC,KAAL,CAAWxD,MAAX,CAA9B,GAAmD,IADrD;AAED;;;mCAEc0C,I,EAAWe,M,EAAa;AACrC,UAAMC,OAAO,GAAG,KAAKb,GAAL,CAAStD,qBAAT,EAAhB;AACA,UAAMoE,MAAM,GAAGC,UAAU,CAAClB,IAAD,EAAOe,MAAP,EAAe;AACtC1D,aAAK,EAAE2D,OAAO,CAAC3D,KADuB;AAEtCC,cAAM,EAAE0D,OAAO,CAAC1D;AAFsB,OAAf,CAAzB;AAIAjO,oBAAM,CAAC,KAAK8Q,GAAL,CAASh4C,KAAV,EAAiB84C,MAAM,CAAC94C,KAAxB,CAAN;AACD;;;;;;IAGkBg5C,e;AAQnB,mBAAYC,KAAZ,EAA0B;AAAA;;AACxB;AACA,QAAMC,aAAa,GAAG93C,MAAM,CAAC+3C,gCAAP,IAA2C/3C,MAAjE;AACA,SAAKA,MAAL,GAAc83C,aAAd,CAHwB,CAKxB;;AACA,QAAME,eAAe,GAAGh4C,MAAM,CAAC+3C,gCAAP,IAA2C/3C,MAAnE;AACA,SAAKg4C,eAAL,GAAuBA,eAAvB;AAEA,QAAMxC,GAAG,GAAGsC,aAAa,CAAC73C,QAA1B;AACA,SAAKw1C,SAAL,GAAiBD,GAAG,CAACvF,aAAJ,CAAkB,KAAlB,CAAjB;AACA,SAAKwF,SAAL,CAAe72C,KAAf,CAAqBw3C,MAArB,GAA8B,UAA9B;AAEA,SAAKQ,GAAL,GAAW,IAAID,UAAJ,CAAenB,GAAf,EAAoB,KAAKC,SAAzB,CAAX;AACA,SAAKzB,KAAL,GAAa,EAAb;AAEA,SAAK6D,KAAL,GAAaA,KAAb;AAEArC,OAAG,CAACyC,IAAJ,CAAS5B,WAAT,CAAqB,KAAKZ,SAA1B;AACD;;;;6BAEQ;AACP,WAAKmB,GAAL,CAASsB,MAAT;AACA,WAAKlE,KAAL,CAAWxmD,OAAX,CAAmB,UAAA0mD,IAAI,EAAI;AACzBA,YAAI,CAACgE,MAAL;AACD,OAFD;AAGA,WAAKlE,KAAL,CAAWjlD,MAAX,GAAoB,CAApB;;AACA,UAAI,KAAK0mD,SAAL,CAAea,UAAnB,EAA+B;AAC7B,aAAKb,SAAL,CAAea,UAAf,CAA0BC,WAA1B,CAAsC,KAAKd,SAA3C;AACD;AACF;;;4BAEO0C,K,EAA2B5pD,I,EAAgB;AAAA;;AACjD;AACA;AACA,UAAM6pD,QAAQ,GAAGD,KAAK,CAAC7tB,MAAN,CAAa,UAAAxjB,IAAI;AAAA,eAAIA,IAAI,CAACuxC,QAAL,KAAkBzU,IAAI,CAAC0U,YAA3B;AAAA,OAAjB,CAAjB;;AAEA,aAAO,KAAKtE,KAAL,CAAWjlD,MAAX,GAAoBqpD,QAAQ,CAACrpD,MAApC,EAA4C;AAC1C,YAAMmlD,IAAI,GAAG,KAAKF,KAAL,CAAWr/C,GAAX,EAAb;AACAu/C,YAAI,CAACgE,MAAL;AACD;;AACD,UAAIE,QAAQ,CAACrpD,MAAT,KAAoB,CAAxB,EAA2B;AACzB;AACD;;AAED,aAAO,KAAKilD,KAAL,CAAWjlD,MAAX,GAAoBqpD,QAAQ,CAACrpD,MAApC,EAA4C;AAC1C,aAAKilD,KAAL,CAAWpkD,IAAX,CAAgB,IAAI2lD,WAAJ,CAAgB,KAAKv1C,MAAL,CAAYC,QAA5B,EAAsC,KAAKw1C,SAA3C,CAAhB;AACD;;AAED,UAAM8C,QAAQ,GAAG;AACfllC,WAAG,EAAE3c,MAAM,CAAC8hD,iBADG;AAEf5E,aAAK,EAAEl9C,MAAM,CAAC+hD,iBAFC;AAGf/E,cAAM,EAAEh9C,MAAM,CAAC+hD,iBAHA;AAIfjF,YAAI,EAAE98C,MAAM,CAAC8hD;AAJE,OAAjB;AAMAJ,cAAQ,CAAC5qD,OAAT,CAAiB,UAAC2J,OAAD,EAAUwG,KAAV,EAAoB;AACnC,YAAM64C,GAAG,GAAGrC,2BAA2B,CAACh9C,OAAD,EAAU,KAAI,CAAC6I,MAAf,CAAvC;AACA,YAAMy2C,IAAI,GAAGrD,oBAAoB,CAACj8C,OAAD,CAAjC;AAEAohD,gBAAQ,CAACllC,GAAT,GAAepI,IAAI,CAACE,GAAL,CAASotC,QAAQ,CAACllC,GAAlB,EAAuBmjC,GAAG,CAACnjC,GAAJ,GAAUojC,IAAI,CAACxB,SAAtC,CAAf;AACAsD,gBAAQ,CAAC3E,KAAT,GAAiB3oC,IAAI,CAACve,GAAL,CACf6rD,QAAQ,CAAC3E,KADM,EAEf4C,GAAG,CAAChD,IAAJ,GAAWgD,GAAG,CAAC1C,KAAf,GAAuB2C,IAAI,CAACzB,WAFb,CAAjB;AAIAuD,gBAAQ,CAAC7E,MAAT,GAAkBzoC,IAAI,CAACve,GAAL,CAChB6rD,QAAQ,CAAC7E,MADO,EAEhB8C,GAAG,CAACnjC,GAAJ,GAAUmjC,GAAG,CAACzC,MAAd,GAAuB0C,IAAI,CAACvB,YAFZ,CAAlB;AAIAqD,gBAAQ,CAAC/E,IAAT,GAAgBvoC,IAAI,CAACE,GAAL,CAASotC,QAAQ,CAAC/E,IAAlB,EAAwBgD,GAAG,CAAChD,IAAJ,GAAWiD,IAAI,CAAC1B,UAAxC,CAAhB;AAEA,YAAMb,IAAI,GAAG,KAAI,CAACF,KAAL,CAAWr2C,KAAX,CAAb;AACAu2C,YAAI,CAACwE,MAAL,CAAYlC,GAAZ,EAAiBC,IAAjB;AACD,OAjBD;;AAmBA,UAAI,CAACloD,IAAL,EAAW;AACTA,YAAI,GAAG6pD,QAAQ,CAAC,CAAD,CAAR,CAAYO,QAAZ,CAAqBjgD,WAArB,EAAP;AAEA,YAAMoO,IAAI,GAAGsxC,QAAQ,CAAC,CAAD,CAArB;AACA,YAAMQ,iBAAiB,GACrB,KAAKf,KAAL,CAAWgB,gCAAX,CAA4C/xC,IAA5C,CADF;;AAEA,YAAI8xC,iBAAJ,EAAuB;AACrB,cAAMloD,EAAE,GAAGkoD,iBAAiB,CAACjtB,mBAAlB,CAAsC7kB,IAAtC,EAA4C,IAA5C,CAAX;;AACA,cAAIpW,EAAJ,EAAQ;AACN,gBAAMooD,SAAS,GAAGF,iBAAiB,CAACptB,wBAAlB,CAChB96B,EADgB,EAEhB,IAFgB,CAAlB;;AAIA,gBAAIooD,SAAJ,EAAe;AACbvqD,kBAAI,IAAI,UAAUuqD,SAAV,GAAsB,GAA9B;AACD;AACF;AACF;AACF;;AAED,WAAKlC,GAAL,CAASmC,UAAT,CACExqD,IADF,EAEEgqD,QAAQ,CAAC3E,KAAT,GAAiB2E,QAAQ,CAAC/E,IAF5B,EAGE+E,QAAQ,CAAC7E,MAAT,GAAkB6E,QAAQ,CAACllC,GAH7B;AAKA,UAAM2lC,SAAS,GAAG7E,2BAA2B,CAC3C,KAAK6D,eAAL,CAAqB/3C,QAArB,CAA8Bg5C,eADa,EAE3C,KAAKj5C,MAFsC,CAA7C;AAKA,WAAK42C,GAAL,CAASsC,cAAT,CACE;AACE7lC,WAAG,EAAEklC,QAAQ,CAACllC,GADhB;AAEEmgC,YAAI,EAAE+E,QAAQ,CAAC/E,IAFjB;AAGEO,cAAM,EAAEwE,QAAQ,CAAC7E,MAAT,GAAkB6E,QAAQ,CAACllC,GAHrC;AAIEygC,aAAK,EAAEyE,QAAQ,CAAC3E,KAAT,GAAiB2E,QAAQ,CAAC/E;AAJnC,OADF,EAOE;AACEngC,WAAG,EAAE2lC,SAAS,CAAC3lC,GAAV,GAAgB,KAAK2kC,eAAL,CAAqBmB,OAD5C;AAEE3F,YAAI,EAAEwF,SAAS,CAACxF,IAAV,GAAiB,KAAKwE,eAAL,CAAqBoB,OAF9C;AAGErF,cAAM,EAAE,KAAKiE,eAAL,CAAqBqB,WAH/B;AAIEvF,aAAK,EAAE,KAAKkE,eAAL,CAAqBsB;AAJ9B,OAPF;AAcD;;;;;;;;AAGH,SAAS3B,UAAT,CACElB,IADF,EAEEe,MAFF,EAGE+B,OAHF,EAIE;AACA,MAAMC,SAAS,GAAGvuC,IAAI,CAACve,GAAL,CAAS6sD,OAAO,CAACxF,MAAjB,EAAyB,EAAzB,CAAlB;AACA,MAAM0F,QAAQ,GAAGxuC,IAAI,CAACve,GAAL,CAAS6sD,OAAO,CAACzF,KAAjB,EAAwB,EAAxB,CAAjB;AACA,MAAMmC,MAAM,GAAG,CAAf;AAEA,MAAI5iC,GAAJ;;AACA,MAAIojC,IAAI,CAACpjC,GAAL,GAAWojC,IAAI,CAAC1C,MAAhB,GAAyByF,SAAzB,IAAsChC,MAAM,CAACnkC,GAAP,GAAamkC,MAAM,CAACzD,MAA9D,EAAsE;AACpE,QAAI0C,IAAI,CAACpjC,GAAL,GAAWojC,IAAI,CAAC1C,MAAhB,GAAyByD,MAAM,CAACnkC,GAAP,GAAa,CAA1C,EAA6C;AAC3CA,SAAG,GAAGmkC,MAAM,CAACnkC,GAAP,GAAa4iC,MAAnB;AACD,KAFD,MAEO;AACL5iC,SAAG,GAAGojC,IAAI,CAACpjC,GAAL,GAAWojC,IAAI,CAAC1C,MAAhB,GAAyBkC,MAA/B;AACD;AACF,GAND,MAMO,IAAIQ,IAAI,CAACpjC,GAAL,GAAWmmC,SAAX,IAAwBhC,MAAM,CAACnkC,GAAP,GAAamkC,MAAM,CAACzD,MAAhD,EAAwD;AAC7D,QAAI0C,IAAI,CAACpjC,GAAL,GAAWmmC,SAAX,GAAuBvD,MAAvB,GAAgCuB,MAAM,CAACnkC,GAAP,GAAa4iC,MAAjD,EAAyD;AACvD5iC,SAAG,GAAGmkC,MAAM,CAACnkC,GAAP,GAAa4iC,MAAnB;AACD,KAFD,MAEO;AACL5iC,SAAG,GAAGojC,IAAI,CAACpjC,GAAL,GAAWmmC,SAAX,GAAuBvD,MAA7B;AACD;AACF,GANM,MAMA;AACL5iC,OAAG,GAAGmkC,MAAM,CAACnkC,GAAP,GAAamkC,MAAM,CAACzD,MAApB,GAA6ByF,SAA7B,GAAyCvD,MAA/C;AACD;;AAED,MAAIzC,IAAqB,GAAGiD,IAAI,CAACjD,IAAL,GAAYyC,MAAxC;;AACA,MAAIQ,IAAI,CAACjD,IAAL,GAAYgE,MAAM,CAAChE,IAAvB,EAA6B;AAC3BA,QAAI,GAAGgE,MAAM,CAAChE,IAAP,GAAcyC,MAArB;AACD;;AACD,MAAIQ,IAAI,CAACjD,IAAL,GAAYiG,QAAZ,GAAuBjC,MAAM,CAAChE,IAAP,GAAcgE,MAAM,CAAC1D,KAAhD,EAAuD;AACrDN,QAAI,GAAGgE,MAAM,CAAChE,IAAP,GAAcgE,MAAM,CAAC1D,KAArB,GAA6B2F,QAA7B,GAAwCxD,MAA/C;AACD;;AAED5iC,KAAG,IAAI,IAAP;AACAmgC,MAAI,IAAI,IAAR;AACA,SAAO;AACL50C,SAAK,EAAE;AAACyU,SAAG,EAAHA,GAAD;AAAMmgC,UAAI,EAAJA;AAAN;AADF,GAAP;AAGD;;AAED,SAASkD,OAAT,CAAiBD,IAAjB,EAA4BiD,IAA5B,EAA0C5yC,IAA1C,EAA6D;AAC3Dg/B,gBAAM,CAACh/B,IAAI,CAAClI,KAAN,EAAa;AACjBi2C,kBAAc,EAAE4B,IAAI,CAACiD,IAAI,GAAG,KAAR,CAAJ,GAAqB,IADpB;AAEjB/E,mBAAe,EAAE8B,IAAI,CAACiD,IAAI,GAAG,MAAR,CAAJ,GAAsB,IAFtB;AAGjB9E,oBAAgB,EAAE6B,IAAI,CAACiD,IAAI,GAAG,OAAR,CAAJ,GAAuB,IAHxB;AAIjB5E,qBAAiB,EAAE2B,IAAI,CAACiD,IAAI,GAAG,QAAR,CAAJ,GAAwB,IAJ1B;AAKjBC,eAAW,EAAE;AALI,GAAb,CAAN;AAOD;;AAED,IAAM7D,aAAa,GAAG;AACpBE,YAAU,EAAE,0BADQ;AAEpBL,SAAO,EAAE,uBAFW;AAGpBM,QAAM,EAAE,wBAHY;AAIpBP,QAAM,EAAE;AAJY,CAAtB,C;;ACzUA;;;;;;;;AAWA;AAEA,IAAMkE,aAAa,GAAG,IAAtB;AAEA,IAAIC,SAA2B,GAAG,IAAlC;AACA,IAAIC,OAAuB,GAAG,IAA9B;AAEO,SAASC,WAAT,CAAqBlC,KAArB,EAAmC;AACxC,MAAI73C,MAAM,CAACC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B43C,SAAK,CAACpuC,IAAN,CAAW,qBAAX;AACA;AACD;;AACDowC,WAAS,GAAG,IAAZ;;AAEA,MAAIC,OAAO,KAAK,IAAhB,EAAsB;AACpBA,WAAO,CAAC5B,MAAR;AACA4B,WAAO,GAAG,IAAV;AACD;AACF;AAEM,SAASE,WAAT,CACL5B,QADK,EAELlkC,aAFK,EAGL2jC,KAHK,EAILoC,gBAJK,EAKL;AACA,MAAIj6C,MAAM,CAACC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B,QAAIm4C,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,CAAC,CAAD,CAAR,IAAe,IAAvC,EAA6C;AAC3CP,WAAK,CAACpuC,IAAN,CAAW,qBAAX,EAAkC2uC,QAAQ,CAAC,CAAD,CAA1C;AACD;;AACD;AACD;;AAED,MAAIyB,SAAS,KAAK,IAAlB,EAAwB;AACtBjyC,gBAAY,CAACiyC,SAAD,CAAZ;AACD;;AAED,MAAIzB,QAAQ,IAAI,IAAhB,EAAsB;AACpB;AACD;;AAED,MAAI0B,OAAO,KAAK,IAAhB,EAAsB;AACpBA,WAAO,GAAG,IAAIlC,eAAJ,CAAYC,KAAZ,CAAV;AACD;;AAEDiC,SAAO,CAACxe,OAAR,CAAgB8c,QAAhB,EAA0BlkC,aAA1B;;AAEA,MAAI+lC,gBAAJ,EAAsB;AACpBJ,aAAS,GAAG51C,UAAU,CAAC;AAAA,aAAM81C,WAAW,CAAClC,KAAD,CAAjB;AAAA,KAAD,EAA2B+B,aAA3B,CAAtB;AACD;AACF,C;;AC7DD;;;;;;;;AASA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA,IAAIM,kBAA0C,GAAG,IAAIhtD,GAAJ,EAAjD;AAEe,SAASitD,gBAAT,CACbC,MADa,EAEbvC,KAFa,EAGP;AACNuC,QAAM,CAAChxC,WAAP,CACE,6BADF,EAEEixC,2BAFF;AAIAD,QAAM,CAAChxC,WAAP,CAAmB,wBAAnB,EAA6CkxC,sBAA7C;AACAF,QAAM,CAAChxC,WAAP,CAAmB,UAAnB,EAA+BmxC,oBAA/B;AACAH,QAAM,CAAChxC,WAAP,CAAmB,uBAAnB,EAA4CoxC,qBAA5C;AACAJ,QAAM,CAAChxC,WAAP,CAAmB,sBAAnB,EAA2CmxC,oBAA3C;;AAEA,WAASC,qBAAT,GAAiC;AAC/BC,6BAAyB,CAACz6C,MAAD,CAAzB;AACD;;AAED,WAASy6C,yBAAT,CAAmCz6C,MAAnC,EAAgD;AAC9C;AACA,QAAIA,MAAM,IAAI,OAAOA,MAAM,CAAC06C,gBAAd,KAAmC,UAAjD,EAA6D;AAC3D16C,YAAM,CAAC06C,gBAAP,CAAwB,OAAxB,EAAiCC,OAAjC,EAA0C,IAA1C;AACA36C,YAAM,CAAC06C,gBAAP,CAAwB,WAAxB,EAAqCE,YAArC,EAAmD,IAAnD;AACA56C,YAAM,CAAC06C,gBAAP,CAAwB,WAAxB,EAAqCE,YAArC,EAAmD,IAAnD;AACA56C,YAAM,CAAC06C,gBAAP,CAAwB,SAAxB,EAAmCE,YAAnC,EAAiD,IAAjD;AACA56C,YAAM,CAAC06C,gBAAP,CAAwB,aAAxB,EAAuCG,aAAvC,EAAsD,IAAtD;AACA76C,YAAM,CAAC06C,gBAAP,CAAwB,aAAxB,EAAuCI,aAAvC,EAAsD,IAAtD;AACA96C,YAAM,CAAC06C,gBAAP,CAAwB,WAAxB,EAAqCK,WAArC,EAAkD,IAAlD;AACD,KARD,MAQO;AACLlD,WAAK,CAACpuC,IAAN,CAAW,uBAAX;AACD;AACF;;AAED,WAAS8wC,oBAAT,GAAgC;AAC9BR,eAAW,CAAClC,KAAD,CAAX;AACAmD,2BAAuB,CAACh7C,MAAD,CAAvB;AACAk6C,sBAAkB,CAAC1sD,OAAnB,CAA2B,UAAU2oC,KAAV,EAAiB;AAC1C,UAAI;AACF6kB,+BAAuB,CAAC7kB,KAAK,CAAC8kB,aAAP,CAAvB;AACD,OAFD,CAEE,OAAOvoD,KAAP,EAAc,CACd;AACD;AACF,KAND;AAOAwnD,sBAAkB,GAAG,IAAIhtD,GAAJ,EAArB;AACD;;AAED,WAAS8tD,uBAAT,CAAiCh7C,MAAjC,EAA8C;AAC5C;AACA,QAAIA,MAAM,IAAI,OAAOA,MAAM,CAACk7C,mBAAd,KAAsC,UAApD,EAAgE;AAC9Dl7C,YAAM,CAACk7C,mBAAP,CAA2B,OAA3B,EAAoCP,OAApC,EAA6C,IAA7C;AACA36C,YAAM,CAACk7C,mBAAP,CAA2B,WAA3B,EAAwCN,YAAxC,EAAsD,IAAtD;AACA56C,YAAM,CAACk7C,mBAAP,CAA2B,WAA3B,EAAwCN,YAAxC,EAAsD,IAAtD;AACA56C,YAAM,CAACk7C,mBAAP,CAA2B,SAA3B,EAAsCN,YAAtC,EAAoD,IAApD;AACA56C,YAAM,CAACk7C,mBAAP,CAA2B,aAA3B,EAA0CL,aAA1C,EAAyD,IAAzD;AACA76C,YAAM,CAACk7C,mBAAP,CAA2B,aAA3B,EAA0CJ,aAA1C,EAAyD,IAAzD;AACA96C,YAAM,CAACk7C,mBAAP,CAA2B,WAA3B,EAAwCH,WAAxC,EAAqD,IAArD;AACD,KARD,MAQO;AACLlD,WAAK,CAACpuC,IAAN,CAAW,sBAAX;AACD;AACF;;AAED,WAAS4wC,2BAAT,GAAuC;AACrCN,eAAW,CAAClC,KAAD,CAAX;AACD;;AAED,WAASyC,sBAAT,OAeG;AAAA,QAdDpsD,WAcC,QAdDA,WAcC;AAAA,QAbD+rD,gBAaC,QAbDA,gBAaC;AAAA,QAZDvpD,EAYC,QAZDA,EAYC;AAAA,QAXDyqD,uBAWC,QAXDA,uBAWC;AAAA,QAVDprD,UAUC,QAVDA,UAUC;AAAA,QATDqrD,cASC,QATDA,cASC;AACD,QAAM34C,QAAQ,GAAGo1C,KAAK,CAACwD,kBAAN,CAAyBtrD,UAAzB,CAAjB;;AACA,QAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,aAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD;;AAED,QAAIynD,KAA0B,GAAG,IAAjC;;AACA,QAAI11C,QAAQ,IAAI,IAAhB,EAAsB;AACpB01C,WAAK,GAAK11C,QAAQ,CAAC2oB,yBAAT,CACR16B,EADQ,CAAV;AAGD;;AAED,QAAIynD,KAAK,IAAI,IAAT,IAAiBA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAjC,EAAuC;AACrC,UAAMrxC,IAAI,GAAGqxC,KAAK,CAAC,CAAD,CAAlB,CADqC,CAErC;;AACA,UAAIiD,cAAc,IAAI,OAAOt0C,IAAI,CAACs0C,cAAZ,KAA+B,UAArD,EAAiE;AAC/D;AACA;AACAt0C,YAAI,CAACs0C,cAAL,CAAoB;AAACE,eAAK,EAAE,SAAR;AAAmBC,gBAAM,EAAE;AAA3B,SAApB;AACD;;AAEDvB,iBAAW,CAAC7B,KAAD,EAAQjqD,WAAR,EAAqB2pD,KAArB,EAA4BoC,gBAA5B,CAAX;;AAEA,UAAIkB,uBAAJ,EAA6B;AAC3Bn7C,cAAM,CAACoS,8BAAP,CAAsCopC,EAAtC,GAA2C10C,IAA3C;AACAszC,cAAM,CAACqB,IAAP,CAAY,oCAAZ;AACD;AACF,KAfD,MAeO;AACL1B,iBAAW,CAAClC,KAAD,CAAX;AACD;AACF;;AAED,WAAS8C,OAAT,CAAiB7jC,KAAjB,EAAoC;AAClCA,SAAK,CAAC4kC,cAAN;AACA5kC,SAAK,CAAC6kC,eAAN;AAEApB,wBAAoB;AAEpBH,UAAM,CAACqB,IAAP,CAAY,sBAAZ,EAAoC,IAApC;AACD;;AAED,WAASb,YAAT,CAAsB9jC,KAAtB,EAAyC;AACvCA,SAAK,CAAC4kC,cAAN;AACA5kC,SAAK,CAAC6kC,eAAN;AACD;;AAED,WAASd,aAAT,CAAuB/jC,KAAvB,EAA0C;AACxCA,SAAK,CAAC4kC,cAAN;AACA5kC,SAAK,CAAC6kC,eAAN;AAEAC,sBAAkB,CAAG9kC,KAAK,CAACxQ,MAAT,CAAlB;AACD;;AAED,WAASw0C,aAAT,CAAuBhkC,KAAvB,EAA0C;AACxCA,SAAK,CAAC4kC,cAAN;AACA5kC,SAAK,CAAC6kC,eAAN;AAEA,QAAMr1C,MAAM,GAAKwQ,KAAK,CAACxQ,MAAvB;;AAEA,QAAIA,MAAM,CAAC7N,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAMojD,MAAyB,GAAIv1C,MAAnC;;AACA,UAAI;AACF,YAAI,CAAC4zC,kBAAkB,CAACz7C,GAAnB,CAAuBo9C,MAAvB,CAAL,EAAqC;AACnC,cAAM77C,OAAM,GAAG67C,MAAM,CAACZ,aAAtB;AACAR,mCAAyB,CAACz6C,OAAD,CAAzB;AACAk6C,4BAAkB,CAACvsD,GAAnB,CAAuBkuD,MAAvB;AACD;AACF,OAND,CAME,OAAOnpD,KAAP,EAAc,CACd;AACD;AACF,KAjBuC,CAmBxC;AACA;;;AACAsnD,eAAW,CAAC,CAAC1zC,MAAD,CAAD,EAAW,IAAX,EAAiBuxC,KAAjB,EAAwB,KAAxB,CAAX;AAEA+D,sBAAkB,CAACt1C,MAAD,CAAlB;AACD;;AAED,WAASy0C,WAAT,CAAqBjkC,KAArB,EAAwC;AACtCA,SAAK,CAAC4kC,cAAN;AACA5kC,SAAK,CAAC6kC,eAAN;AACD;;AAED,MAAMC,kBAAkB,GAAGvuC,yBAAQ,CACjCyuC,GAAO,CAAC,UAACh1C,IAAD,EAAuB;AAC7B,QAAMpW,EAAE,GAAGmnD,KAAK,CAACkE,YAAN,CAAmBj1C,IAAnB,CAAX;;AACA,QAAIpW,EAAE,KAAK,IAAX,EAAiB;AACf0pD,YAAM,CAACqB,IAAP,CAAY,aAAZ,EAA2B/qD,EAA3B;AACD;AACF,GALM,CAD0B,EAOjC,GAPiC,EAQjC;AACA;AACA;AAACub,WAAO,EAAE;AAAV,GAViC,CAAnC;AAYD,C;;ACvMD;;;;;;;;AAcA,IAAM+vC,aAAa,GAAG,SAAtB,C,CAEA;;AACA,IAAMC,MAAM,GAAG,CACb,SADa,EAEb,SAFa,EAGb,SAHa,EAIb,SAJa,EAKb,SALa,EAMb,SANa,EAOb,SAPa,EAQb,SARa,EASb,SATa,EAUb,SAVa,CAAf;AAaA,IAAIC,MAAgC,GAAG,IAAvC;AAEO,SAASC,IAAT,CAAcC,UAAd,EAAiDvE,KAAjD,EAAqE;AAC1E,MAAI73C,MAAM,CAACC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B,QAAMo8C,WAAW,GAAG,EAApB;AACAC,gBAAY,CAACF,UAAD,EAAa,UAAC3e,CAAD,EAAIh5B,KAAJ,EAAWqC,IAAX,EAAoB;AAC3Cu1C,iBAAW,CAACzsD,IAAZ,CAAiB;AAACkX,YAAI,EAAJA,IAAD;AAAOrC,aAAK,EAALA;AAAP,OAAjB;AACD,KAFW,CAAZ;AAIAozC,SAAK,CAACpuC,IAAN,CAAW,kBAAX,EAA+B4yC,WAA/B;AACA;AACD;;AAED,MAAIH,MAAM,KAAK,IAAf,EAAqB;AACnBK,cAAU;AACX;;AAED,MAAMC,UAA6B,GAAKN,MAAxC;AACAM,YAAU,CAAC1I,KAAX,GAAmB9zC,MAAM,CAACs5C,UAA1B;AACAkD,YAAU,CAACzI,MAAX,GAAoB/zC,MAAM,CAACq5C,WAA3B;AAEA,MAAMz+B,OAAO,GAAG4hC,UAAU,CAACC,UAAX,CAAsB,IAAtB,CAAhB;AACA7hC,SAAO,CAAC8hC,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBF,UAAU,CAAC1I,KAAnC,EAA0C0I,UAAU,CAACzI,MAArD;AACAuI,cAAY,CAACF,UAAD,EAAa,UAAClI,IAAD,EAAOzvC,KAAP,EAAiB;AACxC,QAAIyvC,IAAI,KAAK,IAAb,EAAmB;AACjByI,gBAAU,CAAC/hC,OAAD,EAAUs5B,IAAV,EAAgBzvC,KAAhB,CAAV;AACD;AACF,GAJW,CAAZ;AAKD;;AAED,SAAS63C,YAAT,CACEF,UADF,EAEEQ,OAFF,EAGE;AACAR,YAAU,CAAC5uD,OAAX,CAAmB,gBAAgBsZ,IAAhB,EAAyB;AAAA,QAAvB0W,KAAuB,QAAvBA,KAAuB;AAAA,QAAhB02B,IAAgB,QAAhBA,IAAgB;AAC1C,QAAM2I,UAAU,GAAG5xC,IAAI,CAACE,GAAL,CAAS8wC,MAAM,CAACltD,MAAP,GAAgB,CAAzB,EAA4ByuB,KAAK,GAAG,CAApC,CAAnB;AACA,QAAM/Y,KAAK,GAAGw3C,MAAM,CAACY,UAAD,CAApB;AACAD,WAAO,CAAC1I,IAAD,EAAOzvC,KAAP,EAAcqC,IAAd,CAAP;AACD,GAJD;AAKD;;AAED,SAAS61C,UAAT,CACE/hC,OADF,EAEEs5B,IAFF,EAGEzvC,KAHF,EAIQ;AAAA,MACCsvC,MADD,GAC6BG,IAD7B,CACCH,MADD;AAAA,MACSP,IADT,GAC6BU,IAD7B,CACSV,IADT;AAAA,MACengC,GADf,GAC6B6gC,IAD7B,CACe7gC,GADf;AAAA,MACoBygC,KADpB,GAC6BI,IAD7B,CACoBJ,KADpB,EAGN;;AACAl5B,SAAO,CAACkiC,SAAR,GAAoB,CAApB;AACAliC,SAAO,CAACmiC,WAAR,GAAsBf,aAAtB;AAEAphC,SAAO,CAACoiC,UAAR,CAAmBxJ,IAAI,GAAG,CAA1B,EAA6BngC,GAAG,GAAG,CAAnC,EAAsCygC,KAAK,GAAG,CAA9C,EAAiDC,MAAM,GAAG,CAA1D,EAPM,CASN;;AACAn5B,SAAO,CAACkiC,SAAR,GAAoB,CAApB;AACAliC,SAAO,CAACmiC,WAAR,GAAsBf,aAAtB;AACAphC,SAAO,CAACoiC,UAAR,CAAmBxJ,IAAI,GAAG,CAA1B,EAA6BngC,GAAG,GAAG,CAAnC,EAAsCygC,KAAK,GAAG,CAA9C,EAAiDC,MAAM,GAAG,CAA1D;AACAn5B,SAAO,CAACmiC,WAAR,GAAsBt4C,KAAtB;AAEAmW,SAAO,CAACqiC,WAAR,CAAoB,CAAC,CAAD,CAApB,EAfM,CAiBN;;AACAriC,SAAO,CAACkiC,SAAR,GAAoB,CAApB;AACAliC,SAAO,CAACoiC,UAAR,CAAmBxJ,IAAnB,EAAyBngC,GAAzB,EAA8BygC,KAAK,GAAG,CAAtC,EAAyCC,MAAM,GAAG,CAAlD;AAEAn5B,SAAO,CAACqiC,WAAR,CAAoB,CAAC,CAAD,CAApB;AACD;;AAEM,SAASC,OAAT,CAAiBrF,KAAjB,EAAqC;AAC1C,MAAI73C,MAAM,CAACC,QAAP,IAAmB,IAAvB,EAA6B;AAC3B43C,SAAK,CAACpuC,IAAN,CAAW,qBAAX;AACA;AACD;;AAED,MAAIyyC,MAAM,KAAK,IAAf,EAAqB;AACnB,QAAIA,MAAM,CAAC5F,UAAP,IAAqB,IAAzB,EAA+B;AAC7B4F,YAAM,CAAC5F,UAAP,CAAkBC,WAAlB,CAA8B2F,MAA9B;AACD;;AACDA,UAAM,GAAG,IAAT;AACD;AACF;;AAED,SAASK,UAAT,GAA4B;AAC1BL,QAAM,GAAGl8C,MAAM,CAACC,QAAP,CAAgBgwC,aAAhB,CAA8B,QAA9B,CAAT;AACAiM,QAAM,CAACt9C,KAAP,CAAayQ,OAAb;AAYA,MAAMnR,IAAI,GAAG8B,MAAM,CAACC,QAAP,CAAgBg5C,eAA7B;AACA/6C,MAAI,CAACi/C,YAAL,CAAkBjB,MAAlB,EAA0Bh+C,IAAI,CAACyoB,UAA/B;AACD,C;;;;ACjID;;;;;;;;AASA;AACA;AACA;AAKA;AACA,IAAMy2B,gBAAgB,GAAG,GAAzB,C,CAEA;AACA;;AACA,IAAMC,oBAAoB,GAAG,IAA7B,C,CAEA;;AACA,IAAMC,4BAA4B,GAAG,GAArC,C,CAEA;;AACA,IAAMrsC,cAAc,GAClB;AACA,QAAOP,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmC,OAAOA,WAAW,CAACtF,GAAnB,KAA2B,UAA9D,GACI;AAAA,SAAMsF,WAAW,CAACtF,GAAZ,EAAN;AAAA,CADJ,GAEI;AAAA,SAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,CAJN;AAaA,IAAMgxC,UAAiC,GAAG,IAAIp6C,GAAJ,EAA1C;AAEA,IAAI61C,kBAAY,GAAK,IAArB;AACA,IAAI0F,oBAA6C,GAAG,IAApD;AACA,IAAIprD,SAAkB,GAAG,KAAzB;AACA,IAAIqrD,eAAiC,GAAG,IAAxC;AAEO,SAASjB,uBAAT,CAAoBkB,aAApB,EAAgD;AACrD5F,oBAAK,GAAG4F,aAAR;AACA5F,oBAAK,CAACzuC,WAAN,CAAkB,cAAlB,EAAkCs0C,YAAlC;AACD;AAEM,SAASC,aAAT,CAAuB1rD,KAAvB,EAA6C;AAClDE,WAAS,GAAGF,KAAZ;;AAEA,MAAI,CAACE,SAAL,EAAgB;AACdiqD,cAAU,CAAC1kC,KAAX;;AAEA,QAAI6lC,oBAAoB,KAAK,IAA7B,EAAmC;AACjCK,0BAAoB,CAACL,oBAAD,CAApB;AACAA,0BAAoB,GAAG,IAAvB;AACD;;AAED,QAAIC,eAAe,KAAK,IAAxB,EAA8B;AAC5B51C,kBAAY,CAAC41C,eAAD,CAAZ;AACAA,qBAAe,GAAG,IAAlB;AACD;;AAEDK,WAAa,CAAChG,kBAAD,CAAb;AACD;AACF;;AAED,SAAS6F,YAAT,CAAsBvF,KAAtB,EAAoD;AAClD,MAAI,CAAChmD,SAAL,EAAgB;AACd;AACD;;AAEDgmD,OAAK,CAAC3qD,OAAN,CAAc,UAAAsZ,IAAI,EAAI;AACpB,QAAMvQ,IAAI,GAAG6lD,UAAU,CAAC9tD,GAAX,CAAewY,IAAf,CAAb;AACA,QAAMsE,GAAG,GAAG6F,cAAc,EAA1B;AAEA,QAAI6sC,cAAc,GAAGvnD,IAAI,IAAI,IAAR,GAAeA,IAAI,CAACunD,cAApB,GAAqC,CAA1D;AACA,QAAI5J,IAAI,GAAG39C,IAAI,IAAI,IAAR,GAAeA,IAAI,CAAC29C,IAApB,GAA2B,IAAtC;;AACA,QAAIA,IAAI,KAAK,IAAT,IAAiB4J,cAAc,GAAGR,4BAAjB,GAAgDlyC,GAArE,EAA0E;AACxE0yC,oBAAc,GAAG1yC,GAAjB;AACA8oC,UAAI,GAAG6J,WAAW,CAACj3C,IAAD,CAAlB;AACD;;AAEDs1C,cAAU,CAAC5tD,GAAX,CAAesY,IAAf,EAAqB;AACnB0W,WAAK,EAAEjnB,IAAI,IAAI,IAAR,GAAeA,IAAI,CAACinB,KAAL,GAAa,CAA5B,GAAgC,CADpB;AAEnBwgC,oBAAc,EACZznD,IAAI,IAAI,IAAR,GACI0U,IAAI,CAACE,GAAL,CACEC,GAAG,GAAGiyC,oBADR,EAEE9mD,IAAI,CAACynD,cAAL,GAAsBZ,gBAFxB,CADJ,GAKIhyC,GAAG,GAAGgyC,gBARO;AASnBU,oBAAc,EAAdA,cATmB;AAUnB5J,UAAI,EAAJA;AAVmB,KAArB;AAYD,GAvBD;;AAyBA,MAAIsJ,eAAe,KAAK,IAAxB,EAA8B;AAC5B51C,gBAAY,CAAC41C,eAAD,CAAZ;AACAA,mBAAe,GAAG,IAAlB;AACD;;AAED,MAAID,oBAAoB,KAAK,IAA7B,EAAmC;AACjCA,wBAAoB,GAAGU,qBAAqB,CAACC,aAAD,CAA5C;AACD;AACF;;AAED,SAASA,aAAT,GAA+B;AAC7BX,sBAAoB,GAAG,IAAvB;AACAC,iBAAe,GAAG,IAAlB;AAEA,MAAMpyC,GAAG,GAAG6F,cAAc,EAA1B;AACA,MAAIktC,kBAAkB,GAAGznD,MAAM,CAAC0nD,SAAhC,CAL6B,CAO7B;;AACAhC,YAAU,CAAC5uD,OAAX,CAAmB,UAAC+I,IAAD,EAAOuQ,IAAP,EAAgB;AACjC,QAAIvQ,IAAI,CAACynD,cAAL,GAAsB5yC,GAA1B,EAA+B;AAC7BgxC,gBAAU,CAACv/B,MAAX,CAAkB/V,IAAlB;AACD,KAFD,MAEO;AACLq3C,wBAAkB,GAAGlzC,IAAI,CAACE,GAAL,CAASgzC,kBAAT,EAA6B5nD,IAAI,CAACynD,cAAlC,CAArB;AACD;AACF,GAND;AAQA7B,MAAI,CAACC,UAAD,EAAavE,kBAAb,CAAJ;;AAEA,MAAIsG,kBAAkB,KAAKznD,MAAM,CAAC0nD,SAAlC,EAA6C;AAC3CZ,mBAAe,GAAGv5C,UAAU,CAACi6C,aAAD,EAAgBC,kBAAkB,GAAG/yC,GAArC,CAA5B;AACD;AACF;;AAED,SAAS2yC,WAAT,CAAqBj3C,IAArB,EAAgD;AAC9C,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAI,CAACwsC,qBAAZ,KAAsC,UAAnD,EAA+D;AAC7D,WAAO,IAAP;AACD;;AAED,MAAMwE,aAAa,GAAG93C,MAAM,CAAC+3C,gCAAP,IAA2C/3C,MAAjE;AAEA,SAAOm0C,2BAA2B,CAACrtC,IAAD,EAAOgxC,aAAP,CAAlC;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/ID;;;;;;;;AASA;AAYA,IAAMuG,cAAc,GAAG,GAAvB,C,CAEA;AACA;AACA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMC,eAAsC,GAAG,CACpD;AACA;AACA;AACA;AACEthD,SAAO,EAAE,CADX;AAEEuhD,eAAa,EAAE,WAFjB;AAGEC,eAAa,EAAE;AAHjB,CAJoD,EASpD;AACA;AACA;AACA;AACExhD,SAAO,EAAE,CADX;AAEEuhD,eAAa,EAAE,QAFjB;AAGEC,eAAa,EAAE;AAHjB,CAZoD,EAiBpD;AACA;AACExhD,SAAO,EAAE,CADX;AAEEuhD,eAAa,EAAE,QAFjB;AAGEC,eAAa,EAAE;AAHjB,CAlBoD,CAA/C;AAyBA,IAAMC,qBAAqC,GAChDH,eAAe,CAACA,eAAe,CAACvvD,MAAhB,GAAyB,CAA1B,CADV;;IAmMD2vD,M;;;;;AAaJ,kBAAYC,IAAZ,EAAwB;AAAA;;AAAA;;AACtB;;AADsB,wEAND,KAMC;;AAAA,0EALI,EAKJ;;AAAA,uEAJO,IAIP;;AAAA,0EAFS,IAET;;AAAA,mEA0FH,YAAM;AACzB;AACA;AACA;AAEA,UAAI,MAAKC,UAAL,KAAoB,IAAxB,EAA8B;AAC5Bh3C,oBAAY,CAAC,MAAKg3C,UAAN,CAAZ;AACA,cAAKA,UAAL,GAAkB,IAAlB;AACD;;AAED,UAAI,MAAKC,aAAL,CAAmB9vD,MAAvB,EAA+B;AAC7B,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAK+vD,aAAL,CAAmB9vD,MAAvC,EAA+CD,CAAC,IAAI,CAApD,EAAuD;AAAA;;AACrD,+BAAKgwD,KAAL,EAAWrD,IAAX,qBAAgB,MAAKoD,aAAL,CAAmB/vD,CAAnB,CAAhB,4BAA0C,MAAK+vD,aAAL,CAAmB/vD,CAAC,GAAG,CAAvB,CAA1C;AACD;;AACD,cAAK+vD,aAAL,CAAmB9vD,MAAnB,GAA4B,CAA5B,CAJ6B,CAM7B;AACA;AACA;;AACA,cAAK6vD,UAAL,GAAkB36C,UAAU,CAAC,MAAK86C,MAAN,EAAcV,cAAd,CAA5B;AACD;AACF,KA/GuB;;AAAA,gFAmH2B,gBAMxB;AAAA,UALzB3tD,EAKyB,QALzBA,EAKyB;AAAA,UAJzBwE,IAIyB,QAJzBA,IAIyB;AAAA,UAHzBnF,UAGyB,QAHzBA,UAGyB;AAAA,UAFzB3B,IAEyB,QAFzBA,IAEyB;AAAA,UADzB6D,KACyB,QADzBA,KACyB;;AACzB,cAAQ7D,IAAR;AACE,aAAK,SAAL;AACE,gBAAKqtD,IAAL,CAAU,iBAAV,EAA6B;AAC3B/qD,cAAE,EAAFA,EAD2B;AAE3BwE,gBAAI,EAAJA,IAF2B;AAG3BnF,sBAAU,EAAVA,UAH2B;AAI3BivD,wBAAY,EAAE,IAJa;AAK3B/sD,iBAAK,EAALA;AAL2B,WAA7B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKwpD,IAAL,CAAU,mBAAV,EAA+B;AAC7B/qD,cAAE,EAAFA,EAD6B;AAE7BwE,gBAAI,EAAJA,IAF6B;AAG7BnF,sBAAU,EAAVA,UAH6B;AAI7BivD,wBAAY,EAAE,IAJe;AAK7B/sD,iBAAK,EAALA;AAL6B,WAA/B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKwpD,IAAL,CAAU,eAAV,EAA2B;AACzB/qD,cAAE,EAAFA,EADyB;AAEzBwE,gBAAI,EAAJA,IAFyB;AAGzBnF,sBAAU,EAAVA,UAHyB;AAIzBivD,wBAAY,EAAE,IAJW;AAKzB/sD,iBAAK,EAALA;AALyB,WAA3B;;AAOA;;AACF,aAAK,OAAL;AACE,gBAAKwpD,IAAL,CAAU,eAAV,EAA2B;AACzB/qD,cAAE,EAAFA,EADyB;AAEzBwE,gBAAI,EAAJA,IAFyB;AAGzBnF,sBAAU,EAAVA,UAHyB;AAIzBivD,wBAAY,EAAE,IAJW;AAKzB/sD,iBAAK,EAALA;AALyB,WAA3B;;AAOA;AApCJ;AAsCD,KAhKuB;;AAGtB,UAAK6sD,KAAL,GAAaH,IAAb;AAEA,UAAKM,aAAL,GACEN,IAAI,CAACO,MAAL,CAAY,UAAChqC,OAAD,EAAsB;AAChC,UAAIA,OAAO,IAAIA,OAAO,CAAC4B,KAAvB,EAA8B;AAC5B,sCAAYrN,IAAZ,CAAiByL,OAAO,CAAC4B,KAAzB,EAAgC5B,OAAO,CAAC2hB,OAAxC;AACD;AACF,KAJD,KAIM,IALR,CALsB,CAYtB;AACA;AACA;;AACA,UAAKztB,WAAL,CAAiB,qBAAjB,EAAwC,MAAK8nB,mBAA7C;;AAfsB;AAgBvB,G,CAED;AACA;;;;;yBAMEpa,K,EAEA;AACA,UAAI,KAAKqoC,WAAT,EAAsB;AACpBttD,eAAO,CAAC8sB,IAAR,iCAC0B7H,KAD1B;AAGA;AACD,OAND,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA,wCADG+f,OACH;AADGA,eACH;AAAA;;AAgBA,WAAKgoB,aAAL,CAAmBjvD,IAAnB,CAAwBknB,KAAxB,EAA+B+f,OAA/B;;AACA,UAAI,CAAC,KAAK+nB,UAAV,EAAsB;AACpB,aAAKA,UAAL,GAAkB36C,UAAU,CAAC,KAAK86C,MAAN,EAAc,CAAd,CAA5B;AACD;AACF;;;+BAEU;AACT,UAAI,KAAKI,WAAT,EAAsB;AACpBttD,eAAO,CAAC8sB,IAAR,CAAa,8BAAb;AACA;AACD,OAJQ,CAMT;;;AACA,WAAK88B,IAAL,CAAU,UAAV,EAPS,CAST;;AACA,WAAK0D,WAAL,GAAmB,IAAnB,CAVS,CAYT;AACA;;AACA,WAAK/1C,WAAL,GAAmB,YAAY,CAAE,CAAjC,CAdS,CAeT;;;AACA,WAAKK,IAAL,GAAY,YAAY,CAAE,CAA1B,CAhBS,CAiBT;AAEA;;;AACA,WAAKD,kBAAL,GApBS,CAsBT;;AACA,UAAM41C,YAAY,GAAG,KAAKH,aAA1B;;AACA,UAAIG,YAAJ,EAAkB;AAChBA,oBAAY;AACb,OA1BQ,CA4BT;AACA;;;AACA,SAAG;AACD,aAAKL,MAAL;AACD,OAFD,QAES,KAAKF,aAAL,CAAmB9vD,MAF5B,EA9BS,CAkCT;;;AACA,UAAI,KAAK6vD,UAAL,KAAoB,IAAxB,EAA8B;AAC5Bh3C,oBAAY,CAAC,KAAKg3C,UAAN,CAAZ;AACA,aAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;wBApEgB;AACf,aAAO,KAAKE,KAAZ;AACD;;;;EAhCOnN,Y;;AAgLK+M,qDAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9bA;;;;;;;;AASA;AACA;AACA;AAMA;AAKA;AACA;AAIA;AACA;AAiBA;;AAEA,IAAMrhC,WAAK,GAAG,SAARA,KAAQ,CAACgiC,UAAD,EAAgD;AAC5D,MAAIplD,8BAAJ,EAAe;AAAA;;AAAA,sCADqBoF,IACrB;AADqBA,UACrB;AAAA;;AACb,gBAAAxN,OAAO,EAACC,GAAR,sCACeutD,UADf,GAEE,mCAFF,EAGE,oBAHF,SAIKhgD,IAJL;AAMD;AACF,CATD;;IAmGqBigD,W;;;;;AAkBnB,iBAAYlF,MAAZ,EAAmC;AAAA;;AAAA;;AACjC;;AADiC,6EAPX,KAOW;;AAAA,0FANE,KAMF;;AAAA,oFALgC,EAKhC;;AAAA,oFAJc,IAId;;AAAA,yFAHU,IAGV;;AAAA,qFAFH,KAEG;;AAAA,uFAiG0B,gBAEvD;AAAA,UADJrqD,UACI,QADJA,UACI;AACJ,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACD,OAFD,MAEO;AACL0S,gBAAQ,CAAC6Z,sBAAT;AACD;AACF,KA1GkC;;AAAA,sFA4GmB,iBAAsB;AAAA,UAApB5rB,EAAoB,SAApBA,EAAoB;AAAA,UAAhBX,UAAgB,SAAhBA,UAAgB;AAC1E,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACD,OAFD,MAEO;AACL0S,gBAAQ,CAACqa,qBAAT,CAA+BpsB,EAA/B;AACD;AACF,KAnHkC;;AAAA,wFAqHqB,iBAGlD;AAAA,UAFJA,EAEI,SAFJA,EAEI;AAAA,UADJX,UACI,SADJA,UACI;AACJ,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACD,OAFD,MAEO;AACL0S,gBAAQ,CAACsa,uBAAT,CAAiCrsB,EAAjC;AACD;AACF,KA/HkC;;AAAA,gFAiIU,iBAIpB;AAAA,UAHvBA,EAGuB,SAHvBA,EAGuB;AAAA,UAFvBwE,IAEuB,SAFvBA,IAEuB;AAAA,UADvBnF,UACuB,SADvBA,UACuB;AACvB,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL,YAAMuB,KAAK,GAAGwQ,QAAQ,CAACqtB,+BAAT,CAAyCp/B,EAAzC,EAA6CwE,IAA7C,CAAd;;AAEA,YAAIjD,KAAK,IAAI,IAAb,EAAmB;AACjB,gBAAKutD,OAAL,CAAa/D,IAAb,CAAkB,iBAAlB,EAAqCxpD,KAArC;AACD,SAFD,MAEO;AACLJ,iBAAO,CAAC8sB,IAAR,2DAA+DjuB,EAA/D;AACD;AACF;AACF,KAlJkC;;AAAA,2EAoJI,iBAMf;AAAA,UALtBogC,MAKsB,SALtBA,MAKsB;AAAA,UAJtBpgC,EAIsB,SAJtBA,EAIsB;AAAA,UAHtBwE,IAGsB,SAHtBA,IAGsB;AAAA,UAFtBnF,UAEsB,SAFtBA,UAEsB;AAAA,UADtB3B,IACsB,SADtBA,IACsB;AACtB,UAAMqU,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACouB,UAAT,CAAoBziC,IAApB,EAA0BsC,EAA1B,EAA8BogC,MAA9B,EAAsC57B,IAAtC;AACD;AACF,KAjKkC;;AAAA,kFAgNH,YAAM;AACpC,UAAM8H,OAAO,GAAGnJ,kBAAhB;;AACA,UAAImJ,OAAJ,EAAa;AACX,cAAKwiD,OAAL,CAAa/D,IAAb,CAAkB,gBAAlB,EAAoCz+C,OAApC;AACD;AACF,KArNkC;;AAAA,kFAuNH,YAAM;AACpC,YAAKwiD,OAAL,CAAa/D,IAAb,CAAkB,gBAAlB,EAAoCgD,qBAApC;AACD,KAzNkC;;AAAA,iFA2NoB,iBAAkB;AAAA,UAAhB1uD,UAAgB,SAAhBA,UAAgB;AACvE,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACD;;AAED,YAAKyvD,OAAL,CAAa/D,IAAb,CAAkB,eAAlB,EAAmCh5C,QAAQ,CAAC4uB,gBAAT,EAAnC;AACD,KAlOkC;;AAAA,mFAoOF,YAAM;AACrC,YAAKmuB,OAAL,CAAa/D,IAAb,CAAkB,iBAAlB,EAAqC,MAAKgE,YAA1C;AACD,KAtOkC;;AAAA,8EAwOW,iBAAsB;AAAA,UAApB/uD,EAAoB,SAApBA,EAAoB;AAAA,UAAhBX,UAAgB,SAAhBA,UAAgB;AAClE,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL,YAAMm8B,MAAM,GAAGpqB,QAAQ,CAACmqB,aAAT,CAAuBl8B,EAAvB,CAAf;;AACA,cAAK8uD,OAAL,CAAa/D,IAAb,CAAkB,YAAlB,EAAiC;AAAC/qD,YAAE,EAAFA,EAAD;AAAKm8B,gBAAM,EAANA;AAAL,SAAjC;AACD;AACF,KAhPkC;;AAAA,+EAkPY,iBAMzC;AAAA,UALJqD,aAKI,SALJA,aAKI;AAAA,UAJJx/B,EAII,SAJJA,EAII;AAAA,UAHJwE,IAGI,SAHJA,IAGI;AAAA,UAFJnF,UAEI,SAFJA,UAEI;AAAA,UADJkgC,SACI,SADJA,SACI;AACJ,UAAMxtB,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL,cAAK8uD,OAAL,CAAa/D,IAAb,CACE,kBADF,EAEEh5C,QAAQ,CAACutB,cAAT,CAAwBC,SAAxB,EAAmCv/B,EAAnC,EAAuCwE,IAAvC,EAA6Cg7B,aAA7C,CAFF,EADK,CAML;AACA;;;AACA,YACE,MAAKwvB,wBAAL,KAAkC,IAAlC,IACA,MAAKA,wBAAL,CAA8BhvD,EAA9B,KAAqCA,EAFvC,EAGE;AACA,gBAAKivD,mBAAL,GAA2B,IAA3B;AACA,gBAAKD,wBAAL,GAAgC,IAAhC;AACAj9C,kBAAQ,CAAC+jB,cAAT,CAAwB,IAAxB;;AACA,gBAAKo5B,0BAAL,CAAgC7vD,UAAhC,EAA4CW,EAA5C;AACD,SAhBI,CAkBL;AACA;AACA;AACA;AACA;;AACD;AACF,KApRkC;;AAAA,oFAsRiB,iBAAsB;AAAA,UAApBA,EAAoB,SAApBA,EAAoB;AAAA,UAAhBX,UAAgB,SAAhBA,UAAgB;AACxE,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAAC8tB,mBAAT,CAA6B7/B,EAA7B;AACD;AACF,KA7RkC;;AAAA,8EA+RU,kBAIvC;AAAA,UAHJA,EAGI,UAHJA,EAGI;AAAA,UAFJX,UAEI,UAFJA,UAEI;AAAA,UADJyiC,UACI,UADJA,UACI;AACJ,UAAM/vB,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAAC8vB,aAAT,CAAuB7hC,EAAvB,EAA2B8hC,UAA3B;AACD;AACF,KA1SkC;;AAAA,iFA4SgB,kBAI7C;AAAA,UAHJ9hC,EAGI,UAHJA,EAGI;AAAA,UAFJX,UAEI,UAFJA,UAEI;AAAA,UADJ6iC,aACI,UADJA,aACI;AACJ,UAAMnwB,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACkwB,gBAAT,CAA0BjiC,EAA1B,EAA8BkiC,aAA9B;AACD;AACF,KAvTkC;;AAAA,oFAyTsB,kBAOnD;AAAA,UANJ9B,MAMI,UANJA,MAMI;AAAA,UALJpgC,EAKI,UALJA,EAKI;AAAA,UAJJwE,IAII,UAJJA,IAII;AAAA,UAHJnF,UAGI,UAHJA,UAGI;AAAA,UAFJ3B,IAEI,UAFJA,IAEI;AAAA,UADJ6D,KACI,UADJA,KACI;AACJ,UAAMwQ,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACyuB,mBAAT,CAA6B9iC,IAA7B,EAAmCsC,EAAnC,EAAuCogC,MAAvC,EAA+C57B,IAA/C,EAAqDjD,KAArD;AACD;AACF,KAvUkC;;AAAA,gFA2UI,kBAMjC;AAAA,UALJvB,EAKI,UALJA,EAKI;AAAA,UAJJwE,IAII,UAJJA,IAII;AAAA,UAHJnF,UAGI,UAHJA,UAGI;AAAA,UAFJivD,YAEI,UAFJA,YAEI;AAAA,UADJ/sD,KACI,UADJA,KACI;;AACJ;AACA;AACA,UAAI,CAAC+sD,YAAL,EAAmB;AACjB,cAAK9tB,mBAAL,CAAyB;AACvBxgC,YAAE,EAAFA,EADuB;AAEvBwE,cAAI,EAAJA,IAFuB;AAGvBnF,oBAAU,EAAVA,UAHuB;AAIvB3B,cAAI,EAAE,SAJiB;AAKvB6D,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KA7VkC;;AAAA,kFAiWa,kBAO1C;AAAA,UANJvB,EAMI,UANJA,EAMI;AAAA,UALJogC,MAKI,UALJA,MAKI;AAAA,UAJJ57B,IAII,UAJJA,IAII;AAAA,UAHJnF,UAGI,UAHJA,UAGI;AAAA,UAFJivD,YAEI,UAFJA,YAEI;AAAA,UADJ/sD,KACI,UADJA,KACI;;AACJ;AACA;AACA,UAAI,CAAC+sD,YAAL,EAAmB;AACjB,cAAK9tB,mBAAL,CAAyB;AACvBxgC,YAAE,EAAFA,EADuB;AAEvBwE,cAAI,EAAJA,IAFuB;AAGvBnF,oBAAU,EAAVA,UAHuB;AAIvB3B,cAAI,EAAE,OAJiB;AAKvB6D,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KApXkC;;AAAA,8EAwXE,kBAM/B;AAAA,UALJvB,EAKI,UALJA,EAKI;AAAA,UAJJwE,IAII,UAJJA,IAII;AAAA,UAHJnF,UAGI,UAHJA,UAGI;AAAA,UAFJivD,YAEI,UAFJA,YAEI;AAAA,UADJ/sD,KACI,UADJA,KACI;;AACJ;AACA;AACA,UAAI,CAAC+sD,YAAL,EAAmB;AACjB,cAAK9tB,mBAAL,CAAyB;AACvBxgC,YAAE,EAAFA,EADuB;AAEvBwE,cAAI,EAAJA,IAFuB;AAGvBnF,oBAAU,EAAVA,UAHuB;AAIvB3B,cAAI,EAAE,OAJiB;AAKvB6D,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KA1YkC;;AAAA,8EA8YE,kBAM/B;AAAA,UALJvB,EAKI,UALJA,EAKI;AAAA,UAJJwE,IAII,UAJJA,IAII;AAAA,UAHJnF,UAGI,UAHJA,UAGI;AAAA,UAFJivD,YAEI,UAFJA,YAEI;AAAA,UADJ/sD,KACI,UADJA,KACI;;AACJ;AACA;AACA,UAAI,CAAC+sD,YAAL,EAAmB;AACjB,cAAK9tB,mBAAL,CAAyB;AACvBxgC,YAAE,EAAFA,EADuB;AAEvBwE,cAAI,EAAJA,IAFuB;AAGvBnF,oBAAU,EAAVA,UAHuB;AAIvB3B,cAAI,EAAE,OAJiB;AAKvB6D,eAAK,EAALA;AALuB,SAAzB;AAOD;AACF,KAhakC;;AAAA,iFAmajC,UAAAi2B,wBAAwB,EAAI;AAC1BpnB,sDAAqB,CAACrG,2DAAD,EAAyC,MAAzC,CAArB;AACAqG,sDAAqB,CACnBtG,mEADmB,EAEnB0tB,wBAAwB,GAAG,MAAH,GAAY,OAFjB,CAArB,CAF0B,CAO1B;AACA;AACA;;AACA,YAAKs3B,OAAL,CAAa/D,IAAb,CAAkB,uBAAlB;AACD,KA9agC;;AAAA,2EAgbI,kBAOjC;AAAA,UANJ3qB,MAMI,UANJA,MAMI;AAAA,UALJpgC,EAKI,UALJA,EAKI;AAAA,UAJJwF,OAII,UAJJA,OAII;AAAA,UAHJD,OAGI,UAHJA,OAGI;AAAA,UAFJlG,UAEI,UAFJA,UAEI;AAAA,UADJ3B,IACI,UADJA,IACI;AACJ,UAAMqU,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACwuB,UAAT,CAAoB7iC,IAApB,EAA0BsC,EAA1B,EAA8BogC,MAA9B,EAAsC76B,OAAtC,EAA+CC,OAA/C;AACD;AACF,KA9bkC;;AAAA,uFA6djC,UAAAmoB,mBAAmB,EAAI;AACrB,YAAKwhC,oBAAL,GAA4BxhC,mBAA5B;AAEAyV,mBAAsB,CAACzV,mBAAD,CAAtB;;AAEA,WAAK,IAAMtuB,UAAX,IAAyB,MAAKwvD,mBAA9B,EAAmD;AACjD,YAAM98C,QAAQ,GAAK,MAAK88C,mBAAL,CAChBxvD,UADgB,CAAnB;AAGA0S,gBAAQ,CAACqxB,sBAAT,CAAgCzV,mBAAhC;AACD;AACF,KAxegC;;AAAA,qGA0egB,YAAM;AACvD,UAAM/X,MAAM,GAAGtG,MAAM,CAACoS,8BAAP,CAAsCopC,EAArD;;AACA,UAAIl1C,MAAM,IAAI,IAAd,EAAoB;AAClB;AACD;;AACD,YAAKw5C,UAAL,CAAgBx5C,MAAhB;AACD,KAhfkC;;AAAA,yEAkfZ,YAAM;AAC3B;AACA,YAAKmD,IAAL,CAAU,UAAV;AACD,KArfkC;;AAAA,+EAwfjC,UAAAye,wBAAwB,EAAI;AAC1B,YAAK63B,yBAAL,GAAiC73B,wBAAjC;AACA,YAAKu3B,YAAL,GAAoB,IAApB;;AACA,WAAK,IAAM1vD,UAAX,IAAyB,MAAKwvD,mBAA9B,EAAmD;AACjD,YAAM98C,QAAQ,GAAK,MAAK88C,mBAAL,CAChBxvD,UADgB,CAAnB;AAGA0S,gBAAQ,CAACyvB,cAAT,CAAwBhK,wBAAxB;AACD;;AACD,YAAKs3B,OAAL,CAAa/D,IAAb,CAAkB,iBAAlB,EAAqC,MAAKgE,YAA1C;AACD,KAlgBgC;;AAAA,8EAogBP,YAAM;AAChC,YAAKA,YAAL,GAAoB,KAApB;AACA,YAAKM,yBAAL,GAAiC,KAAjC;;AACA,WAAK,IAAMhwD,UAAX,IAAyB,MAAKwvD,mBAA9B,EAAmD;AACjD,YAAM98C,QAAQ,GAAK,MAAK88C,mBAAL,CAChBxvD,UADgB,CAAnB;AAGA0S,gBAAQ,CAAC2vB,aAAT;AACD;;AACD,YAAKotB,OAAL,CAAa/D,IAAb,CAAkB,iBAAlB,EAAqC,MAAKgE,YAA1C;AACD,KA9gBkC;;AAAA,qFAghBiB,UAAAO,QAAQ,EAAI;AAC9D,YAAKR,OAAL,CAAa/D,IAAb,CAAkB,sBAAlB,EAA0CuE,QAA1C;AACD,KAlhBkC;;AAAA,8EAohBU,kBAKvC;AAAA,UAJJxiC,KAII,UAJJA,KAII;AAAA,UAHJ9sB,EAGI,UAHJA,EAGI;AAAA,UAFJwE,IAEI,UAFJA,IAEI;AAAA,UADJnF,UACI,UADJA,UACI;AACJ,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACotB,aAAT,CAAuBn/B,EAAvB,EAA2BwE,IAA3B,EAAiCsoB,KAAjC;AACD;AACF,KAhiBkC;;AAAA,2FAwiBtB,kBAMe;AAAA,UAL1Bva,oBAK0B,UAL1BA,oBAK0B;AAAA,UAJ1BC,oBAI0B,UAJ1BA,oBAI0B;AAAA,UAH1BC,2BAG0B,UAH1BA,2BAG0B;AAAA,UAF1BC,2BAE0B,UAF1BA,2BAE0B;AAAA,UAD1BtB,YAC0B,UAD1BA,YAC0B;AAC1B;AACA;AACA;AACA;AACAm+C,8CAAY,CAAC;AACXh9C,4BAAoB,EAApBA,oBADW;AAEXC,4BAAoB,EAApBA,oBAFW;AAGXC,mCAA2B,EAA3BA,2BAHW;AAIXC,mCAA2B,EAA3BA,2BAJW;AAKXtB,oBAAY,EAAZA;AALW,OAAD,CAAZ;AAOD,KA1jBkC;;AAAA,uFA6jBjC,UAAAlP,gBAAgB,EAAI;AAClB,WAAK,IAAM7C,UAAX,IAAyB,MAAKwvD,mBAA9B,EAAmD;AACjD,YAAM98C,QAAQ,GAAK,MAAK88C,mBAAL,CAChBxvD,UADgB,CAAnB;AAGA0S,gBAAQ,CAACoc,sBAAT,CAAgCjsB,gBAAhC;AACD;AACF,KApkBgC;;AAAA,oFAskBc,kBAA4B;AAAA,UAA1BlC,EAA0B,UAA1BA,EAA0B;AAAA,UAAtBwE,IAAsB,UAAtBA,IAAsB;AAAA,UAAhBnF,UAAgB,UAAhBA,UAAgB;AAC3E,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAAC8pB,0BAAT,CAAoC77B,EAApC,EAAwCwE,IAAxC;AACD;AACF,KA7kBkC;;AAAA,kFA+kBe,kBAAsB;AAAA,UAApBxE,EAAoB,UAApBA,EAAoB;AAAA,UAAhBX,UAAgB,UAAhBA,UAAgB;AACtE,UAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC,8BAAiEW,EAAjE;AACD,OAFD,MAEO;AACL+R,gBAAQ,CAACiqB,wBAAT,CAAkCh8B,EAAlC;AACD;AACF,KAtlBkC;;AAAA,+EAwlBgB,UAAAynD,KAAK,EAAI;AAC1D,YAAK1uC,IAAL,CAAU,cAAV,EAA0B0uC,KAA1B;AACD,KA1lBkC;;AAAA,uFA4lBE,YAAM;AACzC,UAAIl+C,8BAAJ,EAAe;AACbojB,mBAAK,CAAC,wBAAD,CAAL;AACD;;AAED,YAAKmiC,OAAL,CAAa/D,IAAb,CAAkB,sBAAlB;AACD,KAlmBkC;;AAAA,iFAomBqB,UAAA3rD,UAAU,EAAI;AACpE,UAAImK,8BAAJ,EAAe;AACbojB,mBAAK,CACH,kBADG,aAECvtB,UAAU,CAACf,MAFZ,gBAEwBe,UAAU,CAACyB,IAAX,CAAgB,IAAhB,CAFxB,OAAL;AAID,OANmE,CAQpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,YAAKiuD,OAAL,CAAa/D,IAAb,CAAkB,YAAlB,EAAgC3rD,UAAhC;;AAEA,UAAI,MAAK6vD,mBAAL,KAA6B,IAAjC,EAAuC;AACrC,YAAM5vD,UAAU,GAAGD,UAAU,CAAC,CAAD,CAA7B;;AACA,YAAI,MAAK6vD,mBAAL,CAAyB5vD,UAAzB,KAAwCA,UAA5C,EAAwD;AACtD;AACA,cAAM0S,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,cAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,mBAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACD,WAFD,MAEO;AACL,gBAAMmwD,SAAS,GAAG,MAAKR,wBAAvB;AACA,gBAAMS,SAAS,GAAG19C,QAAQ,CAACmxB,0BAAT,EAAlB;AACA,kBAAK8rB,wBAAL,GAAgCS,SAAhC;AACA,gBAAMC,WAAW,GAAGF,SAAS,KAAK,IAAd,GAAqBA,SAAS,CAACxvD,EAA/B,GAAoC,IAAxD;AACA,gBAAM2vD,WAAW,GAAGF,SAAS,KAAK,IAAd,GAAqBA,SAAS,CAACzvD,EAA/B,GAAoC,IAAxD;;AACA,gBAAI0vD,WAAW,KAAKC,WAApB,EAAiC;AAC/B,kBAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACA,sBAAKb,OAAL,CAAa/D,IAAb,CAAkB,aAAlB,EAAiC4E,WAAjC;AACD;AACF;;AACD,gBAAIF,SAAS,KAAK,IAAd,IAAsBA,SAAS,CAACtsB,WAApC,EAAiD;AAC/C;AACA;AACA,oBAAK8rB,mBAAL,GAA2B,IAA3B;AACA,oBAAKD,wBAAL,GAAgC,IAAhC;AACAj9C,sBAAQ,CAAC+jB,cAAT,CAAwB,IAAxB;AACD;AACF;AACF;AACF;AACF,KA/pBkC;;AAAA,2FAqqBDnZ,yBAAQ,CACxC,UAACtd,UAAD,EAAqBW,EAArB,EAAoC;AAClC;AACA;AACA;AACA,UAAM+R,QAAQ,GAAG,MAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;AACA,UAAMmF,IAAI,GAAGuN,QAAQ,IAAI,IAAZ,GAAmBA,QAAQ,CAACgxB,iBAAT,CAA2B/iC,EAA3B,CAAnB,GAAoD,IAAjE;;AACA,UAAIwE,IAAI,KAAK,IAAb,EAAmB;AACjB4L,wDAAqB,CACnBxG,uDADmB,EAEnB9H,IAAI,CAACM,SAAL,CAAgB;AAAC/C,oBAAU,EAAVA,UAAD;AAAamF,cAAI,EAAJA;AAAb,SAAhB,CAFmB,CAArB;AAID,OALD,MAKO;AACL2L,2DAAwB,CAACvG,uDAAD,CAAxB;AACD;AACF,KAfuC,EAgBxC,IAhBwC,CArqBP;;AAGjC,QACEqG,gDAAqB,CAAClG,2DAAD,CAArB,KAAkE,MADpE,EAEE;AACA,YAAKslD,yBAAL,GACEp/C,gDAAqB,CACnBnG,mEADmB,CAArB,KAEM,MAHR;AAIA,YAAKilD,YAAL,GAAoB,IAApB;AAEA5+C,yDAAwB,CAACrG,mEAAD,CAAxB;AACAqG,yDAAwB,CAACpG,2DAAD,CAAxB;AACD;;AAED,QAAM6lD,wBAAwB,GAAG3/C,gDAAqB,CACpDrG,uDADoD,CAAtD;;AAGA,QAAIgmD,wBAAwB,IAAI,IAAhC,EAAsC;AACpC,YAAKX,mBAAL,GAA2BntD,IAAI,CAACC,KAAL,CAAW6tD,wBAAX,CAA3B;AACD;;AAED,UAAKd,OAAL,GAAepF,MAAf;AAEAA,UAAM,CAAChxC,WAAP,CAAmB,wBAAnB,EAA6C,MAAKkT,sBAAlD;AACA89B,UAAM,CAAChxC,WAAP,CAAmB,uBAAnB,EAA4C,MAAK0T,qBAAjD;AACAs9B,UAAM,CAAChxC,WAAP,CAAmB,yBAAnB,EAA8C,MAAK2T,uBAAnD;AACAq9B,UAAM,CAAChxC,WAAP,CAAmB,iBAAnB,EAAsC,MAAKm3C,eAA3C;AACAnG,UAAM,CAAChxC,WAAP,CAAmB,YAAnB,EAAiC,MAAKynB,UAAtC;AACAupB,UAAM,CAAChxC,WAAP,CAAmB,mBAAnB,EAAwC,MAAKo3C,iBAA7C;AACApG,UAAM,CAAChxC,WAAP,CAAmB,mBAAnB,EAAwC,MAAKq3C,iBAA7C;AACArG,UAAM,CAAChxC,WAAP,CAAmB,kBAAnB,EAAuC,MAAKioB,gBAA5C;AACA+oB,UAAM,CAAChxC,WAAP,CAAmB,oBAAnB,EAAyC,MAAKs3C,kBAA9C;AACAtG,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAKwjB,aAAzC;AACAwtB,UAAM,CAAChxC,WAAP,CAAmB,gBAAnB,EAAqC,MAAK4mB,cAA1C;AACAoqB,UAAM,CAAChxC,WAAP,CAAmB,qBAAnB,EAA0C,MAAKmnB,mBAA/C;AACA6pB,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAKmpB,aAAzC;AACA6nB,UAAM,CAAChxC,WAAP,CAAmB,kBAAnB,EAAuC,MAAKupB,gBAA5C;AACAynB,UAAM,CAAChxC,WAAP,CAAmB,qBAAnB,EAA0C,MAAK8nB,mBAA/C;AACAkpB,UAAM,CAAChxC,WAAP,CAAmB,kBAAnB,EAAuC,MAAKu3C,gBAA5C;AACAvG,UAAM,CAAChxC,WAAP,CAAmB,YAAnB,EAAiC,MAAK6nB,UAAtC;AACAmpB,UAAM,CAAChxC,WAAP,CAAmB,wBAAnB,EAA6C,MAAK0qB,sBAAlD;AACAsmB,UAAM,CAAChxC,WAAP,CAAmB,gBAAnB,EAAqC,MAAK8oB,cAA1C;AACAkoB,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAKgpB,aAAzC;AACAgoB,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAKymB,aAAzC;AACAuqB,UAAM,CAAChxC,WAAP,CACE,sCADF,EAEE,MAAKw3C,oCAFP;AAIAxG,UAAM,CAAChxC,WAAP,CAAmB,UAAnB,EAA+B,MAAKy3C,QAApC;AACAzG,UAAM,CAAChxC,WAAP,CACE,4BADF,EAEE,MAAK03C,0BAFP;AAIA1G,UAAM,CAAChxC,WAAP,CAAmB,wBAAnB,EAA6C,MAAKyV,sBAAlD;AACAu7B,UAAM,CAAChxC,WAAP,CAAmB,qBAAnB,EAA0C,MAAK23C,mBAA/C;AACA3G,UAAM,CAAChxC,WAAP,CAAmB,mBAAnB,EAAwC,MAAK43C,iBAA7C,EAzDiC,CA2DjC;AACA;AACA;;AACA5G,UAAM,CAAChxC,WAAP,CAAmB,iBAAnB,EAAsC,MAAK63C,eAA3C;AACA7G,UAAM,CAAChxC,WAAP,CAAmB,mBAAnB,EAAwC,MAAKgS,iBAA7C;AACAg/B,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAKmS,aAAzC;AACA6+B,UAAM,CAAChxC,WAAP,CAAmB,eAAnB,EAAoC,MAAK83C,aAAzC;;AAEA,QAAI,MAAKzB,YAAT,EAAuB;AACrBrF,YAAM,CAACqB,IAAP,CAAY,iBAAZ,EAA+B,IAA/B;AACD,KArEgC,CAuEjC;AACA;;;AACA,QAAMz+C,QAAO,GAAGnJ,kBAAhB;;AACA,QAAImJ,QAAJ,EAAa;AACX,YAAKwiD,OAAL,CAAa/D,IAAb,CAAkB,gBAAlB,EAAoCz+C,QAApC;AACD;;AACD,UAAKwiD,OAAL,CAAa/D,IAAb,CAAkB,gBAAlB,EAAoCgD,qBAApC,EA7EiC,CA+EjC;AACA;;;AACA,QAAI0C,4BAA4B,GAAG,KAAnC;;AACA,QAAI;AACF7gD,kBAAY,CAACC,OAAb,CAAqB,MAArB;AACA4gD,kCAA4B,GAAG,IAA/B;AACD,KAHD,CAGE,OAAOzuD,KAAP,EAAc,CAAE;;AAClB0nD,UAAM,CAACqB,IAAP,CAAY,8BAAZ,EAA4C0F,4BAA5C;AACA/G,UAAM,CAACqB,IAAP,CAAY,2BAAZ,EAAyC17C,kDAAyB,EAAlE;AAEAo6C,oBAAgB,CAACC,MAAD,qCAAhB;AACAgH,2BAAiB,CAAC,mCAAlB;AA1FiC;AA2FlC;;;;gDA2EiD;AAAA,UAFhD1wD,EAEgD,UAFhDA,EAEgD;AAAA,UADhDX,UACgD,UADhDA,UACgD;AAChD,UAAM0S,QAAQ,GAAG,KAAK88C,mBAAL,CAAyBxvD,UAAzB,CAAjB;;AACA,UAAI0S,QAAQ,IAAI,IAAhB,EAAsB;AACpB5Q,eAAO,CAAC8sB,IAAR,iCAAqC5uB,UAArC;AACA,eAAO,IAAP;AACD;;AACD,aAAO0S,QAAQ,CAACsqB,mBAAT,CAA6Br8B,EAA7B,CAAP;AACD;;;qDAEgCoW,I,EAAwC;AACvE,UAAIu6C,SAAS,GAAG,IAAhB;;AACA,WAAK,IAAMtxD,UAAX,IAAyB,KAAKwvD,mBAA9B,EAAmD;AACjD,YAAM98C,QAAQ,GAAK,KAAK88C,mBAAL,CAChBxvD,UADgB,CAAnB;AAGA,YAAMkkB,KAAK,GAAGxR,QAAQ,CAACgpB,iBAAT,CAA2B3kB,IAA3B,CAAd;;AACA,YAAImN,KAAK,KAAK,IAAd,EAAoB;AAClB;AACA,cAAIA,KAAK,CAAC3V,SAAN,KAAoBwI,IAAxB,EAA8B;AAC5B,mBAAOrE,QAAP;AACD,WAFD,MAEO,IAAI4+C,SAAS,KAAK,IAAlB,EAAwB;AAC7BA,qBAAS,GAAG5+C,QAAZ;AACD;AACF;AACF,OAfsE,CAgBvE;;;AACA,aAAO4+C,SAAP;AACD;;;iCAEYv6C,I,EAA6B;AACxC,UAAM8xC,iBAAiB,GAAG,KAAKC,gCAAL,CAAsC/xC,IAAtC,CAA1B;;AACA,UAAI8xC,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B,YAAI;AACF,iBAAOA,iBAAiB,CAACjtB,mBAAlB,CAAsC7kB,IAAtC,EAA4C,IAA5C,CAAP;AACD,SAFD,CAEE,OAAOpU,KAAP,EAAc,CACd;AACA;AACD;AACF;;AACD,aAAO,IAAP;AACD;;;+BAkPU4T,M,EAAsB;AAC/B,UAAM5V,EAAE,GAAG,KAAKqrD,YAAL,CAAkBz1C,MAAlB,CAAX;;AACA,UAAI5V,EAAE,KAAK,IAAX,EAAiB;AACf,aAAK8uD,OAAL,CAAa/D,IAAb,CAAkB,aAAlB,EAAiC/qD,EAAjC;AACD;AACF;;;yCAGCX,U,EACA6oD,iB,EACA;AACA,WAAK2G,mBAAL,CAAyBxvD,UAAzB,IAAuC6oD,iBAAvC;;AAEA,UAAI,KAAK6G,YAAT,EAAuB;AACrB7G,yBAAiB,CAAC1mB,cAAlB,CAAiC,KAAK6tB,yBAAtC;AACD;;AAEDnH,uBAAiB,CAAC9kB,sBAAlB,CAAyC,KAAK+rB,oBAA9C,EAPA,CASA;AACA;AACA;;AACA,UAAMyB,SAAS,GAAG,KAAK3B,mBAAvB;;AACA,UAAI2B,SAAS,KAAK,IAAd,IAAsBA,SAAS,CAACvxD,UAAV,KAAyBA,UAAnD,EAA+D;AAC7D6oD,yBAAiB,CAACpyB,cAAlB,CAAiC86B,SAAS,CAACpsD,IAA3C;AACD;AACF;;;0CAuMqBnF,U,EAAoB;AACxC,WAAKyvD,OAAL,CAAa/D,IAAb,CAAkB,4BAAlB,EAAgD1rD,UAAhD;AACD;;;wBAtkBqE;AACpE,aAAO,KAAKwvD,mBAAZ;AACD;;;;EAjHgC5N,Y;;;;;;;;;;;;;;;;;;AClJnC;;;;;;;;;AAsBO,SAAS4P,WAAT,CAAqBj7C,MAArB,EAAuD;AAC5D,MAAIA,MAAM,CAACna,cAAP,CAAsB,gCAAtB,CAAJ,EAA6D;AAC3D,WAAO,IAAP;AACD;;AAED,MAAI8V,aAAqB,GAAGpQ,OAA5B;AACA,MAAIqQ,oBAA4C,GAAG,EAAnD;;AACA,OAAK,IAAMP,MAAX,IAAqB9P,OAArB,EAA8B;AAC5BqQ,wBAAoB,CAACP,MAAD,CAApB,GAA+B9P,OAAO,CAAC8P,MAAD,CAAtC;AACD;;AAED,WAASW,oCAAT,CACEC,uBADF,EAEQ;AACNN,iBAAa,GAAGM,uBAAhB;AAEAL,wBAAoB,GAAI,EAAxB;;AACA,SAAK,IAAMP,OAAX,IAAqBM,aAArB,EAAoC;AAClCC,0BAAoB,CAACP,OAAD,CAApB,GAA+B9P,OAAO,CAAC8P,OAAD,CAAtC;AACD;AACF;;AAED,WAAS6/C,oBAAT,CAA8B/+C,QAA9B,EAAuD;AACrD,QAAI;AACF,UAAI,OAAOA,QAAQ,CAACzF,OAAhB,KAA4B,QAAhC,EAA0C;AACxC;AACA,YAAIyF,QAAQ,CAACg/C,UAAT,GAAsB,CAA1B,EAA6B;AAC3B;AACA;AACA;AACA,iBAAO,aAAP;AACD,SAPuC,CASxC;AACA;;;AACA,eAAO,YAAP,CAXwC,CAYxC;AACA;AACA;AACA;AACA;AACD,OAlBC,CAoBF;;;AACA,UAAM30D,SAAQ,GAAG+d,QAAQ,CAACxe,SAAT,CAAmBS,QAApC;;AACA,UAAI2V,QAAQ,CAACi/C,KAAT,IAAkBj/C,QAAQ,CAACi/C,KAAT,CAAeC,uBAArC,EAA8D;AAC5D;AACA,YAAMC,cAAc,GAAG90D,SAAQ,CAACwI,IAAT,CACrBmN,QAAQ,CAACi/C,KAAT,CAAeC,uBADM,CAAvB,CAF4D,CAK5D;;;AACA,YAAIC,cAAc,CAACptD,OAAf,CAAuB,UAAvB,MAAuC,CAA3C,EAA8C;AAC5C;AACA,iBAAO,YAAP;AACD,SAT2D,CAU5D;AACA;AACA;;;AACA,YAAIotD,cAAc,CAACptD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAAjD,EAAoD;AAClD,iBAAO,aAAP;AACD,SAf2D,CAgB5D;AACA;AACA;AACA;;;AACA,YAAIotD,cAAc,CAACptD,OAAf,CAAuB,2BAAvB,MAAwD,CAAC,CAA7D,EAAgE;AAC9D;AACA;AACA;AACA,cAAIotD,cAAc,CAACptD,OAAf,CAAuB,UAAvB,MAAuC,CAAC,CAA5C,EAA+C;AAC7C,mBAAO,aAAP;AACD,WAN6D,CAO9D;AACA;;;AACA,cAAIotD,cAAc,CAACptD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA/C,EAAkD;AAChD,mBAAO,aAAP;AACD,WAX6D,CAY9D;AACA;AACA;AACA;;;AACA,cAAIotD,cAAc,CAACptD,OAAf,CAAuB,MAAvB,MAAmC,CAAC,CAAxC,EAA2C;AACzC,mBAAO,aAAP;AACD,WAlB6D,CAmB9D;AACA;AACA;AACA;;;AACA,eACE;AACAotD,wBAAc,CAACptD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA3C,IACA;AACAotD,wBAAc,CAACptD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAJ/C,EAKE;AACA;AACA;AACA,mBAAO,YAAP;AACD,WATD,MASO;AACL;AACA,mBAAO,aAAP;AACD;AACF,SAxD2D,CAyD5D;AACA;AACA;;;AACA,aACE;AACAotD,sBAAc,CAACptD,OAAf,CAAuB,aAAvB,MAA0C,CAAC,CAA3C,IACA;AACAotD,sBAAc,CAACptD,OAAf,CAAuB,eAAvB,MAA4C,CAAC,CAJ/C,EAKE;AACA,iBAAO,YAAP;AACD,SAnE2D,CAoE5D;AACA;;;AACA,eAAO,UAAP;AACD;AACF,KA9FD,CA8FE,OAAO+2B,GAAP,EAAY,CACZ;AACA;AACA;AACA;AACD;;AACD,WAAO,YAAP;AACD;;AAED,WAASs2B,QAAT,CAAkBtsB,EAAlB,EAAgC;AAC9B;AACA;AACA,QAAI;AACF;AACA,UAAMzoC,UAAQ,GAAG+d,QAAQ,CAACxe,SAAT,CAAmBS,QAApC;;AACA,UAAMg1D,IAAI,GAAGh1D,UAAQ,CAACwI,IAAT,CAAcigC,EAAd,CAAb,CAHE,CAKF;AACA;AACA;;;AACA,UAAIusB,IAAI,CAACttD,OAAL,CAAa,KAAb,IAAsB,CAAC,CAA3B,EAA8B;AAC5B;AACAutD,yBAAiB,GAAG,IAApB,CAF4B,CAI5B;AACA;;AACA99C,kBAAU,CAAC,YAAY;AACrB,gBAAM,IAAIrS,KAAJ,CACJ,wDACE,0DADF,GAEE,kCAFF,GAGE,oDAJE,CAAN;AAMD,SAPS,CAAV;AAQD;AACF,KAvBD,CAuBE,OAAO25B,GAAP,EAAY,CAAE;AACjB,GAzJ2D,CA2J5D;;;AACA,WAAS7sB,gBAAT,CACEC,SADF,EAEEC,KAFF,EAGuB;AACrB,QACED,SAAS,KAAKnP,SAAd,IACAmP,SAAS,KAAK,IADd,IAEAA,SAAS,CAAC5P,MAAV,KAAqB,CAFrB,IAGA;AACC,WAAO4P,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAAxB,IACCA,SAAS,CAAC,CAAD,CAAT,CAAajK,KAAb,CAAmB,eAAnB,CALF,IAMAkK,KAAK,KAAKpP,SAPZ,EAQE;AACA,aAAOmP,SAAP;AACD,KAXoB,CAarB;;;AACA,QAAME,MAAM,GAAG,+BAAf;;AACA,QAAI,OAAOF,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAAxB,IAAoCA,SAAS,CAAC,CAAD,CAAT,CAAajK,KAAb,CAAmBmK,MAAnB,CAAxC,EAAoE;AAClE,0BAAaF,SAAS,CAAC,CAAD,CAAtB,GAA6BC,KAA7B,gCAAuCD,SAAS,CAACpO,KAAV,CAAgB,CAAhB,CAAvC;AACD,KAFD,MAEO;AACL,UAAMuO,QAAQ,GAAGH,SAAS,CAACxJ,MAAV,CAAiB,UAAC4J,SAAD,EAAYC,IAAZ,EAAkBlQ,CAAlB,EAAwB;AACxD,YAAIA,CAAC,GAAG,CAAR,EAAW;AACTiQ,mBAAS,IAAI,GAAb;AACD;;AACD,4BAAeC,IAAf;AACE,eAAK,QAAL;AACA,eAAK,SAAL;AACA,eAAK,QAAL;AACE,mBAAQD,SAAS,IAAI,IAArB;;AACF,eAAK,QAAL;AACE,gBAAME,UAAU,GAAGvI,MAAM,CAACwI,SAAP,CAAiBF,IAAjB,IAAyB,IAAzB,GAAgC,IAAnD;AACA,mBAAQD,SAAS,IAAIE,UAArB;;AACF;AACE,mBAAQF,SAAS,IAAI,IAArB;AATJ;AAWD,OAfgB,EAed,IAfc,CAAjB;AAgBA,cAAQD,QAAR,EAAkBF,KAAlB,gCAA4BD,SAA5B;AACD;AACF;;AAED,MAAIwD,SAAS,GAAG,IAAhB,CArM4D,CAuM5D;AACA;AACA;AACA;AACA;AACA;;AACA,WAAS6/C,wCAAT,OAMG;AAAA,QALD5+C,2BAKC,QALDA,2BAKC;AAAA,QAJDtB,YAIC,QAJDA,YAIC;AACD,QAAMyC,sBAAsB,GAAG,CAC7B,OAD6B,EAE7B,OAF6B,EAG7B,gBAH6B,EAI7B,MAJ6B,EAK7B,KAL6B,EAM7B,OAN6B,EAO7B,MAP6B,CAA/B;;AAUA,QAAIpC,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACA;AACD;;AAED,QAAMmB,sBAA8C,GAAG,EAAvD;;AAEAnB,aAAS,GAAG,qBAAM;AAChB,WAAK,IAAMR,QAAX,IAAqB2B,sBAArB,EAA6C;AAC3C,YAAI;AACFrB,uBAAa,CAACN,QAAD,CAAb,GAAwB2B,sBAAsB,CAAC3B,QAAD,CAA9C;AACD,SAFD,CAEE,OAAOjP,KAAP,EAAc,CAAE;AACnB;AACF,KAND;;AAQA6R,0BAAsB,CAAC/W,OAAvB,CAA+B,UAAAmU,MAAM,EAAI;AACvC,UAAI;AACF,YAAM4B,cAAc,GAAID,sBAAsB,CAAC3B,MAAD,CAAtB,GAAiCM,aAAa,CACpEN,MADoE,CAAb,CAEvD6C,8CAFuD,GAGrDvC,aAAa,CAACN,MAAD,CAAb,CAAsB6C,8CAH+B,GAIrDvC,aAAa,CAACN,MAAD,CAJjB;;AAMA,YAAM8B,cAAc,GAAG,SAAjBA,cAAiB,GAAkC;AACvD,cAAI,CAACL,2BAAL,EAAkC;AAChC;AACA;AACA,gBAAIqB,KAAJ;;AACA,oBAAQ9C,MAAR;AACE,mBAAK,MAAL;AACE8C,qBAAK,GACH3C,YAAY,KAAK,OAAjB,GACIjO,0BADJ,GAEIA,yBAHN;AAIA;;AACF,mBAAK,OAAL;AACE4Q,qBAAK,GACH3C,YAAY,KAAK,OAAjB,GACIjO,2BADJ,GAEIA,0BAHN;AAIA;;AACF,mBAAK,KAAL;AACA;AACE4Q,qBAAK,GACH3C,YAAY,KAAK,OAAjB,GACIjO,2BADJ,GAEIA,0BAHN;AAIA;AAnBJ;;AAsBA,gBAAI4Q,KAAJ,EAAW;AAAA,gDA3BYpF,IA2BZ;AA3BYA,oBA2BZ;AAAA;;AACTkE,4BAAc,MAAd,gCAAkB7E,gBAAgB,CAACW,IAAD,mBAAiBoF,KAAjB,EAAlC;AACD,aAFD,MAEO;AACL,oBAAM7S,KAAK,CAAC,8BAAD,CAAX;AACD;AACF;AACF,SAjCD;;AAmCA6R,sBAAc,CAACe,8CAAf,GACEjB,cADF;AAEAA,sBAAc,CAACmB,8CAAf,GACEjB,cADF;AAGAxB,qBAAa,CAACN,MAAD,CAAb,GAAwB8B,cAAxB;AACD,OAhDD,CAgDE,OAAO/Q,KAAP,EAAc,CAAE;AACnB,KAlDD;AAmDD,GAhS2D,CAkS5D;;;AACA,WAASuvD,0CAAT,GAAsD;AACpD,QAAI9/C,SAAS,KAAK,IAAlB,EAAwB;AACtBA,eAAS;AACTA,eAAS,GAAG,IAAZ;AACD;AACF;;AAED,MAAI1T,UAAU,GAAG,CAAjB;;AAEA,WAASyzD,MAAT,CAAgBz/C,QAAhB,EAAyC;AACvC,QAAM/R,EAAE,GAAG,EAAEjC,UAAb;AACA0zD,aAAS,CAAC3zD,GAAV,CAAckC,EAAd,EAAkB+R,QAAlB;AAEA,QAAM2/C,cAAc,GAAGL,iBAAiB,GACpC,UADoC,GAEpCP,oBAAoB,CAAC/+C,QAAD,CAFxB,CAJuC,CAQvC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAI6D,MAAM,CAACna,cAAP,CAAsB,sCAAtB,CAAJ,EAAmE;AAAA,kCAE/Dma,MAAM,CAACjB,oCAFwD;AAAA,UAC1DC,2BAD0D,yBAC1DA,2BAD0D;AAAA,UAC7BV,6BAD6B,yBAC7BA,6BAD6B;;AAGjE,UACE,OAAOU,2BAAP,KAAuC,UAAvC,IACA,OAAOV,6BAAP,KAAyC,UAF3C,EAGE;AACAU,mCAA2B,CAAC7C,QAAD,CAA3B;AACAmC,qCAA6B;AAC9B;AACF,KAzBsC,CA2BvC;AACA;;;AACA,QAAMoW,MAAM,GAAG1U,MAAM,CAAC+7C,yBAAtB;;AACA,QAAI,OAAOrnC,MAAP,KAAkB,UAAtB,EAAkC;AAChC,UAAM49B,iBAAiB,GAAG59B,MAAM,CAACC,IAAD,EAAOvqB,EAAP,EAAW+R,QAAX,EAAqB6D,MAArB,CAAhC;AACA2U,UAAI,CAACogC,kBAAL,CAAwB7sD,GAAxB,CAA4BkC,EAA5B,EAAgCkoD,iBAAhC;AACD;;AAED39B,QAAI,CAACxR,IAAL,CAAU,UAAV,EAAsB;AACpB/Y,QAAE,EAAFA,EADoB;AAEpB+R,cAAQ,EAARA,QAFoB;AAGpB2/C,oBAAc,EAAdA;AAHoB,KAAtB;AAMA,WAAO1xD,EAAP;AACD;;AAED,MAAIqxD,iBAAiB,GAAG,KAAxB;;AAEA,WAASO,GAAT,CAAaxrC,KAAb,EAA4Bye,EAA5B,EAAyC;AACvCta,QAAI,CAAC9R,EAAL,CAAQ2N,KAAR,EAAeye,EAAf;AACA,WAAO;AAAA,aAAMta,IAAI,CAAC3R,GAAL,CAASwN,KAAT,EAAgBye,EAAhB,CAAN;AAAA,KAAP;AACD;;AAED,WAASpsB,EAAT,CAAY2N,KAAZ,EAA2Bye,EAA3B,EAAwC;AACtC,QAAI,CAAC3rB,SAAS,CAACkN,KAAD,CAAd,EAAuB;AACrBlN,eAAS,CAACkN,KAAD,CAAT,GAAmB,EAAnB;AACD;;AACDlN,aAAS,CAACkN,KAAD,CAAT,CAAiBlnB,IAAjB,CAAsB2lC,EAAtB;AACD;;AAED,WAASjsB,GAAT,CAAawN,KAAb,EAA4Bye,EAA5B,EAAyC;AACvC,QAAI,CAAC3rB,SAAS,CAACkN,KAAD,CAAd,EAAuB;AACrB;AACD;;AACD,QAAMnZ,KAAK,GAAGiM,SAAS,CAACkN,KAAD,CAAT,CAAiBtiB,OAAjB,CAAyB+gC,EAAzB,CAAd;;AACA,QAAI53B,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBiM,eAAS,CAACkN,KAAD,CAAT,CAAiB/gB,MAAjB,CAAwB4H,KAAxB,EAA+B,CAA/B;AACD;;AACD,QAAI,CAACiM,SAAS,CAACkN,KAAD,CAAT,CAAiB/nB,MAAtB,EAA8B;AAC5B,aAAO6a,SAAS,CAACkN,KAAD,CAAhB;AACD;AACF;;AAED,WAASrN,IAAT,CAAcqN,KAAd,EAA6BvgB,IAA7B,EAAwC;AACtC,QAAIqT,SAAS,CAACkN,KAAD,CAAb,EAAsB;AACpBlN,eAAS,CAACkN,KAAD,CAAT,CAAiB9Q,GAAjB,CAAqB,UAAAuvB,EAAE;AAAA,eAAIA,EAAE,CAACh/B,IAAD,CAAN;AAAA,OAAvB;AACD;AACF;;AAED,WAASuoB,aAAT,CAAuB/uB,UAAvB,EAA+C;AAC7C,QAAMwyD,KAAK,GAAGC,UAAd;;AACA,QAAI,CAACD,KAAK,CAACxyD,UAAD,CAAV,EAAwB;AACtBwyD,WAAK,CAACxyD,UAAD,CAAL,GAAoB,IAAI7C,GAAJ,EAApB;AACD;;AACD,WAAOq1D,KAAK,CAACxyD,UAAD,CAAZ;AACD;;AAED,WAAS0yD,oBAAT,CAA8B1yD,UAA9B,EAAsDkkB,KAAtD,EAAkE;AAChE,QAAM2kC,iBAAiB,GAAGyC,kBAAkB,CAAC/sD,GAAnB,CAAuByB,UAAvB,CAA1B;;AACA,QAAI6oD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAACpuB,wBAAlB,CAA2CvW,KAA3C;AACD;AACF;;AAED,WAASyuC,iBAAT,CACE3yD,UADF,EAEEmO,IAFF,EAGEgsB,aAHF,EAIE;AACA,QAAMy4B,YAAY,GAAG1nC,IAAI,CAAC6D,aAAL,CAAmB/uB,UAAnB,CAArB;AACA,QAAM5C,OAAO,GAAG+Q,IAAI,CAAC/Q,OAArB;AACA,QAAMy1D,WAAW,GAAGD,YAAY,CAAClkD,GAAb,CAAiBP,IAAjB,CAApB;AACA,QAAM2kD,YAAY,GAChB11D,OAAO,CAAC4zB,aAAR,IAAyB,IAAzB,IAAiC5zB,OAAO,CAAC4zB,aAAR,CAAsB5pB,OAAtB,IAAiC,IADpE,CAJA,CAOA;;AACA,QAAI,CAACyrD,WAAD,IAAgB,CAACC,YAArB,EAAmC;AACjCF,kBAAY,CAACh1D,GAAb,CAAiBuQ,IAAjB;AACD,KAFD,MAEO,IAAI0kD,WAAW,IAAIC,YAAnB,EAAiC;AACtCF,kBAAY,CAAC9lC,MAAb,CAAoB3e,IAApB;AACD;;AACD,QAAM06C,iBAAiB,GAAGyC,kBAAkB,CAAC/sD,GAAnB,CAAuByB,UAAvB,CAA1B;;AACA,QAAI6oD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAACluB,qBAAlB,CAAwCxsB,IAAxC,EAA8CgsB,aAA9C;AACD;AACF;;AAED,WAAS44B,qBAAT,CAA+B/yD,UAA/B,EAAuDmO,IAAvD,EAAkE;AAChE,QAAM06C,iBAAiB,GAAGyC,kBAAkB,CAAC/sD,GAAnB,CAAuByB,UAAvB,CAA1B;;AACA,QAAI6oD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7BA,uBAAiB,CAACnuB,yBAAlB,CAA4CvsB,IAA5C;AACD;AACF;;AAED,WAAS6kD,aAAT,CAAuBhzD,UAAvB,EAA+C21C,YAA/C,EAAkE;AAChE,QAAMkT,iBAAiB,GAAGyC,kBAAkB,CAAC/sD,GAAnB,CAAuByB,UAAvB,CAA1B;;AACA,QAAI6oD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B,UAAIlT,YAAJ,EAAkB;AAChBkT,yBAAiB,CAAC7kB,yBAAlB;AACD,OAFD,MAEO;AACL6kB,yBAAiB,CAAC5kB,2BAAlB;AACD;AACF,KAND,MAMO;AACL;AACA;AACA,UAAI0R,YAAJ,EAAkB;AAChB,YAAMtiC,2BAA2B,GAC/BpD,MAAM,CAACgF,mDAAP,KAA+D,IADjE;AAEA,YAAMlD,YAAY,GAAG9B,MAAM,CAACiF,gCAA5B;AAEA+8C,gDAAwC,CAAC;AACvC5+C,qCAA2B,EAA3BA,2BADuC;AAEvCtB,sBAAY,EAAZA;AAFuC,SAAD,CAAxC;AAID,OATD,MASO;AACLmgD,kDAA0C;AAC3C;AACF;AACF;;AAID,MAAMe,qBAA8C,GAAG,EAAvD;AACA,MAAMC,YAAyD,GAAG,EAAlE;;AAEA,WAASC,sBAAT,CAAgCxwD,KAAhC,EAAuE;AACrE,QAAMywD,MAAM,GAAGzwD,KAAK,CAACqrB,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,CAAf;AACA,QAAMmY,KAAK,GAAGgtB,MAAM,CAACp0D,MAAP,GAAgB,CAAhB,GAAoBo0D,MAAM,CAAC,CAAD,CAA1B,GAAgC,IAA9C;AACA,WAAOhtB,KAAP;AACD;;AAED,WAAShkB,uBAAT,GAEE;AACA,WAAO8wC,YAAP;AACD;;AAED,WAASG,2BAAT,CAAqC1wD,KAArC,EAAmD;AACjD,QAAMqgB,eAAe,GAAGmwC,sBAAsB,CAACxwD,KAAD,CAA9C;;AACA,QAAIqgB,eAAe,KAAK,IAAxB,EAA8B;AAC5BiwC,2BAAqB,CAACpzD,IAAtB,CAA2BmjB,eAA3B;AACD;AACF;;AAED,WAASswC,0BAAT,CAAoC3wD,KAApC,EAAkD;AAChD,QAAIswD,qBAAqB,CAACj0D,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,UAAMgkB,eAAe,GAAGiwC,qBAAqB,CAACruD,GAAtB,EAAxB;AACA,UAAMqe,cAAc,GAAGkwC,sBAAsB,CAACxwD,KAAD,CAA7C;;AACA,UAAIsgB,cAAc,KAAK,IAAvB,EAA6B;AAC3BiwC,oBAAY,CAACrzD,IAAb,CAAkB,CAACmjB,eAAD,EAAkBC,cAAlB,CAAlB;AACD;AACF;AACF,GAhe2D,CAke5D;;;AACA,MAAMwvC,UAAsC,GAAG,EAA/C;AACA,MAAMnH,kBAAkB,GAAG,IAAIr5C,GAAJ,EAA3B;AACA,MAAM4H,SAAqC,GAAG,EAA9C;AACA,MAAMu4C,SAAS,GAAG,IAAIngD,GAAJ,EAAlB;AACA,MAAMshD,QAAQ,GAAG,IAAIthD,GAAJ,EAAjB;AAEA,MAAMiZ,IAAkB,GAAG;AACzBogC,sBAAkB,EAAlBA,kBADyB;AAEzBzxC,aAAS,EAATA,SAFyB;AAIzB05C,YAAQ,EAARA,QAJyB;AAMzB;AACAnB,aAAS,EAATA,SAPyB;AASzB14C,QAAI,EAAJA,IATyB;AAUzBqV,iBAAa,EAAbA,aAVyB;AAWzBojC,UAAM,EAANA,MAXyB;AAYzB/4C,MAAE,EAAFA,EAZyB;AAazBG,OAAG,EAAHA,GAbyB;AAczBg5C,OAAG,EAAHA,GAdyB;AAgBzB;AACA;AACAiB,iBAAa,EAAE,IAlBU;AAoBzB;AACA1B,YAAQ,EAARA,QArByB;AAsBzBY,wBAAoB,EAApBA,oBAtByB;AAuBzBC,qBAAiB,EAAjBA,iBAvByB;AAwBzBI,yBAAqB,EAArBA,qBAxByB;AAyBzBC,iBAAa,EAAbA,aAzByB;AA2BzB;AACA;AACA;AACA5wC,2BAAuB,EAAvBA,uBA9ByB;AA+BzBixC,+BAA2B,EAA3BA,2BA/ByB;AAgCzBC,8BAA0B,EAA1BA;AAhCyB,GAA3B;;AAmCA,MAAIG,KAAJ,EAAc,EAGb;;AAEDp3D,QAAM,CAAC4kB,cAAP,CACE1K,MADF,EAEE,gCAFF,EAGG;AACC;AACA;AACAa,gBAAY,EAAE8c,KAHf;AAICv2B,cAAU,EAAE,KAJb;AAKCY,OALD,iBAKO;AACJ,aAAO2sB,IAAP;AACD;AAPF,GAHH;AAcA,SAAOA,IAAP;AACD,C;;;;;;;;;;;ACtjBD;;;;;;;;AAWO,SAASwoC,QAAT,CAAkBxuD,MAAlB,EAAkCI,IAAlC,EAAgDkgC,EAAhD,EAAwE;AAC7E,MAAMmuB,GAAG,GAAGzuD,MAAM,CAACI,IAAD,CAAlB,CAD6E,CAE7E;;AACAJ,QAAM,CAACI,IAAD,CAAN,GAAe,UAAUqsB,QAAV,EAAsC;AACnD,WAAO6T,EAAE,CAACjgC,IAAH,CAAQ,IAAR,EAAcouD,GAAd,EAAmB/6C,SAAnB,CAAP;AACD,GAFD;;AAGA,SAAO+6C,GAAP;AACD;AAEM,SAASC,YAAT,CACL18C,MADK,EAEL28C,GAFK,EAGG;AACR,MAAMC,IAA4B,GAAG,EAArC;;AACA,OAAK,IAAMt1D,IAAX,IAAmBq1D,GAAnB,EAAwB;AACtBC,QAAI,CAACt1D,IAAD,CAAJ,GAAak1D,QAAQ,CAACx8C,MAAD,EAAS1Y,IAAT,EAAeq1D,GAAG,CAACr1D,IAAD,CAAlB,CAArB;AACD;;AACD,SAAOs1D,IAAP;AACD;AAEM,SAASC,WAAT,CAAqB78C,MAArB,EAAqC48C,IAArC,EAAyD;AAC9D,OAAK,IAAMt1D,IAAX,IAAmBs1D,IAAnB,EAAyB;AACvB58C,UAAM,CAAC1Y,IAAD,CAAN,GAAes1D,IAAI,CAACt1D,IAAD,CAAnB;AACD;AACF,C,CAED;;AACO,SAASwiC,WAAT,CAAqBrP,QAArB,EAAuD;AAC5D,MAAI,OAAOA,QAAQ,CAACqP,WAAhB,KAAgC,UAApC,EAAgD;AAC9CrP,YAAQ,CAACqP,WAAT;AACD,GAFD,MAEO,IACLrP,QAAQ,CAAC2rB,OAAT,IAAoB,IAApB,IACA,OAAO3rB,QAAQ,CAAC2rB,OAAT,CAAiBJ,kBAAxB,KAA+C,UAF1C,EAGL;AACAvrB,YAAQ,CAAC2rB,OAAT,CAAiBJ,kBAAjB,CAAoC,IAApC,EAA0C,YAAM,CAAE,CAAlD,EAAoD,aAApD;AACD;AACF,C;;;;;;;;;;AC/CD;;;;;;;;AASA;AAOA;AACA;AAOA;AAOA;AAMA;;AAqBA,SAAS8W,OAAT,CAAiBC,gBAAjB,EAAqD;AACnD,MAAI91D,WAAW,GAAG,IAAlB;AACA,MAAIT,GAAG,GAAG,IAAV,CAFmD,CAInD;;AACA,MAAIu2D,gBAAgB,CAACC,eAAjB,IAAoC,IAAxC,EAA8C;AAC5C,QAAID,gBAAgB,CAACC,eAAjB,CAAiCx2D,GAArC,EAA0C;AACxCA,SAAG,GAAGwB,MAAM,CAAC+0D,gBAAgB,CAACC,eAAjB,CAAiCx2D,GAAlC,CAAZ;AACD;;AAED,QAAM2J,WAAW,GAAG4sD,gBAAgB,CAACC,eAAjB,CAAiC71D,IAArD;;AACA,QAAI,OAAOgJ,WAAP,KAAuB,QAA3B,EAAqC;AACnClJ,iBAAW,GAAGkJ,WAAd;AACD,KAFD,MAEO,IAAI,OAAOA,WAAP,KAAuB,UAA3B,EAAuC;AAC5ClJ,iBAAW,GAAGC,2CAAc,CAACiJ,WAAD,CAA5B;AACD;AACF;;AAED,SAAO;AACLlJ,eAAW,EAAXA,WADK;AAELT,OAAG,EAAHA;AAFK,GAAP;AAID;;AAED,SAASy2D,cAAT,CAAwBF,gBAAxB,EAAyE;AACvE;AACA,MAAIA,gBAAgB,CAACC,eAAjB,IAAoC,IAAxC,EAA8C;AAC5C,QAAM7sD,WAAW,GAAG4sD,gBAAgB,CAACC,eAAjB,CAAiC71D,IAArD;;AACA,QAAI,OAAOgJ,WAAP,KAAuB,UAA3B,EAAuC;AACrC,UAAM+sD,cAAc,GAAGH,gBAAgB,CAACI,iBAAjB,EAAvB;;AACA,UAAID,cAAc,KAAK,IAAvB,EAA6B;AAC3B,eAAO/vD,iCAAP;AACD,OAFD,MAEO;AACL,eAAOE,oCAAP;AACD;AACF,KAPD,MAOO,IAAI,OAAO8C,WAAP,KAAuB,QAA3B,EAAqC;AAC1C,aAAOlF,yCAAP;AACD;AACF;;AACD,SAAOoH,0CAAP;AACD;;AAED,SAAS+qD,WAAT,CAAqBL,gBAArB,EAA2D;AACzD,MAAM1yD,QAAQ,GAAG,EAAjB,CADyD,CAGzD;AACA;AACA;;AACA,MAAI,gBAAO0yD,gBAAP,MAA4B,QAAhC,EAA0C,CACxC;AACD,GAFD,MAEO,IACLA,gBAAgB,CAACC,eAAjB,KAAqC,IAArC,IACAD,gBAAgB,CAACC,eAAjB,KAAqC,KAFhC,EAGL,CACA;AACD,GALM,MAKA,IAAID,gBAAgB,CAACM,kBAArB,EAAyC;AAC9C,QAAMviC,KAAK,GAAGiiC,gBAAgB,CAACM,kBAA/B;;AACA,QAAIJ,cAAc,CAACniC,KAAD,CAAd,KAA0BzoB,0CAA9B,EAAyD;AACvDhI,cAAQ,CAAC1B,IAAT,CAAcmyB,KAAd;AACD;AACF,GALM,MAKA,IAAIiiC,gBAAgB,CAACO,iBAArB,EAAwC;AAC7C,QAAMC,gBAAgB,GAAGR,gBAAgB,CAACO,iBAA1C;;AACA,SAAK,IAAMh2D,IAAX,IAAmBi2D,gBAAnB,EAAqC;AACnC,UAAMziC,MAAK,GAAGyiC,gBAAgB,CAACj2D,IAAD,CAA9B;;AACA,UAAI21D,cAAc,CAACniC,MAAD,CAAd,KAA0BzoB,0CAA9B,EAAyD;AACvDhI,gBAAQ,CAAC1B,IAAT,CAAcmyB,MAAd;AACD;AACF;AACF,GA1BwD,CA2BzD;AACA;;;AACA,SAAOzwB,QAAP;AACD;;AAEM,SAAS0pB,MAAT,CACLC,IADK,EAELlrB,UAFK,EAGL0S,QAHK,EAILJ,MAJK,EAKc;AACnB,MAAMoiD,uBAAsD,GAAG,IAAIziD,GAAJ,EAA/D;AACA,MAAM0iD,uBAA0D,GAC9D,IAAIn4D,OAAJ,EADF;AAEA,MAAMo4D,2BAA8D,GAClE,IAAIp4D,OAAJ,EADF;AAGA,MAAIq4D,sBAA2C,GAC3C,IADJ;AAEA,MAAIC,2BAAJ;;AACA,MAAIp5B,iBAAiB,GAAG,2BAAC3kB,IAAD,EAAsB;AAC5C;AACA,WAAO,IAAP;AACD,GAHD;;AAKA,MAAIrE,QAAQ,CAACqiD,aAAb,EAA4B;AAC1BF,0BAAsB,GAAG,gCAAC99C,IAAD,EAAO8kB,6BAAP,EAAyC;AAChE,UAAMo4B,gBAAgB,GACpBvhD,QAAQ,CAACqiD,aAAT,CAAuBC,0BAAvB,CAAkDj+C,IAAlD,CADF;AAEA,aAAO49C,uBAAuB,CAACp2D,GAAxB,CAA4B01D,gBAA5B,KAAiD,IAAxD;AACD,KAJD;;AAKAa,+BAA2B,GAAG,qCAACn0D,EAAD,EAAgB;AAC5C,UAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;AACA,aAAO+R,QAAQ,CAACqiD,aAAT,CAAuBE,mBAAvB,CAA2ChB,gBAA3C,CAAP;AACD,KAHD;;AAIAv4B,qBAAiB,GAAG,2BAAC3kB,IAAD,EAAsB;AACxC,aAAOrE,QAAQ,CAACqiD,aAAT,CAAuBC,0BAAvB,CAAkDj+C,IAAlD,CAAP;AACD,KAFD;AAGD,GAbD,MAaO,IAAIrE,QAAQ,CAACi/C,KAAT,CAAeuD,KAAf,IAAwBxiD,QAAQ,CAACi/C,KAAT,CAAewD,OAA3C,EAAoD;AACzDN,0BAAsB,GAAG,gCAAC99C,IAAD,EAAO8kB,6BAAP,EAAyC;AAChE;AACA,aAAO,IAAP;AACD,KAHD;;AAIAi5B,+BAA2B,GAAG,qCAACn0D,EAAD,EAAgB;AAC5C;AACA,aAAO,IAAP;AACD,KAHD;AAID;;AAED,WAAS86B,wBAAT,CAAkC96B,EAAlC,EAA6D;AAC3D,QAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;AACA,WAAOszD,gBAAgB,GAAGD,OAAO,CAACC,gBAAD,CAAP,CAA0B91D,WAA7B,GAA2C,IAAlE;AACD;;AAED,WAAS+2D,KAAT,CAAejB,gBAAf,EAA2D;AACzD,QAAI,gBAAOA,gBAAP,MAA4B,QAA5B,IAAwCA,gBAAgB,KAAK,IAAjE,EAAuE;AACrE,YAAM,IAAIpyD,KAAJ,CAAU,gCAAgCoyD,gBAA1C,CAAN;AACD;;AACD,QAAI,CAACU,uBAAuB,CAACjmD,GAAxB,CAA4BulD,gBAA5B,CAAL,EAAoD;AAClD,UAAMtzD,GAAE,GAAGhC,mCAAM,EAAjB;;AACAg2D,6BAAuB,CAACl2D,GAAxB,CAA4Bw1D,gBAA5B,EAA8CtzD,GAA9C;AACA+zD,6BAAuB,CAACj2D,GAAxB,CAA4BkC,GAA5B,EAAgCszD,gBAAhC;AACD;;AACD,WAASU,uBAAuB,CAACp2D,GAAxB,CAA4B01D,gBAA5B,CAAT;AACD;;AAED,WAASmB,cAAT,CAAwBv4D,CAAxB,EAAuCC,CAAvC,EAAsD;AACpD,QAAID,CAAC,CAACmC,MAAF,KAAalC,CAAC,CAACkC,MAAnB,EAA2B;AACzB,aAAO,KAAP;AACD;;AACD,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,CAAC,CAACmC,MAAtB,EAA8BD,CAAC,EAA/B,EAAmC;AACjC,UAAIlC,CAAC,CAACkC,CAAD,CAAD,KAASjC,CAAC,CAACiC,CAAD,CAAd,EAAmB;AACjB,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAlEkB,CAoEnB;;;AACA,MAAIs2D,aAAa,GAAG,EAApB;AAEA,MAAIC,oBAAoB,GAAG,IAA3B;;AACA,MAAI5iD,QAAQ,CAAC6iD,UAAb,EAAyB;AACvB;AACAD,wBAAoB,GAAG1B,YAAY,CAAClhD,QAAQ,CAAC6iD,UAAV,EAAsB;AACvDC,oBADuD,0BACxChwB,EADwC,EACpCl2B,IADoC,EAC9B;AACvB,YAAM2kD,gBAAgB,GAAG3kD,IAAI,CAAC,CAAD,CAA7B;AACA,YAAMmmD,iBAAiB,GAAGnmD,IAAI,CAAC,CAAD,CAA9B;;AACA,YAAI6kD,cAAc,CAACF,gBAAD,CAAd,KAAqC1qD,0CAAzC,EAAoE;AAClE;AACA,iBAAOi8B,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAP;AACD;;AACD,YAAImmD,iBAAiB,CAACC,gBAAlB,KAAuCj2D,SAA3C,EAAsD;AACpD;AACA;AACA,iBAAO+lC,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAP;AACD;;AAED,YAAM3O,EAAE,GAAGu0D,KAAK,CAACjB,gBAAD,CAAhB,CAbuB,CAcvB;;AACA,YAAMpzD,QAAQ,GACZw0D,aAAa,CAACr2D,MAAd,GAAuB,CAAvB,GACIq2D,aAAa,CAACA,aAAa,CAACr2D,MAAd,GAAuB,CAAxB,CADjB,GAEI,CAHN;AAIA02B,mBAAW,CAACu+B,gBAAD,EAAmBtzD,EAAnB,EAAuBE,QAAvB,CAAX;AACAw0D,qBAAa,CAACx1D,IAAd,CAAmBc,EAAnB,EApBuB,CAsBvB;;AACAi0D,mCAA2B,CAACn2D,GAA5B,CACEw1D,gBADF,EAEEiB,KAAK,CAACO,iBAAiB,CAACC,gBAAnB,CAFP;;AAKA,YAAI;AACF;AACA,cAAM55C,MAAM,GAAG0pB,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAf;AACA+lD,uBAAa,CAACzwD,GAAd;AACA,iBAAOkX,MAAP;AACD,SALD,CAKE,OAAO0f,GAAP,EAAY;AACZ;AACA65B,uBAAa,GAAG,EAAhB;AACA,gBAAM75B,GAAN;AACD,SATD,SASU;AACR,cAAI65B,aAAa,CAACr2D,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMiB,MAAM,GAAG20D,2BAA2B,CAACr2D,GAA5B,CAAgC01D,gBAAhC,CAAf;;AACA,gBAAIh0D,MAAM,KAAKR,SAAf,EAA0B;AACxB,oBAAM,IAAIoC,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD4qB,8BAAkB,CAACxsB,MAAD,CAAlB;AACD;AACF;AACF,OA/CsD;AAgDvD01D,8BAhDuD,oCAgD9BnwB,EAhD8B,EAgD1Bl2B,IAhD0B,EAgDpB;AACjC,YAAM2kD,gBAAgB,GAAG3kD,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI6kD,cAAc,CAACF,gBAAD,CAAd,KAAqC1qD,0CAAzC,EAAoE;AAClE;AACA,iBAAOi8B,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAP;AACD;;AAED,YAAM3O,EAAE,GAAGu0D,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACx1D,IAAd,CAAmBc,EAAnB;AAEA,YAAMi1D,YAAY,GAAGtB,WAAW,CAACL,gBAAD,CAAhC;;AACA,YAAI;AACF;AACA,cAAMn4C,MAAM,GAAG0pB,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAf;AAEA,cAAMkpB,YAAY,GAAG87B,WAAW,CAACL,gBAAD,CAAhC;;AACA,cAAI,CAACmB,cAAc,CAACQ,YAAD,EAAep9B,YAAf,CAAnB,EAAiD;AAC/C;AACAq9B,yBAAa,CAAC5B,gBAAD,EAAmBtzD,EAAnB,EAAuB63B,YAAvB,CAAb;AACD;;AAED68B,uBAAa,CAACzwD,GAAd;AACA,iBAAOkX,MAAP;AACD,SAZD,CAYE,OAAO0f,GAAP,EAAY;AACZ;AACA65B,uBAAa,GAAG,EAAhB;AACA,gBAAM75B,GAAN;AACD,SAhBD,SAgBU;AACR,cAAI65B,aAAa,CAACr2D,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMiB,MAAM,GAAG20D,2BAA2B,CAACr2D,GAA5B,CAAgC01D,gBAAhC,CAAf;;AACA,gBAAIh0D,MAAM,KAAKR,SAAf,EAA0B;AACxB,oBAAM,IAAIoC,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD4qB,8BAAkB,CAACxsB,MAAD,CAAlB;AACD;AACF;AACF,OApFsD;AAqFvD61D,sBArFuD,4BAqFtCtwB,EArFsC,EAqFlCl2B,IArFkC,EAqF5B;AACzB,YAAM2kD,gBAAgB,GAAG3kD,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI6kD,cAAc,CAACF,gBAAD,CAAd,KAAqC1qD,0CAAzC,EAAoE;AAClE;AACA,iBAAOi8B,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAP;AACD;;AAED,YAAM3O,EAAE,GAAGu0D,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACx1D,IAAd,CAAmBc,EAAnB;AAEA,YAAMi1D,YAAY,GAAGtB,WAAW,CAACL,gBAAD,CAAhC;;AACA,YAAI;AACF;AACA,cAAMn4C,MAAM,GAAG0pB,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAf;AAEA,cAAMkpB,YAAY,GAAG87B,WAAW,CAACL,gBAAD,CAAhC;;AACA,cAAI,CAACmB,cAAc,CAACQ,YAAD,EAAep9B,YAAf,CAAnB,EAAiD;AAC/C;AACAq9B,yBAAa,CAAC5B,gBAAD,EAAmBtzD,EAAnB,EAAuB63B,YAAvB,CAAb;AACD;;AAED68B,uBAAa,CAACzwD,GAAd;AACA,iBAAOkX,MAAP;AACD,SAZD,CAYE,OAAO0f,GAAP,EAAY;AACZ;AACA65B,uBAAa,GAAG,EAAhB;AACA,gBAAM75B,GAAN;AACD,SAhBD,SAgBU;AACR,cAAI65B,aAAa,CAACr2D,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMiB,MAAM,GAAG20D,2BAA2B,CAACr2D,GAA5B,CAAgC01D,gBAAhC,CAAf;;AACA,gBAAIh0D,MAAM,KAAKR,SAAf,EAA0B;AACxB,oBAAM,IAAIoC,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD4qB,8BAAkB,CAACxsB,MAAD,CAAlB;AACD;AACF;AACF,OAzHsD;AA0HvD81D,sBA1HuD,4BA0HtCvwB,EA1HsC,EA0HlCl2B,IA1HkC,EA0H5B;AACzB,YAAM2kD,gBAAgB,GAAG3kD,IAAI,CAAC,CAAD,CAA7B;;AACA,YAAI6kD,cAAc,CAACF,gBAAD,CAAd,KAAqC1qD,0CAAzC,EAAoE;AAClE;AACA,iBAAOi8B,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAP;AACD;;AAED,YAAM3O,EAAE,GAAGu0D,KAAK,CAACjB,gBAAD,CAAhB;AACAoB,qBAAa,CAACx1D,IAAd,CAAmBc,EAAnB;;AACA,YAAI;AACF;AACA,cAAMmb,MAAM,GAAG0pB,EAAE,CAAC1sB,KAAH,CAAS,IAAT,EAAexJ,IAAf,CAAf;AACA+lD,uBAAa,CAACzwD,GAAd,GAHE,CAKF;;AACA0xB,uBAAa,CAAC29B,gBAAD,EAAmBtzD,EAAnB,CAAb;AAEA,iBAAOmb,MAAP;AACD,SATD,CASE,OAAO0f,GAAP,EAAY;AACZ;AACA65B,uBAAa,GAAG,EAAhB;AACA,gBAAM75B,GAAN;AACD,SAbD,SAaU;AACR,cAAI65B,aAAa,CAACr2D,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,gBAAMiB,MAAM,GAAG20D,2BAA2B,CAACr2D,GAA5B,CAAgC01D,gBAAhC,CAAf;;AACA,gBAAIh0D,MAAM,KAAKR,SAAf,EAA0B;AACxB,oBAAM,IAAIoC,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACD4qB,8BAAkB,CAACxsB,MAAD,CAAlB;AACD;AACF;AACF;AAzJsD,KAAtB,CAAnC;AA2JD;;AAED,WAASy5B,OAAT,GAAmB;AACjB,QAAI47B,oBAAoB,KAAK,IAA7B,EAAmC;AACjC,UAAI5iD,QAAQ,CAACg0B,SAAb,EAAwB;AACtBqtB,mBAAW,CAACrhD,QAAQ,CAACg0B,SAAT,CAAmBsvB,KAApB,EAA2BV,oBAA3B,CAAX;AACD,OAFD,MAEO;AACLvB,mBAAW,CAACrhD,QAAQ,CAAC6iD,UAAV,EAAsBD,oBAAtB,CAAX;AACD;AACF;;AACDA,wBAAoB,GAAG,IAAvB;AACD;;AAED,WAAS5/B,WAAT,CACEu+B,gBADF,EAEEtzD,EAFF,EAGEE,QAHF,EAIE;AACA,QAAM80B,MAAM,GAAG90B,QAAQ,KAAK,CAA5B;;AAEA,QAAIqJ,8BAAJ,EAAe;AACbpI,aAAO,CAACC,GAAR,CACE,iBADF,EAEE,kCAFF,EAGEpB,EAHF,EAIEqzD,OAAO,CAACC,gBAAD,CAAP,CAA0B91D,WAJ5B;AAMD;;AAED,QAAIw3B,MAAJ,EAAY;AACV;AACA,UAAMC,gBAAgB,GACpBq+B,gBAAgB,CAACC,eAAjB,IAAoC,IAApC,IACAD,gBAAgB,CAACC,eAAjB,CAAiCrW,MAAjC,IAA2C,IAF7C;AAIA3uB,mBAAa,CAACxuB,uCAAD,CAAb;AACAwuB,mBAAa,CAACvuB,EAAD,CAAb;AACAuuB,mBAAa,CAACtuB,gCAAD,CAAb;AACAsuB,mBAAa,CAAC,CAAD,CAAb,CATU,CASQ;;AAClBA,mBAAa,CAAC,CAAD,CAAb,CAVU,CAUQ;;AAClBA,mBAAa,CAAC,CAAD,CAAb,CAXU,CAWQ;;AAClBA,mBAAa,CAAC0G,gBAAgB,GAAG,CAAH,GAAO,CAAxB,CAAb;AACD,KAbD,MAaO;AACL,UAAMv3B,IAAI,GAAG81D,cAAc,CAACF,gBAAD,CAA3B;;AADK,qBAEsBD,OAAO,CAACC,gBAAD,CAF7B;AAAA,UAEE91D,WAFF,YAEEA,WAFF;AAAA,UAEeT,GAFf,YAEeA,GAFf;;AAIL,UAAMw4B,OAAO,GACX+9B,gBAAgB,CAACC,eAAjB,IAAoC,IAApC,IACAD,gBAAgB,CAACC,eAAjB,CAAiCrW,MAAjC,IAA2C,IAD3C,GAEIqX,KAAK,CAACjB,gBAAgB,CAACC,eAAjB,CAAiCrW,MAAlC,CAFT,GAGI,CAJN;AAMA,UAAM/8C,mBAAmB,GAAG00B,WAAW,CAACr3B,WAAD,CAAvC;AACA,UAAMi4B,WAAW,GAAGZ,WAAW,CAAC93B,GAAD,CAA/B;AACAwxB,mBAAa,CAACxuB,uCAAD,CAAb;AACAwuB,mBAAa,CAACvuB,EAAD,CAAb;AACAuuB,mBAAa,CAAC7wB,IAAD,CAAb;AACA6wB,mBAAa,CAACruB,QAAD,CAAb;AACAquB,mBAAa,CAACgH,OAAD,CAAb;AACAhH,mBAAa,CAACpuB,mBAAD,CAAb;AACAouB,mBAAa,CAACkH,WAAD,CAAb;AACD;AACF;;AAED,WAASy/B,aAAT,CACE5B,gBADF,EAEEtzD,EAFF,EAGE63B,YAHF,EAIE;AACAtJ,iBAAa,CAAC7tB,oDAAD,CAAb;AACA6tB,iBAAa,CAACvuB,EAAD,CAAb;AACA,QAAMs1D,YAAY,GAAGz9B,YAAY,CAACviB,GAAb,CAAiBi/C,KAAjB,CAArB;AACAhmC,iBAAa,CAAC+mC,YAAY,CAACj3D,MAAd,CAAb;;AACA,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGk3D,YAAY,CAACj3D,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5CmwB,mBAAa,CAAC+mC,YAAY,CAACl3D,CAAD,CAAb,CAAb;AACD;AACF;;AAED,WAASu3B,aAAT,CAAuB29B,gBAAvB,EAA2DtzD,EAA3D,EAAuE;AACrEu1D,uBAAmB,CAACr2D,IAApB,CAAyBc,EAAzB;AACA+zD,2BAAuB,CAAC5nC,MAAxB,CAA+BnsB,EAA/B;AACD;;AAED,WAASw1D,2BAAT,CACEx1D,EADF,EAEEE,QAFF,EAGEZ,MAHF,EAIE;AACA,QAAIiK,8BAAJ,EAAe;AACbpI,aAAO,CAACgjC,KAAR,CAAc,mCAAd,EAAmDnkC,EAAnD;AACD;;AAED,QAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BW,iCAA2B,CAACn2D,GAA5B,CAAgCw1D,gBAAhC,EAAkDh0D,MAAlD;AACAy1B,iBAAW,CAACu+B,gBAAD,EAAmBtzD,EAAnB,EAAuBE,QAAvB,CAAX;AACAyzD,iBAAW,CAACL,gBAAD,CAAX,CAA8Bx2D,OAA9B,CAAsC,UAAAu0B,KAAK;AAAA,eACzCmkC,2BAA2B,CAACjB,KAAK,CAACljC,KAAD,CAAN,EAAerxB,EAAf,EAAmBV,MAAnB,CADc;AAAA,OAA3C;AAGD;;AAED,QAAIiK,8BAAJ,EAAe;AACbpI,aAAO,CAACosB,QAAR;AACD;AACF;;AAED,WAAS2L,sBAAT,GAAkC;AAChC;AAEA,QAAM24B,KAAK,GACT9/C,QAAQ,CAACi/C,KAAT,CAAeyE,uBAAf,IACA1jD,QAAQ,CAACi/C,KAAT,CAAe0E,uBAFjB;;AAIA,SAAK,IAAM34D,GAAX,IAAkB80D,KAAlB,EAAyB;AACvB,UAAMyB,gBAAgB,GAAGzB,KAAK,CAAC90D,GAAD,CAA9B;;AACA,UAAMiD,IAAE,GAAGu0D,KAAK,CAACjB,gBAAD,CAAhB;;AACAkC,iCAA2B,CAACx1D,IAAD,EAAK,CAAL,EAAQA,IAAR,CAA3B;AACA8rB,wBAAkB,CAAC9rB,IAAD,CAAlB;AACD;AACF;;AAED,MAAM+yB,iBAAgC,GAAG,EAAzC;AACA,MAAMI,kBAAuC,GAAG,IAAI7hB,GAAJ,EAAhD;AACA,MAAIikD,mBAAkC,GAAG,EAAzC;AACA,MAAIniC,wBAAgC,GAAG,CAAvC;AACA,MAAIC,sBAAqC,GAAG,IAA5C;;AAEA,WAASvH,kBAAT,CAA4BxsB,MAA5B,EAA4C;AAC1C,QACEyzB,iBAAiB,CAAC10B,MAAlB,KAA6B,CAA7B,IACAk3D,mBAAmB,CAACl3D,MAApB,KAA+B,CAD/B,IAEAg1B,sBAAsB,KAAK,IAH7B,EAIE;AACA;AACD;;AAED,QAAMqB,aAAa,GACjB6gC,mBAAmB,CAACl3D,MAApB,IAA8Bg1B,sBAAsB,KAAK,IAA3B,GAAkC,CAAlC,GAAsC,CAApE,CADF;AAGA,QAAMj0B,UAAU,GAAG,IAAI2F,KAAJ,EACjB;AACA,QAAI;AACF;AACA,KAFF,GAEM;AACJ;AACAquB,4BAJF,KAKE;AACA;AACCsB,iBAAa,GAAG,CAAhB,GAAoB,IAAIA,aAAxB,GAAwC,CAP3C,IAQE;AACA3B,qBAAiB,CAAC10B,MAXH,CAAnB,CAZ0C,CA0B1C;AACA;AACA;;AACA,QAAID,CAAC,GAAG,CAAR;AACAgB,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBiB,UAAlB;AACAD,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBkB,MAAlB,CA/B0C,CAiC1C;AACA;;AACAF,cAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBg1B,wBAAlB;AACAD,sBAAkB,CAACr2B,OAAnB,CAA2B,UAACyE,KAAD,EAAQxE,GAAR,EAAgB;AACzCqC,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBrB,GAAG,CAACsB,MAAtB;AACA,UAAMs3D,UAAU,GAAG/2D,4CAAe,CAAC7B,GAAD,CAAlC;;AACA,WAAK,IAAIg3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4hC,UAAU,CAACt3D,MAA/B,EAAuC01B,CAAC,EAAxC,EAA4C;AAC1C30B,kBAAU,CAAChB,CAAC,GAAG21B,CAAL,CAAV,GAAoB4hC,UAAU,CAAC5hC,CAAD,CAA9B;AACD;;AACD31B,OAAC,IAAIrB,GAAG,CAACsB,MAAT;AACD,KAPD;;AASA,QAAIq2B,aAAa,GAAG,CAApB,EAAuB;AACrB;AACAt1B,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBgC,0CAAlB,CAFqB,CAGrB;;AACAhB,gBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBs2B,aAAlB,CAJqB,CAKrB;;AACA,WAAK,IAAIX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwhC,mBAAmB,CAACl3D,MAAxC,EAAgD01B,CAAC,EAAjD,EAAqD;AACnD30B,kBAAU,CAAChB,CAAC,EAAF,CAAV,GAAkBm3D,mBAAmB,CAACxhC,CAAD,CAArC;AACD,OARoB,CASrB;;;AACA,UAAIV,sBAAsB,KAAK,IAA/B,EAAqC;AACnCj0B,kBAAU,CAAChB,CAAD,CAAV,GAAgBi1B,sBAAhB;AACAj1B,SAAC;AACF;AACF,KA3DyC,CA6D1C;;;AACA,SAAK,IAAI21B,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGhB,iBAAiB,CAAC10B,MAAtC,EAA8C01B,EAAC,EAA/C,EAAmD;AACjD30B,gBAAU,CAAChB,CAAC,GAAG21B,EAAL,CAAV,GAAoBhB,iBAAiB,CAACgB,EAAD,CAArC;AACD;;AACD31B,KAAC,IAAI20B,iBAAiB,CAAC10B,MAAvB;;AAEA,QAAIkL,8BAAJ,EAAe;AACbpK,uDAAoB,CAACC,UAAD,CAApB;AACD,KArEyC,CAuE1C;;;AACAmrB,QAAI,CAACxR,IAAL,CAAU,YAAV,EAAwB3Z,UAAxB;AAEA2zB,qBAAiB,CAAC10B,MAAlB,GAA2B,CAA3B;AACAk3D,uBAAmB,GAAG,EAAtB;AACAliC,0BAAsB,GAAG,IAAzB;AACAF,sBAAkB,CAACnM,KAAnB;AACAoM,4BAAwB,GAAG,CAA3B;AACD;;AAED,WAAS7E,aAAT,CAAuB+E,EAAvB,EAAyC;AACvC,QAAIC,KAAJ,EAAa,EAOZ;;AACDR,qBAAiB,CAAC7zB,IAAlB,CAAuBo0B,EAAvB;AACD;;AAED,WAASuB,WAAT,CAAqBkW,GAArB,EAAiD;AAC/C,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,aAAO,CAAP;AACD;;AACD,QAAM6qB,UAAU,GAAGziC,kBAAkB,CAACv1B,GAAnB,CAAuBmtC,GAAvB,CAAnB;;AACA,QAAI6qB,UAAU,KAAK92D,SAAnB,EAA8B;AAC5B,aAAO82D,UAAP;AACD;;AACD,QAAMC,QAAQ,GAAG1iC,kBAAkB,CAAC/qB,IAAnB,GAA0B,CAA3C;AACA+qB,sBAAkB,CAACr1B,GAAnB,CAAuBitC,GAAvB,EAA4B8qB,QAA5B,EAT+C,CAU/C;AACA;AACA;;AACAziC,4BAAwB,IAAI2X,GAAG,CAAC1sC,MAAJ,GAAa,CAAzC;AACA,WAAOw3D,QAAP;AACD;;AAED,MAAIC,2BAA0C,GAAG,IAAjD;AACA,MAAIn3B,uBAA+B,GAAG,EAAtC,CAndmB,CAqdnB;AACA;;AACA,WAASE,mBAAT,CAA6Br6B,IAA7B,EAA2D;AACzD,QAAI/H,OAAO,GAAGkiC,uBAAd;AACAn6B,QAAI,CAAC1H,OAAL,CAAa,UAAAC,GAAG,EAAI;AAClB,UAAI,CAACN,OAAO,CAACM,GAAD,CAAZ,EAAmB;AACjBN,eAAO,CAACM,GAAD,CAAP,GAAe,EAAf;AACD;;AACDN,aAAO,GAAGA,OAAO,CAACM,GAAD,CAAjB;AACD,KALD;AAMD;;AAED,WAAS+hC,mBAAT,CAA6B/hC,GAA7B,EAA0C;AACxC;AACA;AACA,WAAO,SAAS0P,aAAT,CAAuBjI,IAAvB,EAA8D;AACnE,UAAI/H,OAAO,GAAGkiC,uBAAuB,CAAC5hC,GAAD,CAArC;;AACA,UAAI,CAACN,OAAL,EAAc;AACZ,eAAO,KAAP;AACD;;AACD,WAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoG,IAAI,CAACnG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC3B,eAAO,GAAGA,OAAO,CAAC+H,IAAI,CAACpG,CAAD,CAAL,CAAjB;;AACA,YAAI,CAAC3B,OAAL,EAAc;AACZ,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD,KAZD;AAaD,GAjfkB,CAmfnB;;;AACA,WAAS4/B,mBAAT,CAA6Br8B,EAA7B,EAA2D;AACzD,QAAIgxB,QAAQ,GAAG,IAAf;AACA,QAAI9iB,KAAK,GAAG,IAAZ;AAEA,QAAMolD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BtiC,cAAQ,GAAGsiC,gBAAgB,CAACyC,SAAjB,IAA8B,IAAzC;AAEA,UAAMtvD,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;;AACA,UAAI9sD,OAAO,IAAI,IAAX,IAAmBA,OAAO,CAACwpB,KAAR,IAAiB,IAAxC,EAA8C;AAC5C/hB,aAAK,GAAGzH,OAAO,CAACwpB,KAAR,CAAc/hB,KAAd,IAAuB,IAA/B;AACD;AACF;;AAED,WAAO;AACL8iB,cAAQ,EAARA,QADK;AAEL9iB,WAAK,EAALA;AAFK,KAAP;AAID;;AAED,WAAS8wB,qBAAT,CAA+Bh/B,EAA/B,EAAiD;AAC/C,QAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BnyD,aAAO,CAAC8sB,IAAR,6CAAiDjuB,EAAjD;AACA;AACD;;AAED,YAAQwzD,cAAc,CAACF,gBAAD,CAAtB;AACE,WAAK5vD,iCAAL;AACEiO,cAAM,CAACutB,EAAP,GAAYo0B,gBAAgB,CAACyC,SAA7B;AACA;;AACF,WAAKnyD,oCAAL;AACE,YAAM6C,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;;AACA,YAAI9sD,OAAO,IAAI,IAAf,EAAqB;AACnBtF,iBAAO,CAAC8sB,IAAR,4CAAgDjuB,EAAhD;AACA;AACD;;AAED2R,cAAM,CAACutB,EAAP,GAAY;AACVjP,eAAK,EAAExpB,OAAO,CAACwpB,KADL;AAEVvyB,cAAI,EAAE+I,OAAO,CAAC/I;AAFJ,SAAZ;AAIA;;AACF;AACEiU,cAAM,CAACutB,EAAP,GAAY,IAAZ;AACA;AAlBJ;AAoBD;;AAED,WAASC,aAAT,CACEn/B,EADF,EAEEwE,IAFF,EAGEsoB,KAHF,EAIQ;AACN,QAAMmS,gBAAgB,GAAGvC,iBAAiB,CAAC18B,EAAD,CAA1C;;AACA,QAAIi/B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,UAAM19B,KAAK,GAAG+C,wCAAW,CAAC26B,gBAAD,EAAmBz6B,IAAnB,CAAzB;AACA,UAAMzH,GAAG,uBAAgB+vB,KAAhB,CAAT;AAEAxd,YAAM,CAACvS,GAAD,CAAN,GAAcwE,KAAd;AAEAJ,aAAO,CAACC,GAAR,CAAYrE,GAAZ;AACAoE,aAAO,CAACC,GAAR,CAAYG,KAAZ;AACD;AACF;;AAED,WAAS69B,+BAAT,CACEp/B,EADF,EAEEwE,IAFF,EAGW;AACT,QAAMy6B,gBAAgB,GAAGvC,iBAAiB,CAAC18B,EAAD,CAA1C;;AACA,QAAIi/B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,UAAMI,WAAW,GAAG/6B,wCAAW,CAAC26B,gBAAD,EAAmBz6B,IAAnB,CAA/B;AAEA,aAAOqJ,0CAAiB,CAACwxB,WAAD,CAAxB;AACD;AACF;;AAED,WAASC,cAAT,CACEC,SADF,EAEEv/B,EAFF,EAGEwE,IAHF,EAIEg7B,aAJF,EAK2B;AACzB,QAAIA,aAAa,IAAIs2B,2BAA2B,KAAK91D,EAArD,EAAyD;AACvD81D,iCAA2B,GAAG91D,EAA9B;AACA2+B,6BAAuB,GAAG,EAA1B;AACD;;AAED,QAAMM,gBAAgB,GAAGvC,iBAAiB,CAAC18B,EAAD,CAA1C;;AACA,QAAIi/B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B,aAAO;AACLj/B,UAAE,EAAFA,EADK;AAELy/B,kBAAU,EAAEF,SAFP;AAGL7hC,YAAI,EAAE;AAHD,OAAP;AAKD;;AAED,QAAI8G,IAAI,KAAK,IAAb,EAAmB;AACjBq6B,yBAAmB,CAACr6B,IAAD,CAAnB;AACD,KAjBwB,CAmBzB;AACA;AACA;;;AACAw6B,yBAAqB,CAACh/B,EAAD,CAArB;AAEAi/B,oBAAgB,CAAC/U,OAAjB,GAA2B1d,uCAAc,CACvCyyB,gBAAgB,CAAC/U,OADsB,EAEvC4U,mBAAmB,CAAC,SAAD,CAFoB,CAAzC;AAIAG,oBAAgB,CAAChP,KAAjB,GAAyBzjB,uCAAc,CACrCyyB,gBAAgB,CAAChP,KADoB,EAErC6O,mBAAmB,CAAC,OAAD,CAFkB,CAAvC;AAIAG,oBAAgB,CAAC/O,KAAjB,GAAyB1jB,uCAAc,CACrCyyB,gBAAgB,CAAC/O,KADoB,EAErC4O,mBAAmB,CAAC,OAAD,CAFkB,CAAvC;AAKA,WAAO;AACL9+B,QAAE,EAAFA,EADK;AAELy/B,gBAAU,EAAEF,SAFP;AAGL7hC,UAAI,EAAE,WAHD;AAIL6D,WAAK,EAAE09B;AAJF,KAAP;AAMD;;AAED,WAASvC,iBAAT,CAA2B18B,EAA3B,EAAgE;AAC9D,QAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AAEA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAL6D,oBAOnCD,OAAO,CAACC,gBAAD,CAP4B;AAAA,QAOvD91D,WAPuD,aAOvDA,WAPuD;AAAA,QAO1CT,GAP0C,aAO1CA,GAP0C;;AAQ9D,QAAMW,IAAI,GAAG81D,cAAc,CAACF,gBAAD,CAA3B;AAEA,QAAIppC,OAAO,GAAG,IAAd;AACA,QAAIiS,MAAM,GAAG,IAAb;AACA,QAAIlM,KAAK,GAAG,IAAZ;AACA,QAAIC,KAAK,GAAG,IAAZ;AACA,QAAI3Z,MAAM,GAAG,IAAb;AAEA,QAAM9P,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;;AACA,QAAI9sD,OAAO,KAAK,IAAhB,EAAsB;AACpBwpB,WAAK,GAAGxpB,OAAO,CAACwpB,KAAhB;AACA1Z,YAAM,GAAG9P,OAAO,CAACqwC,OAAR,IAAmB,IAAnB,GAA0BrwC,OAAO,CAACqwC,OAAlC,GAA4C,IAArD;AAEA,UAAI1a,KAAK,GAAG31B,OAAO,CAACy2C,MAApB;;AACA,UAAI9gB,KAAJ,EAAW;AACTD,cAAM,GAAI,EAAV;;AACA,eAAOC,KAAK,IAAI,IAAhB,EAAsB;AACpBD,gBAAM,CAACj9B,IAAP,CAAY;AACV1B,uBAAW,EAAE61D,OAAO,CAACj3B,KAAD,CAAP,CAAe5+B,WAAf,IAA8B,SADjC;AAEVwC,cAAE,EAAEu0D,KAAK,CAACn4B,KAAD,CAFC;AAGVr/B,eAAG,EAAE0J,OAAO,CAAC1J,GAHH;AAIVW,gBAAI,EAAE81D,cAAc,CAACp3B,KAAD;AAJV,WAAZ;;AAMA,cAAIA,KAAK,CAACm3B,eAAV,EAA2B;AACzBn3B,iBAAK,GAAGA,KAAK,CAACm3B,eAAN,CAAsBrW,MAA9B;AACD;AACF;AACF;AACF;;AAED,QAAMuW,cAAc,GAAGH,gBAAgB,CAACyC,SAAxC;;AACA,QAAItC,cAAc,IAAI,IAAtB,EAA4B;AAC1BvpC,aAAO,GAAGupC,cAAc,CAACvpC,OAAf,IAA0B,IAApC;AACAgG,WAAK,GAAGujC,cAAc,CAACvjC,KAAf,IAAwB,IAAhC;AACD,KA1C6D,CA4C9D;;;AACA,QAAMsN,MAA+B,GAAG,EAAxC;AACA,QAAMC,QAAiC,GAAG,EAA1C;AAEA,WAAO;AACLz9B,QAAE,EAAFA,EADK;AAGL;AACAg+B,kBAAY,EAAE,KAJT;AAKLC,0BAAoB,EAAE,KALjB;AAOL;AACAC,gCAA0B,EAAE,KARvB;AASLC,gCAA0B,EAAE,KATvB;AAULC,qCAA+B,EAAE,KAV5B;AAWLC,qCAA+B,EAAE,KAX5B;AAaL;AACAC,oBAAc,EAAE,KAdX;AAeLZ,eAAS,EAAE,KAfN;AAgBLC,2BAAqB,EAAE,IAhBlB;AAkBL;AACAY,uBAAiB,EAAE,KAnBd;AAqBL;AACA1B,mBAAa,EAAEn/B,IAAI,KAAKgG,iCAAT,IAA6BhG,IAAI,KAAKkG,oCAtBhD;AAwBL;AACAy5B,sBAAgB,EAAE,IAzBb;AA2BL7/B,iBAAW,EAAEA,WA3BR;AA6BLE,UAAI,EAAEA,IA7BD;AA+BLX,SAAG,EAAEA,GAAG,IAAI,IAAP,GAAcA,GAAd,GAAoB,IA/BpB;AAiCL;AACAmtB,aAAO,EAAPA,OAlCK;AAmCLsG,WAAK,EAAE,IAnCF;AAoCLP,WAAK,EAALA,KApCK;AAqCLC,WAAK,EAALA,KArCK;AAsCLsN,YAAM,EAANA,MAtCK;AAuCLC,cAAQ,EAARA,QAvCK;AAyCL;AACAtB,YAAM,EAANA,MA1CK;AA4CL;AACA5lB,YAAM,EAANA,MA7CK;AA+CLgnB,cAAQ,EAAE,IA/CL;AAgDLkB,yBAAmB,EAAE,IAhDhB;AAiDLC,qBAAe,EAAE,IAjDZ;AAmDLb,aAAO,EAAE;AACPC,cAAM,EAAE;AADD;AAnDJ,KAAP;AAuDD;;AAED,WAAS+B,mBAAT,CAA6B7/B,EAA7B,EAA+C;AAC7C,QAAMmb,MAAM,GAAGuhB,iBAAiB,CAAC18B,EAAD,CAAhC;;AACA,QAAImb,MAAM,KAAK,IAAf,EAAqB;AACnBha,aAAO,CAAC8sB,IAAR,4CAAgDjuB,EAAhD;AACA;AACD;;AAED,QAAM8/B,aAAa,GAAG,OAAO3+B,OAAO,CAACisB,cAAf,KAAkC,UAAxD;;AACA,QAAI0S,aAAJ,EAAmB;AACjB3+B,aAAO,CAACisB,cAAR,gCAC0BjS,MAAM,CAAC3d,WAAP,IAAsB,WADhD,UAEE;AACA,8DAHF;AAKD;;AACD,QAAI2d,MAAM,CAAC8U,KAAP,KAAiB,IAArB,EAA2B;AACzB9uB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB+Z,MAAM,CAAC8U,KAA7B;AACD;;AACD,QAAI9U,MAAM,CAAC+U,KAAP,KAAiB,IAArB,EAA2B;AACzB/uB,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB+Z,MAAM,CAAC+U,KAA7B;AACD;;AACD,QAAI/U,MAAM,CAAC+O,OAAP,KAAmB,IAAvB,EAA6B;AAC3B/oB,aAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB+Z,MAAM,CAAC+O,OAA/B;AACD;;AACD,QAAM8rC,UAAU,GAAG7B,2BAA2B,CAACn0D,EAAD,CAA9C;;AACA,QAAIg2D,UAAU,KAAK,IAAnB,EAAyB;AACvB70D,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB40D,UAArB;AACD;;AACD,QAAI1mD,MAAM,CAAC0wB,MAAP,IAAiB,WAAWlvB,IAAX,CAAgBmvB,SAAS,CAACC,SAA1B,CAArB,EAA2D;AACzD/+B,aAAO,CAACC,GAAR,CACE,+EADF;AAGD;;AACD,QAAI0+B,aAAJ,EAAmB;AACjB3+B,aAAO,CAACosB,QAAR;AACD;AACF;;AAED,WAASsO,0BAAT,CACE77B,EADF,EAEEwE,IAFF,EAGQ;AACN,QAAMy6B,gBAAgB,GAAGvC,iBAAiB,CAAC18B,EAAD,CAA1C;;AACA,QAAIi/B,gBAAgB,KAAK,IAAzB,EAA+B;AAC7B3vB,YAAM,CAACysB,UAAP,GAAoBz3B,wCAAW,CAAC26B,gBAAD,EAAmBz6B,IAAnB,CAA/B;AACD;AACF;;AAED,WAASw3B,wBAAT,CAAkCh8B,EAAlC,EAAoD;AAClD,QAAMszD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5BnyD,aAAO,CAAC8sB,IAAR,6CAAiDjuB,EAAjD;AACA;AACD;;AAED,QAAMyG,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;;AACA,QAAI9sD,OAAO,IAAI,IAAf,EAAqB;AACnBtF,aAAO,CAAC8sB,IAAR,4CAAgDjuB,EAAhD;AACA;AACD;;AAED2R,UAAM,CAACsqB,KAAP,GAAex1B,OAAO,CAAC/I,IAAvB;AACD;;AAED,WAASyiC,UAAT,CACEziC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE57B,IAJF,EAKQ;AACN,QAAM8uD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACyC,SAAxC;;AACA,UAAItC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQ/1D,IAAR;AACE,eAAK,SAAL;AACEuH,2DAAkB,CAACwuD,cAAc,CAACvpC,OAAhB,EAAyB1lB,IAAzB,CAAlB;AACA67B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIvyD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMuF,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9sD,OADL;AAEEwpB,mBAAK,EAAEjjB,uCAAc,CAACvG,OAAO,CAACwpB,KAAT,EAAgBzrB,IAAhB;AAFvB;AAIA67B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACExuD,2DAAkB,CAACwuD,cAAc,CAACvjC,KAAhB,EAAuB1rB,IAAvB,CAAlB;AACA67B,uBAAW,CAACozB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF;;AAED,WAASlzB,UAAT,CACE7iC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE76B,OAJF,EAKEC,OALF,EAMQ;AACN,QAAM8tD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACyC,SAAxC;;AACA,UAAItC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQ/1D,IAAR;AACE,eAAK,SAAL;AACE4H,2DAAkB,CAACmuD,cAAc,CAACvpC,OAAhB,EAAyB3kB,OAAzB,EAAkCC,OAAlC,CAAlB;AACA66B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIvyD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMuF,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9sD,OADL;AAEEwpB,mBAAK,EAAE9iB,uCAAc,CAAC1G,OAAO,CAACwpB,KAAT,EAAgB1qB,OAAhB,EAAyBC,OAAzB;AAFvB;AAIA66B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACEnuD,2DAAkB,CAACmuD,cAAc,CAACvjC,KAAhB,EAAuB3qB,OAAvB,EAAgCC,OAAhC,CAAlB;AACA66B,uBAAW,CAACozB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF;;AAED,WAASjzB,mBAAT,CACE9iC,IADF,EAEEsC,EAFF,EAGEogC,MAHF,EAIE57B,IAJF,EAKEjD,KALF,EAMQ;AACN,QAAM+xD,gBAAgB,GAAGS,uBAAuB,CAACn2D,GAAxB,CAA4BoC,EAA5B,CAAzB;;AACA,QAAIszD,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,UAAMG,cAAc,GAAGH,gBAAgB,CAACyC,SAAxC;;AACA,UAAItC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,gBAAQ/1D,IAAR;AACE,eAAK,SAAL;AACEiI,oDAAW,CAAC8tD,cAAc,CAACvpC,OAAhB,EAAyB1lB,IAAzB,EAA+BjD,KAA/B,CAAX;AACA8+B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE,kBAAM,IAAIvyD,KAAJ,CAAU,sCAAV,CAAN;;AACF,eAAK,OAAL;AACE,gBAAMuF,OAAO,GAAG6sD,gBAAgB,CAACC,eAAjC;AACAD,4BAAgB,CAACC,eAAjB,mCACK9sD,OADL;AAEEwpB,mBAAK,EAAE3iB,oCAAW,CAAC7G,OAAO,CAACwpB,KAAT,EAAgBzrB,IAAhB,EAAsBjD,KAAtB;AAFpB;AAIA8+B,uBAAW,CAACozB,cAAD,CAAX;AACA;;AACF,eAAK,OAAL;AACE9tD,oDAAW,CAAC8tD,cAAc,CAACvjC,KAAhB,EAAuB1rB,IAAvB,EAA6BjD,KAA7B,CAAX;AACA8+B,uBAAW,CAACozB,cAAD,CAAX;AACA;AAlBJ;AAoBD;AACF;AACF,GAn4BkB,CAq4BnB;;;AACA,MAAM9yB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,UAAM,IAAIz/B,KAAJ,CAAU,iDAAV,CAAN;AACD,GAFD;;AAGA,MAAM84B,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,UAAM,IAAI94B,KAAJ,CAAU,sDAAV,CAAN;AACD,GAFD;;AAGA,MAAM44B,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACrC,UAAM,IAAI54B,KAAJ,CAAU,yDAAV,CAAN;AACD,GAFD;;AAGA,MAAM64B,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AACtC,UAAM,IAAI74B,KAAJ,CAAU,0DAAV,CAAN;AACD,GAFD;;AAGA,MAAM2gC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,UAAM,IAAI3gC,KAAJ,CAAU,8CAAV,CAAN;AACD,GAFD;;AAGA,MAAM+gC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,UAAM,IAAI/gC,KAAJ,CAAU,iDAAV,CAAN;AACD,GAFD;;AAGA,MAAMsgC,cAAc,GAAG,SAAjBA,cAAiB,GAAM,CAC3B;AACD,GAFD;;AAGA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM,CAC1B;AACD,GAFD;;AAIA,WAASwB,0BAAT,GAAwD;AACtD;AACA,WAAO,IAAP;AACD;;AAED,WAASH,iBAAT,CAA2B/iC,EAA3B,EAAgE;AAC9D;AACA,WAAO,IAAP;AACD;;AAED,WAASmuB,sBAAT,CAAgCjsB,gBAAhC,EAA0E,CACxE;AACD;;AAED,WAASkhC,sBAAT,CAAgC6yB,OAAhC,EAAkD,CAChD;AACD;;AAED,WAASngC,cAAT,CAAwBtxB,IAAxB,EAAuD,CACrD;AACD;;AAED,WAAS03B,aAAT,CAAuBl8B,EAAvB,EAAoE;AAClE;AACA,WAAO,IAAP;AACD;;AAED,WAAS4rB,sBAAT,GAAkC,CAChC;AACD;;AAED,WAASQ,qBAAT,CAA+BpsB,EAA/B,EAA2C,CACzC;AACD;;AAED,WAASqsB,uBAAT,CAAiCrsB,EAAjC,EAA6C,CAC3C;AACD;;AAED,WAASqjC,yBAAT,GAAqC,CAAE;;AAEvC,WAASC,2BAAT,GAAuC,CAAE;;AAEzC,SAAO;AACL1X,0BAAsB,EAAtBA,sBADK;AAELQ,yBAAqB,EAArBA,qBAFK;AAGLC,2BAAuB,EAAvBA,uBAHK;AAIL0M,WAAO,EAAPA,OAJK;AAKLqG,mCAA+B,EAA/BA,+BALK;AAMLe,cAAU,EAAVA,UANK;AAOLjH,0BAAsB,EAAtBA,sBAPK;AAQLgK,8BAA0B,EAA1BA,0BARK;AASLpI,4BAAwB,EAAxBA,wBATK;AAULC,qBAAiB,EAAjBA,iBAVK;AAWLE,uBAAmB,EAAEi5B,sBAXhB;AAYL73B,uBAAmB,EAAnBA,mBAZK;AAaL3B,6BAAyB,EAAE,mCAAC16B,EAAD,EAAgB;AACzC,UAAMg2D,UAAU,GAAG7B,2BAA2B,CAACn0D,EAAD,CAA9C;AACA,aAAOg2D,UAAU,IAAI,IAAd,GAAqB,IAArB,GAA4B,CAACA,UAAD,CAAnC;AACD,KAhBI;AAiBL95B,iBAAa,EAAbA,aAjBK;AAkBL6G,qBAAiB,EAAjBA,iBAlBK;AAmBLpC,oBAAgB,EAAhBA,gBAnBK;AAoBL3G,yBAAqB,EAArBA,qBApBK;AAqBLF,4BAAwB,EAAxBA,wBArBK;AAsBLC,6BAAyB,EAAzBA,yBAtBK;AAuBLuF,kBAAc,EAAdA,cAvBK;AAwBLO,uBAAmB,EAAnBA,mBAxBK;AAyBLgC,iBAAa,EAAbA,aAzBK;AA0BLI,oBAAgB,EAAhBA,gBA1BK;AA2BLzB,uBAAmB,EAAnBA,mBA3BK;AA4BLD,cAAU,EAAVA,UA5BK;AA6BL8C,6BAAyB,EAAzBA,yBA7BK;AA8BLxH,8BAA0B,EAA1BA,0BA9BK;AA+BLG,4BAAwB,EAAxBA,wBA/BK;AAgCLjqB,YAAQ,EAARA,QAhCK;AAiCLqxB,0BAAsB,EAAtBA,sBAjCK;AAkCLtN,kBAAc,EAAdA,cAlCK;AAmCL0L,kBAAc,EAAdA,cAnCK;AAoCLE,iBAAa,EAAbA,aApCK;AAqCLvC,iBAAa,EAAbA,aArCK;AAsCLmE,+BAA2B,EAA3BA,2BAtCK;AAuCLnV,0BAAsB,EAAtBA;AAvCK,GAAP;AAyCD,C;;AC5nCD;;;;;;;;AASA;AAEA;AACA;AACA;;AAIA;AACA,SAAS+nC,gBAAT,CAA0B5pD,OAA1B,EAAoD;AAClD,SAAO,CAACD,2CAAkB,CAACC,OAAD,CAA1B;AACD;;AAIM,SAAS6pD,WAAT,CACL5rC,IADK,EAEL48B,KAFK,EAGLx1C,MAHK,EAIO;AACZ,MAAI4Y,IAAI,IAAI,IAAZ,EAAkB;AAChB;AACA,WAAO,YAAM,CAAE,CAAf;AACD;;AAED,MAAM6rC,IAAI,GAAG,CACX7rC,IAAI,CAACqnC,GAAL,CACE,mBADF,EAEE,gBASM;AAAA,QARJ5xD,EAQI,QARJA,EAQI;AAAA,QAPJ+R,QAOI,QAPJA,QAOI;AAAA,QANJm2C,iBAMI,QANJA,iBAMI;AACJf,SAAK,CAACkP,oBAAN,CAA2Br2D,EAA3B,EAA+BkoD,iBAA/B,EADI,CAGJ;AACA;;AACAA,qBAAiB,CAAChvB,sBAAlB;AACD,GAjBH,CADW,EAqBX3O,IAAI,CAACqnC,GAAL,CAAS,8BAAT,EAAyC,UAAC5xD,EAAD,EAAgB;AACvDmnD,SAAK,CAACmP,qBAAN,CAA4Bt2D,EAA5B;AACD,GAFD,CArBW,EAyBXuqB,IAAI,CAACqnC,GAAL,CAAS,sBAAT,EAAiCzK,KAAK,CAACoP,sBAAvC,CAzBW,EA0BXhsC,IAAI,CAACqnC,GAAL,CAAS,YAAT,EAAuBzK,KAAK,CAACqP,gBAA7B,CA1BW,EA2BXjsC,IAAI,CAACqnC,GAAL,CAAS,cAAT,EAAyBzK,KAAK,CAACsP,cAA/B,CA3BW,CA6BX;AA7BW,GAAb;;AAgCA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAC12D,EAAD,EAAa+R,QAAb,EAAyC;AAC9D;AACA,QAAI,CAACmkD,gBAAgB,CAACnkD,QAAQ,CAACyY,iBAAT,IAA8BzY,QAAQ,CAACzF,OAAxC,CAArB,EAAuE;AACrE;AACD;;AACD,QAAI47C,iBAAiB,GAAG39B,IAAI,CAACogC,kBAAL,CAAwB/sD,GAAxB,CAA4BoC,EAA5B,CAAxB,CAL8D,CAO9D;;AACA,QAAIkoD,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B,UAAI,OAAOn2C,QAAQ,CAACI,uBAAhB,KAA4C,UAAhD,EAA4D;AAC1D;AACA+1C,yBAAiB,GAAG59B,0CAAM,CAACC,IAAD,EAAOvqB,EAAP,EAAW+R,QAAX,EAAqBJ,MAArB,CAA1B;AACD,OAHD,MAGO,IAAII,QAAQ,CAACqiD,aAAb,EAA4B;AACjC;AACAlM,yBAAiB,GAAGyO,MAAY,CAACpsC,IAAD,EAAOvqB,EAAP,EAAW+R,QAAX,EAAqBJ,MAArB,CAAhC;AACD,OAHM,MAGA,CACL;AACD;;AAED,UAAIu2C,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B39B,YAAI,CAACogC,kBAAL,CAAwB7sD,GAAxB,CAA4BkC,EAA5B,EAAgCkoD,iBAAhC;AACD;AACF,KAtB6D,CAwB9D;AACA;;;AACA,QAAIA,iBAAiB,IAAI,IAAzB,EAA+B;AAC7B39B,UAAI,CAACxR,IAAL,CAAU,mBAAV,EAA+B;AAC7B/Y,UAAE,EAAFA,EAD6B;AAE7B+R,gBAAQ,EAARA,QAF6B;AAG7Bm2C,yBAAiB,EAAjBA;AAH6B,OAA/B;AAKD,KAND,MAMO;AACL39B,UAAI,CAACxR,IAAL,CAAU,8BAAV,EAA0C/Y,EAA1C;AACD;AACF,GAnCD,CAtCY,CA2EZ;;;AACAuqB,MAAI,CAACknC,SAAL,CAAe30D,OAAf,CAAuB,UAACiV,QAAD,EAAW/R,EAAX,EAAkB;AACvC02D,kBAAc,CAAC12D,EAAD,EAAK+R,QAAL,CAAd;AACD,GAFD,EA5EY,CAgFZ;;AACAqkD,MAAI,CAACl3D,IAAL,CACEqrB,IAAI,CAACqnC,GAAL,CACE,UADF,EAEE,iBAAgE;AAAA,QAA9D5xD,EAA8D,SAA9DA,EAA8D;AAAA,QAA1D+R,QAA0D,SAA1DA,QAA0D;AAC9D2kD,kBAAc,CAAC12D,EAAD,EAAK+R,QAAL,CAAd;AACD,GAJH,CADF;AASAwY,MAAI,CAACxR,IAAL,CAAU,gBAAV,EAA4BouC,KAA5B;AACA58B,MAAI,CAACqsC,kBAAL,GAA0BzP,KAA1B;;AACA,MAAM0P,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BT,QAAI,CAACt5D,OAAL,CAAa,UAAA+nC,EAAE;AAAA,aAAIA,EAAE,EAAN;AAAA,KAAf;AACAta,QAAI,CAACogC,kBAAL,CAAwB7tD,OAAxB,CAAgC,UAAAorD,iBAAiB,EAAI;AACnDA,uBAAiB,CAACnvB,OAAlB;AACD,KAFD;AAGAxO,QAAI,CAACqsC,kBAAL,GAA0B,IAA1B;AACD,GAND;;AAOAzP,OAAK,CAACzuC,WAAN,CAAkB,UAAlB,EAA8Bm+C,eAA9B;AACAT,MAAI,CAACl3D,IAAL,CAAU,YAAM;AACdioD,SAAK,CAACtuC,cAAN,CAAqB,UAArB,EAAiCg+C,eAAjC;AACD,GAFD;AAIA,SAAO,YAAM;AACXT,QAAI,CAACt5D,OAAL,CAAa,UAAA+nC,EAAE;AAAA,aAAIA,EAAE,EAAN;AAAA,KAAf;AACD,GAFD;AAGD,C;;ACvID;;;;;;;;;AAWA;;;;;;;;AAQe,SAASiyB,eAAT,CACbxyB,MADa,EAEbp2B,KAFa,EAGI;AACjB,MAAI6oD,QAAQ,GAAG,KAAf;AACA,MAAM57C,MAAM,GAAG;AACb6nC,UAAM,EAAE,CADK;AAEbF,QAAI,EAAE,CAFO;AAGbI,SAAK,EAAE,CAHM;AAIbvgC,OAAG,EAAE;AAJQ,GAAf;AAOA,MAAMq0C,WAAW,GAAG9oD,KAAK,CAACo2B,MAAD,CAAzB;;AACA,MAAI0yB,WAAW,IAAI,IAAnB,EAAyB;AACvB;AACA,oCAAkBt7D,MAAM,CAACa,IAAP,CAAY4e,MAAZ,CAAlB,kCAAuC;AAAlC,UAAMpe,GAAG,mBAAT;AACHoe,YAAM,CAACpe,GAAD,CAAN,GAAci6D,WAAd;AACD;;AACDD,YAAQ,GAAG,IAAX;AACD;;AAED,MAAME,kBAAkB,GAAG/oD,KAAK,CAACo2B,MAAM,GAAG,YAAV,CAAhC;;AACA,MAAI2yB,kBAAkB,IAAI,IAA1B,EAAgC;AAC9B97C,UAAM,CAAC2nC,IAAP,GAAcmU,kBAAd;AACA97C,UAAM,CAAC+nC,KAAP,GAAe+T,kBAAf;AACAF,YAAQ,GAAG,IAAX;AACD,GAJD,MAIO;AACL,QAAMG,YAAY,GAAGhpD,KAAK,CAACo2B,MAAM,GAAG,MAAV,CAA1B;;AACA,QAAI4yB,YAAY,IAAI,IAApB,EAA0B;AACxB/7C,YAAM,CAAC2nC,IAAP,GAAcoU,YAAd;AACAH,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMI,aAAa,GAAGjpD,KAAK,CAACo2B,MAAM,GAAG,OAAV,CAA3B;;AACA,QAAI6yB,aAAa,IAAI,IAArB,EAA2B;AACzBh8C,YAAM,CAAC+nC,KAAP,GAAeiU,aAAf;AACAJ,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMK,WAAW,GAAGlpD,KAAK,CAACo2B,MAAM,GAAG,KAAV,CAAzB;;AACA,QAAI8yB,WAAW,IAAI,IAAnB,EAAyB;AACvB;AACAj8C,YAAM,CAAC+nC,KAAP,GAAekU,WAAf;AACAL,cAAQ,GAAG,IAAX;AACD;;AACD,QAAMM,aAAa,GAAGnpD,KAAK,CAACo2B,MAAM,GAAG,OAAV,CAA3B;;AACA,QAAI+yB,aAAa,IAAI,IAArB,EAA2B;AACzB;AACAl8C,YAAM,CAAC2nC,IAAP,GAAcuU,aAAd;AACAN,cAAQ,GAAG,IAAX;AACD;AACF;;AAED,MAAMO,gBAAgB,GAAGppD,KAAK,CAACo2B,MAAM,GAAG,UAAV,CAA9B;;AACA,MAAIgzB,gBAAgB,IAAI,IAAxB,EAA8B;AAC5Bn8C,UAAM,CAAC6nC,MAAP,GAAgBsU,gBAAhB;AACAn8C,UAAM,CAACwH,GAAP,GAAa20C,gBAAb;AACAP,YAAQ,GAAG,IAAX;AACD,GAJD,MAIO;AACL,QAAMQ,cAAc,GAAGrpD,KAAK,CAACo2B,MAAM,GAAG,QAAV,CAA5B;;AACA,QAAIizB,cAAc,IAAI,IAAtB,EAA4B;AAC1Bp8C,YAAM,CAAC6nC,MAAP,GAAgBuU,cAAhB;AACAR,cAAQ,GAAG,IAAX;AACD;;AAED,QAAMS,WAAW,GAAGtpD,KAAK,CAACo2B,MAAM,GAAG,KAAV,CAAzB;;AACA,QAAIkzB,WAAW,IAAI,IAAnB,EAAyB;AACvBr8C,YAAM,CAACwH,GAAP,GAAa60C,WAAb;AACAT,cAAQ,GAAG,IAAX;AACD;AACF;;AAED,SAAOA,QAAQ,GAAG57C,MAAH,GAAY,IAA3B;AACD,C;;;;;;;;;AC5FD;;;;;;;;AASA;AACA;AACA;AASe,SAASs8C,sBAAT,CACb/N,MADa,EAEbvC,KAFa,EAGbuQ,kBAHa,EAIbC,eAJa,EAKb;AACAjO,QAAM,CAAChxC,WAAP,CACE,2BADF,EAEE,gBAA4D;AAAA,QAA1D1Y,EAA0D,QAA1DA,EAA0D;AAAA,QAAtDX,UAAsD,QAAtDA,UAAsD;AAC1Du4D,gBAAY,CAACzQ,KAAD,EAAQuC,MAAR,EAAgBgO,kBAAhB,EAAoC13D,EAApC,EAAwCX,UAAxC,CAAZ;AACD,GAJH;AAOAqqD,QAAM,CAAChxC,WAAP,CACE,mCADF,EAEE,iBAYM;AAAA,QAXJ1Y,EAWI,SAXJA,EAWI;AAAA,QAVJX,UAUI,SAVJA,UAUI;AAAA,QATJw4D,OASI,SATJA,OASI;AAAA,QARJC,OAQI,SARJA,OAQI;AAAA,QAPJv2D,KAOI,SAPJA,KAOI;AACJw2D,eAAW,CAAC5Q,KAAD,EAAQnnD,EAAR,EAAYX,UAAZ,EAAwBw4D,OAAxB,EAAiCC,OAAjC,EAA0Cv2D,KAA1C,CAAX;AACAgS,cAAU,CAAC;AAAA,aACTqkD,YAAY,CAACzQ,KAAD,EAAQuC,MAAR,EAAgBgO,kBAAhB,EAAoC13D,EAApC,EAAwCX,UAAxC,CADH;AAAA,KAAD,CAAV;AAGD,GAnBH;AAsBAqqD,QAAM,CAAChxC,WAAP,CACE,4BADF,EAEE,iBAUM;AAAA,QATJ1Y,EASI,SATJA,EASI;AAAA,QARJX,UAQI,SARJA,UAQI;AAAA,QAPJxB,IAOI,SAPJA,IAOI;AAAA,QANJ0D,KAMI,SANJA,KAMI;AACJy2D,YAAQ,CAAC7Q,KAAD,EAAQnnD,EAAR,EAAYX,UAAZ,EAAwBxB,IAAxB,EAA8B0D,KAA9B,CAAR;AACAgS,cAAU,CAAC;AAAA,aACTqkD,YAAY,CAACzQ,KAAD,EAAQuC,MAAR,EAAgBgO,kBAAhB,EAAoC13D,EAApC,EAAwCX,UAAxC,CADH;AAAA,KAAD,CAAV;AAGD,GAjBH;AAoBAqqD,QAAM,CAACqB,IAAP,CAAY,8BAAZ,EAA4C;AAC1CkN,eAAW,EAAE,IAD6B;AAE1CN,mBAAe,EAAfA;AAF0C,GAA5C;AAID;AAED,IAAMO,eAAe,GAAG;AACtBv1C,KAAG,EAAE,CADiB;AAEtBmgC,MAAI,EAAE,CAFgB;AAGtBI,OAAK,EAAE,CAHe;AAItBF,QAAM,EAAE;AAJc,CAAxB;AAOA,IAAMmV,2BAAgD,GAAG,IAAI7mD,GAAJ,EAAzD;;AAEA,SAASsmD,YAAT,CACEzQ,KADF,EAEEuC,MAFF,EAGEgO,kBAHF,EAIE13D,EAJF,EAKEX,UALF,EAME;AACA,MAAMwG,IAAI,GAAGshD,KAAK,CAAC9qB,mBAAN,CAA0B;AAACr8B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAACwG,IAAD,IAAS,CAACA,IAAI,CAACqI,KAAnB,EAA0B;AACxBw7C,UAAM,CAACqB,IAAP,CACE,kCADF,EAEG;AACC/qD,QAAE,EAAFA,EADD;AAECo4D,YAAM,EAAE,IAFT;AAGClqD,WAAK,EAAE;AAHR,KAFH;AAQA;AACD;;AAZD,MAcO8iB,QAdP,GAc0BnrB,IAd1B,CAcOmrB,QAdP;AAAA,MAciB9iB,KAdjB,GAc0BrI,IAd1B,CAciBqI,KAdjB;AAgBA,MAAImqD,aAAa,GAAGX,kBAAkB,CAACxpD,KAAD,CAAtC,CAhBA,CAkBA;;AACA,MAAMoqD,cAAc,GAAGH,2BAA2B,CAACv6D,GAA5B,CAAgCoC,EAAhC,CAAvB;;AACA,MAAIs4D,cAAc,IAAI,IAAtB,EAA4B;AAC1BD,iBAAa,GAAG38D,MAAM,CAAC05C,MAAP,CAAc,EAAd,EAAkBijB,aAAlB,EAAiCC,cAAjC,CAAhB;AACD;;AAED,MAAI,CAACtnC,QAAD,IAAa,OAAOA,QAAQ,CAACunC,OAAhB,KAA4B,UAA7C,EAAyD;AACvD7O,UAAM,CAACqB,IAAP,CACE,kCADF,EAEG;AACC/qD,QAAE,EAAFA,EADD;AAECo4D,YAAM,EAAE,IAFT;AAGClqD,WAAK,EAAEmqD,aAAa,IAAI;AAHzB,KAFH;AAQA;AACD;;AAEDrnC,UAAQ,CAACunC,OAAT,CAAiB,UAACr7C,CAAD,EAAIC,CAAJ,EAAOimC,KAAP,EAAcC,MAAd,EAAsBP,IAAtB,EAA4BngC,GAA5B,EAAoC;AACnD;AACA;AACA,QAAI,OAAOzF,CAAP,KAAa,QAAjB,EAA2B;AACzBwsC,YAAM,CAACqB,IAAP,CACE,kCADF,EAEG;AACC/qD,UAAE,EAAFA,EADD;AAECo4D,cAAM,EAAE,IAFT;AAGClqD,aAAK,EAAEmqD,aAAa,IAAI;AAHzB,OAFH;AAQA;AACD;;AACD,QAAM9S,MAAM,GACT8S,aAAa,IAAI,IAAjB,IAAyBvB,eAAe,CAAC,QAAD,EAAWuB,aAAX,CAAzC,IACAH,eAFF;AAGA,QAAMjT,OAAO,GACVoT,aAAa,IAAI,IAAjB,IAAyBvB,eAAe,CAAC,SAAD,EAAYuB,aAAZ,CAAzC,IACAH,eAFF;AAGAxO,UAAM,CAACqB,IAAP,CACE,kCADF,EAEG;AACC/qD,QAAE,EAAFA,EADD;AAECo4D,YAAM,EAAE;AACNl7C,SAAC,EAADA,CADM;AAENC,SAAC,EAADA,CAFM;AAGNimC,aAAK,EAALA,KAHM;AAINC,cAAM,EAANA,MAJM;AAKNP,YAAI,EAAJA,IALM;AAMNngC,WAAG,EAAHA,GANM;AAON4iC,cAAM,EAANA,MAPM;AAQNN,eAAO,EAAPA;AARM,OAFT;AAYC/2C,WAAK,EAAEmqD,aAAa,IAAI;AAZzB,KAFH;AAiBD,GArCD;AAsCD;;AAED,SAASG,YAAT,CAAsBj0D,MAAtB,EAA8C;AAC5C,MAAMk0D,MAA8B,GAAG,EAAvC;;AACA,OAAK,IAAM5tB,CAAX,IAAgBtmC,MAAhB,EAAwB;AACtBk0D,UAAM,CAAC5tB,CAAD,CAAN,GAAYtmC,MAAM,CAACsmC,CAAD,CAAlB;AACD;;AACD,SAAO4tB,MAAP;AACD;;AAED,SAASV,WAAT,CACE5Q,KADF,EAEEnnD,EAFF,EAGEX,UAHF,EAIEw4D,OAJF,EAKEC,OALF,EAMEv2D,KANF,EAOQ;AAAA;;AACN,MAAMsE,IAAI,GAAGshD,KAAK,CAAC9qB,mBAAN,CAA0B;AAACr8B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAACwG,IAAD,IAAS,CAACA,IAAI,CAACqI,KAAnB,EAA0B;AACxB;AACD;;AAJK,MAMC8iB,QAND,GAMoBnrB,IANpB,CAMCmrB,QAND;AAAA,MAMW9iB,KANX,GAMoBrI,IANpB,CAMWqI,KANX;AAQN,MAAMwqD,QAAQ,GAAGZ,OAAO,6DAClBD,OADkB,EACR/4D,SADQ,gDACIg5D,OADJ,EACcv2D,KADd,sDAElBs2D,OAFkB,EAER/4D,SAFQ,CAAxB;AAIA,MAAI65D,WAAJ,CAZM,CAcN;;AACA,MAAI3nC,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAQ,CAAC4nC,cAAhB,KAAmC,UAA5D,EAAwE;AACtE;AACA;AACA,QAAMN,cAAc,GAAGH,2BAA2B,CAACv6D,GAA5B,CAAgCoC,EAAhC,CAAvB;;AACA,QAAI,CAACs4D,cAAL,EAAqB;AACnBH,iCAA2B,CAACr6D,GAA5B,CAAgCkC,EAAhC,EAAoC04D,QAApC;AACD,KAFD,MAEO;AACLh9D,YAAM,CAAC05C,MAAP,CAAckjB,cAAd,EAA8BI,QAA9B;AACD,KARqE,CAStE;;;AACA1nC,YAAQ,CAAC4nC,cAAT,CAAwB;AAAC1qD,WAAK,EAAEwqD;AAAR,KAAxB;AACD,GAXD,MAWO,IAAItzD,kCAAO,CAAC8I,KAAD,CAAX,EAAoB;AACzB,QAAM2qD,SAAS,GAAG3qD,KAAK,CAAC7P,MAAN,GAAe,CAAjC;;AACA,QAAI,8BAAO6P,KAAK,CAAC2qD,SAAD,CAAZ,MAA4B,QAA5B,IAAwC,CAACzzD,kCAAO,CAAC8I,KAAK,CAAC2qD,SAAD,CAAN,CAApD,EAAwE;AACtEF,iBAAW,GAAGH,YAAY,CAACtqD,KAAK,CAAC2qD,SAAD,CAAN,CAA1B;AACA,aAAOF,WAAW,CAACd,OAAD,CAAlB;;AACA,UAAIC,OAAJ,EAAa;AACXa,mBAAW,CAACb,OAAD,CAAX,GAAuBv2D,KAAvB;AACD,OAFD,MAEO;AACLo3D,mBAAW,CAACd,OAAD,CAAX,GAAuB/4D,SAAvB;AACD;;AAEDqoD,WAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,YAAI,EAAE,OADkB;AAExBsC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxBmF,YAAI,EAAE,CAAC,OAAD,EAAUq0D,SAAV,CAJkB;AAKxBt3D,aAAK,EAAEo3D;AALiB,OAA1B;AAOD,KAhBD,MAgBO;AACLxR,WAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,YAAI,EAAE,OADkB;AAExBsC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxBmF,YAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjD,aAAK,EAAE2M,KAAK,CAACsH,MAAN,CAAa,CAACkjD,QAAD,CAAb;AALiB,OAA1B;AAOD;AACF,GA3BM,MA2BA,IAAI,8BAAOxqD,KAAP,MAAiB,QAArB,EAA+B;AACpCyqD,eAAW,GAAGH,YAAY,CAACtqD,KAAD,CAA1B;AACA,WAAOyqD,WAAW,CAACd,OAAD,CAAlB;;AACA,QAAIC,OAAJ,EAAa;AACXa,iBAAW,CAACb,OAAD,CAAX,GAAuBv2D,KAAvB;AACD,KAFD,MAEO;AACLo3D,iBAAW,CAACd,OAAD,CAAX,GAAuB/4D,SAAvB;AACD;;AAEDqoD,SAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,UAAI,EAAE,OADkB;AAExBsC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxBmF,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjD,WAAK,EAAEo3D;AALiB,KAA1B;AAOD,GAhBM,MAgBA;AACLxR,SAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,UAAI,EAAE,OADkB;AAExBsC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxBmF,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjD,WAAK,EAAE,CAAC2M,KAAD,EAAQwqD,QAAR;AALiB,KAA1B;AAOD;;AAEDvR,OAAK,CAACpuC,IAAN,CAAW,qBAAX;AACD;;AAED,SAASi/C,QAAT,CACE7Q,KADF,EAEEnnD,EAFF,EAGEX,UAHF,EAIExB,IAJF,EAKE0D,KALF,EAME;AACA,MAAMsE,IAAI,GAAGshD,KAAK,CAAC9qB,mBAAN,CAA0B;AAACr8B,MAAE,EAAFA,EAAD;AAAKX,cAAU,EAAVA;AAAL,GAA1B,CAAb;;AACA,MAAI,CAACwG,IAAD,IAAS,CAACA,IAAI,CAACqI,KAAnB,EAA0B;AACxB;AACD;;AAJD,MAMO8iB,QANP,GAM0BnrB,IAN1B,CAMOmrB,QANP;AAAA,MAMiB9iB,KANjB,GAM0BrI,IAN1B,CAMiBqI,KANjB;;AAOA,MAAMwqD,QAAQ,GAAG,0CAAE76D,IAAL,EAAY0D,KAAZ,CAAd,CAPA,CASA;;;AACA,MAAIyvB,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAQ,CAAC4nC,cAAhB,KAAmC,UAA5D,EAAwE;AACtE;AACA;AACA,QAAMN,cAAc,GAAGH,2BAA2B,CAACv6D,GAA5B,CAAgCoC,EAAhC,CAAvB;;AACA,QAAI,CAACs4D,cAAL,EAAqB;AACnBH,iCAA2B,CAACr6D,GAA5B,CAAgCkC,EAAhC,EAAoC04D,QAApC;AACD,KAFD,MAEO;AACLh9D,YAAM,CAAC05C,MAAP,CAAckjB,cAAd,EAA8BI,QAA9B;AACD,KARqE,CAStE;;;AACA1nC,YAAQ,CAAC4nC,cAAT,CAAwB;AAAC1qD,WAAK,EAAEwqD;AAAR,KAAxB;AACD,GAXD,MAWO,IAAItzD,kCAAO,CAAC8I,KAAD,CAAX,EAAoB;AACzB,QAAM4qD,UAAU,GAAG5qD,KAAK,CAAC7P,MAAN,GAAe,CAAlC;;AACA,QAAI,8BAAO6P,KAAK,CAAC4qD,UAAD,CAAZ,MAA6B,QAA7B,IAAyC,CAAC1zD,kCAAO,CAAC8I,KAAK,CAAC4qD,UAAD,CAAN,CAArD,EAA0E;AACxE3R,WAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,YAAI,EAAE,OADkB;AAExBsC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxBmF,YAAI,EAAE,CAAC,OAAD,EAAUs0D,UAAV,EAAsBj7D,IAAtB,CAJkB;AAKxB0D,aAAK,EAALA;AALwB,OAA1B;AAOD,KARD,MAQO;AACL4lD,WAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,YAAI,EAAE,OADkB;AAExBsC,UAAE,EAAFA,EAFwB;AAGxBX,kBAAU,EAAVA,UAHwB;AAIxBmF,YAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjD,aAAK,EAAE2M,KAAK,CAACsH,MAAN,CAAa,CAACkjD,QAAD,CAAb;AALiB,OAA1B;AAOD;AACF,GAnBM,MAmBA;AACLvR,SAAK,CAAC3mB,mBAAN,CAA0B;AACxB9iC,UAAI,EAAE,OADkB;AAExBsC,QAAE,EAAFA,EAFwB;AAGxBX,gBAAU,EAAVA,UAHwB;AAIxBmF,UAAI,EAAE,CAAC,OAAD,CAJkB;AAKxBjD,WAAK,EAAE,CAAC2M,KAAD,EAAQwqD,QAAR;AALiB,KAA1B;AAOD;;AAEDvR,OAAK,CAACpuC,IAAN,CAAW,qBAAX;AACD,C;;ACtUD;;;;;;;;AAUA;CAGA;AACA;AACA;;AAMO,SAASggD,6BAAT,CACLC,uBADK,EAEL;AACAC,gCAA8B,CAACD,uBAAD,CAA9B;AACD;;AAED,SAASC,8BAAT,CACED,uBADF,EAEE;AACA,MAAIA,uBAAuB,CAACE,uBAAxB,IAAmD,IAAvD,EAA6D;AAC3D;AACD;;AACD,MAAMC,0BAA0B,GAC9BH,uBAAuB,CAACE,uBAAxB,EADF;;AAEA,MAAIC,0BAA0B,IAAI,IAAlC,EAAwC;AACtC;AACD;;AACD,MAAMC,0BAA0B,GAAGC,yBAAyB,CAC1DF,0BAD0D,CAA5D;;AAGA,MAAIC,0BAA0B,IAAI,IAAlC,EAAwC;AACtC;AACD;;AACD5kD,sEAAiC,CAAC4kD,0BAAD,CAAjC;AACD;;AAED,SAASC,yBAAT,CACEF,0BADF,EAEyB;AAAA;;AACvB,MAAMG,WAAW,GAAGx3D,IAAI,CAACC,KAAL,CAAWo3D,0BAAX,aAAWA,0BAAX,cAAWA,0BAAX,GAAyC,IAAzC,CAApB;AADuB,MAGrB5mD,oBAHqB,GAQnB+mD,WARmB,CAGrB/mD,oBAHqB;AAAA,MAIrBC,oBAJqB,GAQnB8mD,WARmB,CAIrB9mD,oBAJqB;AAAA,MAKrBC,2BALqB,GAQnB6mD,WARmB,CAKrB7mD,2BALqB;AAAA,MAMrBC,2BANqB,GAQnB4mD,WARmB,CAMrB5mD,2BANqB;AAAA,MAOrBtB,YAPqB,GAQnBkoD,WARmB,CAOrBloD,YAPqB;AASvB,SAAO;AACLmB,wBAAoB,eAAEhQ,qCAAQ,CAACgQ,oBAAD,CAAV,iDAAoC,IADnD;AAELC,wBAAoB,gBAAEjQ,qCAAQ,CAACiQ,oBAAD,CAAV,mDAAoC,KAFnD;AAGLC,+BAA2B,gBAAElQ,qCAAQ,CAACkQ,2BAAD,CAAV,mDAA2C,IAHjE;AAILC,+BAA2B,gBAAEnQ,qCAAQ,CAACmQ,2BAAD,CAAV,mDAA2C,KAJjE;AAKLtB,gBAAY,uBAAE3O,6CAAgB,CAAC2O,YAAD,CAAlB,iEAAoC;AAL3C,GAAP;AAOD;;AAEM,SAASmoD,yBAAT,CACLP,uBADK,EAELz3D,KAFK,EAGC;AACN,MAAIy3D,uBAAuB,CAACQ,uBAAxB,IAAmD,IAAvD,EAA6D;AAC3D;AACD;;AACDR,yBAAuB,CAACQ,uBAAxB,CAAgD13D,IAAI,CAACM,SAAL,CAAeb,KAAf,CAAhD;AACD,C;;AC3ED;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAwBA;AACA;AACAmT,kEAA+B;AAC/Bm8C,WAAW,CAACvhD,MAAD,CAAX;AAEA,IAAMib,YAAmB,GAAGjb,MAAM,CAACoS,8BAAnC;AAEA,IAAI+3C,qBAA6C,GAC/Cp4D,uDAA0B,EAD5B;;AAGA,SAASsrB,aAAT,CAAegiC,UAAf,EAA0D;AACxD,MAAIplD,8BAAJ,EAAe;AAAA;;AAAA,sCADqBoF,IACrB;AADqBA,UACrB;AAAA;;AACb,gBAAAxN,OAAO,EAACC,GAAR,+CACwButD,UADxB,GAEE,iCAFF,EAGE,oBAHF,SAIKhgD,IAJL;AAMD;AACF;;AAEM,SAAS+qD,iBAAT,CAA2B3+C,OAA3B,EAAqD;AAC1D,MAAIwP,YAAI,IAAI,IAAZ,EAAkB;AAChB;AACA;AACD;;AAJyD,aAetDxP,OAAO,IAAI,EAf2C;AAAA,uBAMxD4+C,IANwD;AAAA,MAMxDA,IANwD,0BAMjD,WANiD;AAAA,MAOxDC,gCAPwD,QAOxDA,gCAPwD;AAAA,2BAQxDC,QARwD;AAAA,MAQxDA,QARwD,8BAQ7C,KAR6C;AAAA,uBASxDC,IATwD;AAAA,MASxDA,IATwD,0BASjD,IATiD;AAAA,MAUxDC,SAVwD,QAUxDA,SAVwD;AAAA,iCAWxDC,cAXwD;AAAA,MAWxDA,cAXwD,oCAWtC,IAXsC;AAAA,mCAYxDC,oBAZwD;AAAA,MAYxDA,oBAZwD,sCAYjC,IAZiC;AAAA,8BAaxDC,WAbwD;AAAA,MAaxDA,WAbwD,iCAa1C;AAAA,WAAM,IAAN;AAAA,GAb0C;AAAA,MAcxDlB,uBAdwD,QAcxDA,uBAdwD;;AAiB1D,MAAMmB,QAAQ,GAAGN,QAAQ,GAAG,KAAH,GAAW,IAApC;AACA,MAAIO,cAAgC,GAAG,IAAvC;;AAEA,WAASC,aAAT,GAAyB;AACvB,QAAID,cAAc,KAAK,IAAvB,EAA6B;AAC3B;AACAA,oBAAc,GAAG7mD,UAAU,CACzB;AAAA,eAAMmmD,iBAAiB,CAAC3+C,OAAD,CAAvB;AAAA,OADyB,EAEzBk/C,oBAFyB,CAA3B;AAID;AACF;;AAED,MAAIjB,uBAAuB,IAAI,IAA/B,EAAqC;AACnC,QAAI;AACFD,mCAA6B,CAACC,uBAAD,CAA7B;AACD,KAFD,CAEE,OAAO/hD,CAAP,EAAU;AACV;AACA;AACA9V,aAAO,CAACa,KAAR,CAAciV,CAAd;AACD;AACF;;AAED,MAAI,CAACijD,WAAW,EAAhB,EAAoB;AAClB;AACA;AACAG,iBAAa;AACb;AACD;;AAED,MAAI3Q,MAA4B,GAAG,IAAnC;AAEA,MAAM4Q,gBAAgB,GAAG,EAAzB;AACA,MAAMC,GAAG,GAAGJ,QAAQ,GAAG,KAAX,GAAmBR,IAAnB,GAA0B,GAA1B,GAAgCG,IAA5C,CAlD0D,CAoD1D;AACA;AACA;;AACA,MAAMU,EAAE,GAAGT,SAAS,GAAGA,SAAH,GAAe,IAAIzqD,MAAM,CAACmrD,SAAX,CAAqBF,GAArB,CAAnC;AACAC,IAAE,CAACE,OAAH,GAAaC,WAAb;AACAH,IAAE,CAACI,OAAH,GAAaC,YAAb;AACAL,IAAE,CAACM,SAAH,GAAeC,aAAf;;AACAP,IAAE,CAACQ,MAAH,GAAY,YAAY;AACtBtR,UAAM,GAAG,IAAIsE,UAAJ,CAAW;AAClBQ,YADkB,kBACX3pB,EADW,EACP;AACTy1B,wBAAgB,CAACp7D,IAAjB,CAAsB2lC,EAAtB;AACA,eAAO,YAAM;AACX,cAAM53B,KAAK,GAAGqtD,gBAAgB,CAACx2D,OAAjB,CAAyB+gC,EAAzB,CAAd;;AACA,cAAI53B,KAAK,IAAI,CAAb,EAAgB;AACdqtD,4BAAgB,CAACj1D,MAAjB,CAAwB4H,KAAxB,EAA+B,CAA/B;AACD;AACF,SALD;AAMD,OATiB;AAUlB89C,UAVkB,gBAUb3kC,KAVa,EAUE+f,OAVF,EAUgB80B,YAVhB,EAU2C;AAC3D,YAAIT,EAAE,CAACU,UAAH,KAAkBV,EAAE,CAACW,IAAzB,EAA+B;AAC7B,cAAI5xD,8BAAJ,EAAe;AACbojB,yBAAK,CAAC,aAAD,EAAgBvG,KAAhB,EAAuB+f,OAAvB,CAAL;AACD;;AAEDq0B,YAAE,CAACzP,IAAH,CAAQjpD,IAAI,CAACM,SAAL,CAAe;AAACgkB,iBAAK,EAALA,KAAD;AAAQ+f,mBAAO,EAAPA;AAAR,WAAf,CAAR;AACD,SAND,MAMO;AACL,cAAI58B,8BAAJ,EAAe;AACbojB,yBAAK,CACH,aADG,EAEH,6DAFG,CAAL;AAID;;AAED,cAAI+8B,MAAM,KAAK,IAAf,EAAqB;AACnBA,kBAAM,CAACyG,QAAP;AACD;;AAEDkK,uBAAa;AACd;AACF;AA/BiB,KAAX,CAAT;AAiCA3Q,UAAM,CAAChxC,WAAP,CACE,wBADF,EAEE,UAACxW,gBAAD,EAA8C;AAC5C;AACA;AACA;AACAu3D,2BAAqB,GAAGv3D,gBAAxB;AACD,KAPH;;AAUA,QAAI82D,uBAAuB,IAAI,IAA3B,IAAmCtP,MAAM,IAAI,IAAjD,EAAuD;AACrDA,YAAM,CAAChxC,WAAP,CAAmB,4BAAnB,EAAiD,UAAA0iD,oBAAoB;AAAA,eACnE7B,yBAAyB,CACvBP,uBADuB,EAEvBoC,oBAFuB,CAD0C;AAAA,OAArE;AAMD,KAnDqB,CAqDtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAI9rD,MAAM,CAAC4e,oCAAP,IAA+C,IAAnD,EAAyD;AACvD;AACAw7B,YAAM,CAACqB,IAAP,CAAY,0BAAZ,EAAwC0O,qBAAxC;AACD,KAhEqB,CAkEtB;AACA;;;AACA,QAAMtS,KAAK,GAAG,IAAIyH,WAAJ,CAAUlF,MAAV,CAAd;AACAvC,SAAK,CAACzuC,WAAN,CAAkB,UAAlB,EAA8B,YAAM;AAClC;AACA;AACA6R,kBAAI,CAACxR,IAAL,CAAU,UAAV;AACD,KAJD;AAMAo9C,eAAW,CAAC5rC,YAAD,EAAO48B,KAAP,EAAc73C,MAAd,CAAX,CA3EsB,CA6EtB;;AACA,QAAI0qD,cAAc,IAAI,IAAlB,IAA0BzvC,YAAI,CAACyvC,cAAL,IAAuB,IAArD,EAA2D;AACzDvC,4BAAsB,EACpB;AACA/N,YAFoB,EAGpBvC,KAHoB,EAIlB6S,cAAc,IAAIzvC,YAAI,CAACyvC,cAJL,EAKpBJ,gCAAgC,IAC9BrvC,YAAI,CAACqvC,gCADP,IAEE,IAPkB,CAAtB;AASD,KAVD,MAUO;AACL;AACA;AACA;AACA,UAAIyB,kBAAJ;AACA,UAAIC,oCAAJ;;AAEA,UAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,YAAI7R,MAAM,KAAK,IAAf,EAAqB;AACnB+N,gCAAsB,CACpB/N,MADoB,EAEpBvC,KAFoB,EAGpBkU,kBAHoB,EAIpBC,oCAJoB,CAAtB;AAMD;AACF,OATD;;AAWA,UAAI,CAAC/wC,YAAI,CAAC9uB,cAAL,CAAoB,gBAApB,CAAL,EAA4C;AAC1CC,cAAM,CAAC4kB,cAAP,CACEiK,YADF,EAEE,gBAFF,EAGG;AACCvtB,oBAAU,EAAE,KADb;AAECY,aAFD,iBAEO;AACJ,mBAAOy9D,kBAAP;AACD,WAJF;AAKCv9D,aALD,eAKKyD,KALL,EAKwB;AACrB85D,8BAAkB,GAAG95D,KAArB;AACAg6D,yBAAa;AACd;AARF,SAHH;AAcD;;AACD,UAAI,CAAChxC,YAAI,CAAC9uB,cAAL,CAAoB,kCAApB,CAAL,EAA8D;AAC5DC,cAAM,CAAC4kB,cAAP,CACEiK,YADF,EAEE,kCAFF,EAGG;AACCvtB,oBAAU,EAAE,KADb;AAECY,aAFD,iBAEO;AACJ,mBAAO09D,oCAAP;AACD,WAJF;AAKCx9D,aALD,eAKKyD,KALL,EAKwB;AACrB+5D,gDAAoC,GAAG/5D,KAAvC;AACAg6D,yBAAa;AACd;AARF,SAHH;AAcD;AACF;AACF,GA3ID;;AA6IA,WAASZ,WAAT,GAAuB;AACrB,QAAIpxD,8BAAJ,EAAe;AACbojB,mBAAK,CAAC,mBAAD,CAAL;AACD;;AAED,QAAI+8B,MAAM,KAAK,IAAf,EAAqB;AACnBA,YAAM,CAAC3wC,IAAP,CAAY,UAAZ;AACD;;AAEDshD,iBAAa;AACd;;AAED,WAASQ,YAAT,GAAwB;AACtB,QAAItxD,8BAAJ,EAAe;AACbojB,mBAAK,CAAC,mBAAD,CAAL;AACD;;AAED0tC,iBAAa;AACd;;AAED,WAASU,aAAT,CAAuB30C,KAAvB,EAA4C;AAC1C,QAAIvgB,IAAJ;;AACA,QAAI;AACF,UAAI,OAAOugB,KAAK,CAACvgB,IAAb,KAAsB,QAA1B,EAAoC;AAClCA,YAAI,GAAG/D,IAAI,CAACC,KAAL,CAAWqkB,KAAK,CAACvgB,IAAjB,CAAP;;AACA,YAAI0D,8BAAJ,EAAe;AACbojB,uBAAK,CAAC,qBAAD,EAAwB9mB,IAAxB,CAAL;AACD;AACF,OALD,MAKO;AACL,cAAM3E,KAAK,EAAX;AACD;AACF,KATD,CASE,OAAO+V,CAAP,EAAU;AACV9V,aAAO,CAACa,KAAR,CACE,4CAA6CokB,KAAK,CAACvgB,IADrD;AAGA;AACD;;AACDy0D,oBAAgB,CAACx9D,OAAjB,CAAyB,UAAA+nC,EAAE,EAAI;AAC7B,UAAI;AACFA,UAAE,CAACh/B,IAAD,CAAF;AACD,OAFD,CAEE,OAAO7D,KAAP,EAAc;AACd;AACA;AACA;AACAb,eAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDyE,IAAvD;AACA1E,eAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBY,KAAtB;AACA,cAAMA,KAAN;AACD;AACF,KAXD;AAYD;AACF,C","file":"backend.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {\n  REACT_SUSPENSE_LIST_TYPE as SuspenseList,\n  REACT_TRACING_MARKER_TYPE as TracingMarker,\n} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {ComponentFilterElementType, ElementTypeHostComponent} from './types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {ComponentFilter, ElementType, BrowserTheme} from './types';\nimport type {LRUCache} from 'react-devtools-shared/src/types';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any).displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeString(array: Array<number>): string {\n  // Avoid spreading the array (e.g. String.fromCodePoint(...array))\n  // Functions arguments are first placed on the stack before the function is called\n  // which throws a RangeError for large arrays.\n  // See github.com/facebook/react/issues/22293\n  let string = '';\n  for (let i = 0; i < array.length; i++) {\n    const char = array[i];\n    string += String.fromCodePoint(char);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeString(\n      (operations.slice(i, i + nextLength): any),\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(componentFilters),\n  );\n}\n\nfunction parseBool(s: ?string): ?boolean {\n  if (s === 'true') {\n    return true;\n  }\n  if (s === 'false') {\n    return false;\n  }\n}\n\nexport function castBool(v: any): ?boolean {\n  if (v === true || v === false) {\n    return v;\n  }\n}\n\nexport function castBrowserTheme(v: any): ?BrowserTheme {\n  if (v === 'light' || v === 'dark' || v === 'auto') {\n    return v;\n  }\n}\n\nexport function getAppendComponentStack(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS);\n  return parseBool(raw) ?? false;\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n  );\n  return parseBool(raw) ?? false;\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\nexport function separateDisplayNameAndHOCs(\n  displayName: string | null,\n  type: ElementType,\n): [string | null, Array<string> | null] {\n  if (displayName === null) {\n    return [null, null];\n  }\n\n  let hocDisplayNames = null;\n\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return [displayName, hocDisplayNames];\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    case TracingMarker:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        ` ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\n\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\n\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\n\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\n\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\n\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\n\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\n\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\n\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\n\nexport const LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY =\n  'React::DevTools::appendComponentStack';\n\nexport const LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY =\n  'React::DevTools::showInlineWarningsAndErrors';\n\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\n\nexport const LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE =\n  'React::DevTools::hideConsoleLogsInStrictMode';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_NUMBER = 0xeac7;\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/devtools/views/Components/types';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key, value) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\n// Formats an array of args with a style for console methods, using\n// the following algorithm:\n//     1. The first param is a string that contains %c\n//          - Bail out and return the args without modifying the styles.\n//            We don't want to affect styles that the developer deliberately set.\n//     2. The first param is a string that doesn't contain %c but contains\n//        string formatting\n//          - [`%c${args[0]}`, style, ...args.slice(1)]\n//          - Note: we assume that the string formatting that the developer uses\n//            is correct.\n//     3. The first param is a string that doesn't contain string formatting\n//        OR is not a string\n//          - Create a formatting string where:\n//                 boolean, string, symbol -> %s\n//                 number -> %f OR %i depending on if it's an int or float\n//                 default -> %o\nexport function formatWithStyles(\n  inputArgs: $ReadOnlyArray<any>,\n  style?: string,\n): $ReadOnlyArray<any> {\n  if (\n    inputArgs === undefined ||\n    inputArgs === null ||\n    inputArgs.length === 0 ||\n    // Matches any of %c but not %%c\n    (typeof inputArgs[0] === 'string' && inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n    style === undefined\n  ) {\n    return inputArgs;\n  }\n\n  // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n  const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n  if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n    return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n  } else {\n    const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n      if (i > 0) {\n        formatStr += ' ';\n      }\n      switch (typeof elem) {\n        case 'string':\n        case 'boolean':\n        case 'symbol':\n          return (formatStr += '%s');\n        case 'number':\n          const formatting = Number.isInteger(elem) ? '%i' : '%f';\n          return (formatStr += formatting);\n        default:\n          return (formatStr += '%o');\n      }\n    }, '%c');\n    return [firstArg, style, ...inputArgs];\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\n// NOTE: KEEP IN SYNC with src/hook.js\nexport function format(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = String(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + String(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  CurrentDispatcherRef,\n  ReactRenderer,\n  WorkTagMap,\n  ConsolePatchSettings,\n} from './types';\nimport {format, formatWithStyles} from './utils';\n\nimport {getInternalReactConstants} from './renderer';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\nimport {castBool, castBrowserTheme} from '../utils';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn'];\nconst DIMMED_NODE_CONSOLE_COLOR = '\\x1b[2m%s\\x1b[0m';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\nconst STYLE_DIRECTIVE_REGEX = /^%c/;\n\n// This function tells whether or not the arguments for a console\n// method has been overridden by the patchForStrictMode function.\n// If it has we'll need to do some special formatting of the arguments\n// so the console color stays consistent\nfunction isStrictModeOverride(args: Array<string>, method: string): boolean {\n  return (\n    args.length >= 2 &&\n    STYLE_DIRECTIVE_REGEX.test(args[0]) &&\n    args[1] === `color: ${getConsoleColor(method) || ''}`\n  );\n}\n\nfunction getConsoleColor(method: string): ?string {\n  switch (method) {\n    case 'warn':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n        : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n    case 'error':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n        : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n    case 'log':\n    default:\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n        : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n  }\n}\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {\n    currentDispatcherRef: CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n  },\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods: {[string]: $FlowFixMe} = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\nlet isNode = false;\ntry {\n  isNode = this === global;\n} catch (error) {}\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef: ConsolePatchSettings = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n  browserTheme: 'dark',\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: ConsolePatchSettings): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n  consoleSettingsRef.browserTheme = browserTheme;\n\n  if (\n    appendComponentStack ||\n    breakOnConsoleErrors ||\n    showInlineWarningsAndErrors\n  ) {\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    OVERRIDE_CONSOLE_METHODS.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          let shouldAppendWarningStack = false;\n          if (method !== 'log') {\n            if (consoleSettingsRef.appendComponentStack) {\n              const lastArg = args.length > 0 ? args[args.length - 1] : null;\n              const alreadyHasComponentStack =\n                typeof lastArg === 'string' && isStringComponentStack(lastArg);\n\n              // If we are ever called with a string that already has a component stack,\n              // e.g. a React error/warning, don't append a second stack.\n              shouldAppendWarningStack = !alreadyHasComponentStack;\n            }\n          }\n\n          const shouldShowInlineWarningsAndErrors =\n            consoleSettingsRef.showInlineWarningsAndErrors &&\n            (method === 'error' || method === 'warn');\n\n          // Search for the first renderer that has a current Fiber.\n          // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n          // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n          for (const {\n            currentDispatcherRef,\n            getCurrentFiber,\n            onErrorOrWarning,\n            workTagMap,\n          } of injectedRenderers.values()) {\n            const current: ?Fiber = getCurrentFiber();\n            if (current != null) {\n              try {\n                if (shouldShowInlineWarningsAndErrors) {\n                  // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                  // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                  if (typeof onErrorOrWarning === 'function') {\n                    onErrorOrWarning(\n                      current,\n                      ((method: any): 'error' | 'warn'),\n                      // Copy args before we mutate them (e.g. adding the component stack)\n                      args.slice(),\n                    );\n                  }\n                }\n\n                if (shouldAppendWarningStack) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    currentDispatcherRef,\n                  );\n                  if (componentStack !== '') {\n                    if (isStrictModeOverride(args, method)) {\n                      args[0] = `${args[0]} %s`;\n                      args.push(componentStack);\n                    } else {\n                      args.push(componentStack);\n                    }\n                  }\n                }\n              } catch (error) {\n                // Don't let a DevTools or React internal error interfere with logging.\n                setTimeout(() => {\n                  throw error;\n                }, 0);\n              } finally {\n                break;\n              }\n            }\n          }\n\n          if (consoleSettingsRef.breakOnConsoleErrors) {\n            // --- Welcome to debugging with React DevTools ---\n            // This debugger statement means that you've enabled the \"break on warnings\" feature.\n            // Use the browser's Call Stack panel to step out of this override function-\n            // to where the original warning or error was logged.\n            // eslint-disable-next-line no-debugger\n            debugger;\n          }\n\n          originalMethod(...args);\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n        originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  } else {\n    unpatch();\n  }\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n\nlet unpatchForStrictModeFn: null | (() => void) = null;\n\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialRenderInStrictMode\nexport function patchForStrictMode() {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchForStrictModeFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchForStrictModeFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            if (isNode) {\n              originalMethod(DIMMED_NODE_CONSOLE_COLOR, format(...args));\n            } else {\n              const color = getConsoleColor(method);\n              if (color) {\n                originalMethod(...formatWithStyles(args, `color: ${color}`));\n              } else {\n                throw Error('Console color is not defined');\n              }\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js:unpatchConsoleForInitialRenderInStrictMode\nexport function unpatchForStrictMode(): void {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    if (unpatchForStrictModeFn !== null) {\n      unpatchForStrictModeFn();\n      unpatchForStrictModeFn = null;\n    }\n  }\n}\n\nexport function patchConsoleUsingWindowValues() {\n  const appendComponentStack =\n    castBool(window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__) ?? true;\n  const breakOnConsoleErrors =\n    castBool(window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__) ?? false;\n  const showInlineWarningsAndErrors =\n    castBool(window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__) ?? true;\n  const hideConsoleLogsInStrictMode =\n    castBool(window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__) ??\n    false;\n  const browserTheme =\n    castBrowserTheme(window.__REACT_DEVTOOLS_BROWSER_THEME__) ?? 'dark';\n\n  patch({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  });\n}\n\n// After receiving cached console patch settings from React Native, we set them on window.\n// When the console is initially patched (in renderer.js and hook.js), these values are read.\n// The browser extension (etc.) sets these values on window, but through another method.\nexport function writeConsolePatchSettingsToWindow(\n  settings: ConsolePatchSettings,\n): void {\n  window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n    settings.appendComponentStack;\n  window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n    settings.breakOnConsoleErrors;\n  window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n    settings.showInlineWarningsAndErrors;\n  window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n    settings.hideConsoleLogsInStrictMode;\n  window.__REACT_DEVTOOLS_BROWSER_THEME__ = settings.browserTheme;\n}\n\nexport function installConsoleFunctionsToWindow(): void {\n  window.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__ = {\n    patchConsoleUsingWindowValues,\n    registerRendererWithConsole: registerRenderer,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from './utils';\n\nimport type {DehydratedData} from './devtools/views/Components/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level?: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: Array<string | number>,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string, ...} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const consoleManagedByDevToolsDuringStrictMode = false;\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': 'rgba(0, 0, 0, 0.1)',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-background-inverted': 'rgba(0, 0, 0, 0.25)',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions = ({}: {startTime?: number});\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    // $FlowFixMe[extra-arg]: Flow expects the User Timing level 2 API.\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (value: boolean) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(value: boolean) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        currentTimelineData = {\n          // Session wide metadata; only collected once.\n          internalModuleSourceToRanges,\n          laneToLabelMap: laneToLabelMap || new Map(),\n          reactVersion,\n\n          // Data logged by React during profiling session.\n          componentMeasures: [],\n          schedulingEvents: [],\n          suspenseEvents: [],\n          thrownErrors: [],\n\n          // Data inferred based on what React logs.\n          batchUIDToMeasuresMap: new Map(),\n          duration: 0,\n          laneToReactMeasureMap,\n          startTime: 0,\n\n          // Data only available in Chrome profiles.\n          flamechart: [],\n          nativeEvents: [],\n          networkMeasures: [],\n          otherUserTimingMarks: [],\n          snapshots: [],\n          snapshotHeight: 0,\n        };\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  StrictMode,\n} from 'react-devtools-shared/src/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  gt,\n  gte,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patchConsoleUsingWindowValues,\n  registerRenderer as registerRendererWithConsole,\n  patchForStrictMode as patchConsoleForStrictMode,\n  unpatchForStrictMode as unpatchConsoleForStrictMode,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {format} from './utils';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {getStyleXData} from './StyleX/utils';\nimport {createProfilingHooks} from './profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from './profilingHooks';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/types';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(fiber: Fiber): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return getDisplayName(resolvedType);\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// Map of one or more Fibers in a pair to their unique id number.\n// We track both Fibers to support Fast Refresh,\n// which may forcefully replace one of the pair as part of hot reloading.\n// In that case it's still important to be able to locate the previous ID during subsequent renders.\nconst fiberToIDMap: Map<Fiber, number> = new Map();\n\n// Map of id to one (arbitrary) Fiber in a pair.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: renderer.currentDispatcherRef,\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n    const message = format(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  registerRendererWithConsole(renderer, onErrorOrWarning);\n\n  // The renderer interface can't read these preferences directly,\n  // because it is stored in localStorage within the context of the extension.\n  // It relies on the extension to pass the preference through via the global.\n  patchConsoleUsingWindowValues();\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    applyComponentFilters(window.__REACT_DEVTOOLS_COMPONENT_FILTERS__);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {_debugSource, tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (_debugSource != null && hideElementsWithPaths.size > 0) {\n      const {fileName} = _debugSource;\n      // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n      for (const pathRegExp of hideElementsWithPaths) {\n        if (pathRegExp.test(fileName)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    // React may detach alternate pointers during unmount;\n    // Since our untracking code is async, we should explicily track the pending alternate here as well.\n    const alternate = fiber.alternate;\n    if (alternate !== null) {\n      untrackFibersSet.add(alternate);\n    }\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          data.hooks = indices;\n          data.didHooksChange = indices !== null && indices.length > 0;\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            // $FlowFixMe[incompatible-use] found when upgrading Flow\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    const id = getFiberIDUnsafe(fiber);\n\n    // Not all Fibers in the subtree have mounted yet.\n    // For example, Offscreen (hidden) or Suspense (suspended) subtrees won't yet be tracked.\n    // We can safely skip these subtrees.\n    if (id !== null) {\n      updateContextsForFiber(fiber);\n\n      let current = fiber.child;\n      while (current !== null) {\n        crawlToInitializeContextsMap(current);\n        current = current.sibling;\n      }\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const prevContexts = idToContextsMap.has(id)\n        ? // $FlowFixMe[incompatible-use] found when upgrading Flow\n          idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeForwardRef:\n        case ElementTypeFunction:\n        case ElementTypeMemo:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              // Note this only works for versions of React that support this key (e.v. 18+)\n              // For older versions, there's no good way to read the current context value after render has completed.\n              // This is because React maintains a stack of context values during render,\n              // but by the time DevTools is called, render has finished and the stack is empty.\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() or useReducer()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    const isStateOrReducer =\n      boundHasOwnProperty('pending') &&\n      boundHasOwnProperty('dispatch') &&\n      typeof queue.dispatch === 'function';\n\n    // Detect useSyncExternalStore()\n    const isSyncExternalStore =\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function';\n\n    // These are the only types of hooks that can schedule an update.\n    return isStateOrReducer || isSyncExternalStore;\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didStatefulHookChange(prev, next)) {\n          indices.push(index);\n        }\n        next = next.next;\n        prev = prev.next;\n        index++;\n      }\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID: null | TimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (shouldBailoutWithPendingOperations()) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n    // Instead let's re-purpose a pre-existing field to carry more information.\n    let profilingFlags = 0;\n    if (isProfilingSupported) {\n      profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n      if (typeof injectProfilingHooks === 'function') {\n        profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n      }\n    }\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(StrictModeBits !== 0 ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const {_debugOwner} = fiber;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      const ownerID =\n        _debugOwner != null ? getOrGenerateFiberID(_debugOwner) : 0;\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if (\n        (fiber.mode & StrictModeBits) !== 0 &&\n        (((parentFiber: any): Fiber).mode & StrictModeBits) === 0\n      ) {\n        pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n        pushOperation(id);\n        pushOperation(StrictMode);\n      }\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath =\n        updateTrackedPathStateBeforeMount(fiber);\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child: null | Fiber = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root: any): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters)\n          .filter(fiber => getFiberIDUnsafe(fiber) !== null)\n          .map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // If the untrackFiberSet already has the unmounted Fiber, this means we've already\n    // recordedUnmount, so we don't need to do it again. If we don't do this, we might\n    // end up double-deleting Fibers in some cases (like Legacy Suspense).\n    if (!untrackFibersSet.has(fiber)) {\n      // This is not recursive.\n      // We can't traverse fibers after unmounting so instead\n      // we rely on React telling us about each unmount.\n      recordUnmount(fiber, false);\n    }\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root: any, priorityLevel: void | number) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        alternate.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRootID,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRootID,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      let fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n      // Special case for a timed-out Suspense.\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // A timed-out Suspense's findDOMNode is useless.\n        // Try our best to find the fallback directly.\n        const maybeFallbackFiber = fiber.child && fiber.child.sibling;\n        if (maybeFallbackFiber != null) {\n          fiber = maybeFallbackFiber;\n        }\n      }\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id: number) {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(((fiber: any): Fiber)) : null;\n  }\n\n  function getFiberForNative(hostInstance: NativeType) {\n    return renderer.findFiberByHostInstance(hostInstance);\n  }\n\n  function getFiberIDForNative(\n    hostInstance: NativeType,\n    findNearestUnfilteredAncestor: boolean = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function assertIsMounted(fiber: Fiber) {\n    if (getNearestMountedFiber(fiber) !== fiber) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n    let node = fiber;\n    let nearestMounted: null | Fiber = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      let nextNode: Fiber = node;\n      do {\n        node = nextNode;\n        // TODO: This function, and these flags, are a leaked implementation\n        // detail. Once we start releasing DevTools in lockstep with React, we\n        // should import a function from the reconciler instead.\n        const Placement = 0b000000000000000000000000010;\n        const Hydrating = 0b000000000000001000000000000;\n        if ((node.flags & (Placement | Hydrating)) !== 0) {\n          // This is an insertion or in-progress hydration. The nearest possible\n          // mounted fiber is the parent but we need to continue to figure out\n          // if that one is still mounted.\n          nearestMounted = node.return;\n        }\n        // $FlowFixMe[incompatible-type] we bail out when we get a null\n        nextNode = node.return;\n      } while (nextNode);\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return nearestMounted;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const nearestMounted = getNearestMountedFiber(fiber);\n\n      if (nearestMounted === null) {\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (nearestMounted !== fiber) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            assertIsMounted(parentA);\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            assertIsMounted(parentA);\n            return alternate;\n          }\n          child = child.sibling;\n        }\n\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n\n          if (!didFindChild) {\n            throw new Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw new Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {_debugOwner} = fiber;\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    if (_debugOwner) {\n      let owner: null | Fiber = _debugOwner;\n      while (owner !== null) {\n        owners.unshift(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner,\n      _debugSource,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      typeSymbol === CONTEXT_NUMBER ||\n      typeSymbol === CONTEXT_SYMBOL_STRING\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners = null;\n    if (_debugOwner) {\n      owners = ([]: Array<SerializedElement>);\n      let owner: null | Fiber = _debugOwner;\n      while (owner !== null) {\n        owners.push(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(\n          fiber,\n          (renderer.currentDispatcherRef: any),\n          true, // Include source location info for hooks\n        );\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    let isErrored = false;\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFiberIDs.get(id) === true;\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source: _debugSource || null,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const fiber = findCurrentFiberUsingSlowPathById(id);\n          const componentName =\n            fiber != null ? getDisplayNameForFiber(fiber) : null;\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (result.source !== null) {\n      console.log('Location:', result.source);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false);\n    }\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map<number | null, $FlowFixMe>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set<number>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: any) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber: ?Fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber: null | Fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    inspectElement,\n    logElementToConsole,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {CurrentDispatcherRef} from './types';\n\nimport {\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  LAZY_NUMBER,\n  LAZY_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SUSPENSE_NUMBER,\n  SUSPENSE_SYMBOL_STRING,\n  SUSPENSE_LIST_NUMBER,\n  SUSPENSE_LIST_SYMBOL_STRING,\n} from './ReactSymbols';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(\n  name: string,\n  ownerFn: void | null | Function,\n): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  let control;\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.current;\n  currentDispatcherRef.current = null;\n  disableLogs();\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      const Fake = function () {\n        throw Error();\n      };\n      // $FlowFixMe[prop-missing]\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        },\n      });\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n        // $FlowFixMe[prop-missing] found when upgrading Flow\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sample.stack.split('\\n');\n      const controlLines = control.stack.split('\\n');\n      let s = sampleLines.length - 1;\n      let c = controlLines.length - 1;\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                const frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.current = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    return describeNativeComponentFrame(\n      type,\n      shouldConstruct(type),\n      currentDispatcherRef,\n    );\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type, ownerFn);\n  }\n  switch (type) {\n    case SUSPENSE_NUMBER:\n    case SUSPENSE_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('Suspense', ownerFn);\n    case SUSPENSE_LIST_NUMBER:\n    case SUSPENSE_LIST_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('SuspenseList', ownerFn);\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type.render,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(\n          type.type,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case LAZY_NUMBER:\n      case LAZY_SYMBOL_STRING: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            ownerFn,\n            currentDispatcherRef,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n} from './DevToolsComponentStackFrame';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  const owner: null | Function = __DEV__\n    ? workInProgress._debugOwner\n      ? workInProgress._debugOwner.type\n      : null\n    : null;\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type, owner);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy', owner);\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense', owner);\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList', owner);\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        owner,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        owner,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        owner,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_SERVER_CONTEXT_TYPE: symbol = Symbol.for(\n  'react.server_context',\n);\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE: symbol = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_CACHE_TYPE: symbol = Symbol.for('react.cache');\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\nexport const REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED: symbol = Symbol.for(\n  'react.default_value',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nmodule.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nvar MAX = makeSymbol('max')\nvar LENGTH = makeSymbol('length')\nvar LENGTH_CALCULATOR = makeSymbol('lengthCalculator')\nvar ALLOW_STALE = makeSymbol('allowStale')\nvar MAX_AGE = makeSymbol('maxAge')\nvar DISPOSE = makeSymbol('dispose')\nvar NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')\nvar LRU_LIST = makeSymbol('lruList')\nvar CACHE = makeSymbol('cache')\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = this[MAX] = options.max\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    this[MAX] = Infinity\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  this[LENGTH_CALCULATOR] = lc\n\n  this[ALLOW_STALE] = options.stale || false\n  this[MAX_AGE] = options.maxAge || 0\n  this[DISPOSE] = options.dispose\n  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    this[MAX] = mL\n    trim(this)\n  },\n  get: function () {\n    return this[MAX]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  },\n  get: function () {\n    return this[ALLOW_STALE]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    this[MAX_AGE] = mA\n    trim(this)\n  },\n  get: function () {\n    return this[MAX_AGE]\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(function (hit) {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return this[LENGTH_CALCULATOR] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return this[LENGTH] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return this[LRU_LIST].length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE]) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (this[DISPOSE] &&\n      this[LRU_LIST] &&\n      this[LRU_LIST].length) {\n    this[LRU_LIST].forEach(function (hit) {\n      this[DISPOSE](hit.key, hit.value)\n    }, this)\n  }\n\n  this[CACHE] = new Map() // hash of items by key\n  this[LRU_LIST] = new Yallist() // list of items in order of use recency\n  this[LENGTH] = 0 // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return this[LRU_LIST].map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return this[LRU_LIST]\n}\n\n/* istanbul ignore next */\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = this[ALLOW_STALE]\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = this[MAX]\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = this[MAX_AGE]\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = this[LENGTH_CALCULATOR]\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(this[LENGTH], opts)\n    extras = true\n  }\n\n  var didFirst = false\n  this[LRU_LIST].forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || this[MAX_AGE]\n\n  var now = maxAge ? Date.now() : 0\n  var len = this[LENGTH_CALCULATOR](value, key)\n\n  if (this[CACHE].has(key)) {\n    if (len > this[MAX]) {\n      del(this, this[CACHE].get(key))\n      return false\n    }\n\n    var node = this[CACHE].get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    // split out into 2 ifs for better coverage tracking\n    if (this[DISPOSE]) {\n      if (!this[NO_DISPOSE_ON_SET]) {\n        this[DISPOSE](key, item.value)\n      }\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    this[LENGTH] += len - item.length\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > this[MAX]) {\n    if (this[DISPOSE]) {\n      this[DISPOSE](key, value)\n    }\n    return false\n  }\n\n  this[LENGTH] += hit.length\n  this[LRU_LIST].unshift(hit)\n  this[CACHE].set(key, this[LRU_LIST].head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!this[CACHE].has(key)) return false\n  var hit = this[CACHE].get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = this[LRU_LIST].tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, this[CACHE].get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  this[CACHE].forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = self[CACHE].get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE]) hit = undefined\n    } else {\n      if (doUse) {\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = self[MAX_AGE] && (diff > self[MAX_AGE])\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (self[DISPOSE]) {\n      self[DISPOSE](hit.key, hit.value)\n    }\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.min.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u=Symbol.for(\"react.cache\"),v=Symbol.for(\"react.client.reference\");\nfunction w(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return w(a)===h};exports.isContextProvider=function(a){return w(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return w(a)===l};exports.isFragment=function(a){return w(a)===d};exports.isLazy=function(a){return w(a)===q};exports.isMemo=function(a){return w(a)===p};\nexports.isPortal=function(a){return w(a)===c};exports.isProfiler=function(a){return w(a)===f};exports.isStrictMode=function(a){return w(a)===e};exports.isSuspense=function(a){return w(a)===m};exports.isSuspenseList=function(a){return w(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||a===u||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===v||void 0!==a.getModuleId)?!0:!1};exports.typeOf=w;\n","/**\n * @license React\n * react-debug-tools.production.min.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"error-stack-parser\"),m=require(\"react\"),q=Object.assign,w=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=[],y=null;\nfunction z(){if(null===y){var a=new Map;try{A.useContext({_currentValue:null}),A.useState(null),A.useReducer(function(c){return c},null),A.useRef(null),\"function\"===typeof A.useCacheRefresh&&A.useCacheRefresh(),A.useLayoutEffect(function(){}),A.useInsertionEffect(function(){}),A.useEffect(function(){}),A.useImperativeHandle(void 0,function(){return null}),A.useDebugValue(null),A.useCallback(function(){}),A.useMemo(function(){return null}),\"function\"===typeof A.useMemoCache&&A.useMemoCache(0)}finally{var b=\nx;x=[]}for(var e=0;e<b.length;e++){var f=b[e];a.set(f.primitive,h.parse(f.stackError))}y=a}return y}var B=null;function C(){var a=B;null!==a&&(B=a.next);return a}\nvar A={use:function(){throw Error(\"Support for `use` not yet implemented in react-debug-tools.\");},readContext:function(a){return a._currentValue},useCacheRefresh:function(){var a=C();x.push({primitive:\"CacheRefresh\",stackError:Error(),value:null!==a?a.memoizedState:function(){}});return function(){}},useCallback:function(a){var b=C();x.push({primitive:\"Callback\",stackError:Error(),value:null!==b?b.memoizedState[0]:a});return a},useContext:function(a){x.push({primitive:\"Context\",stackError:Error(),\nvalue:a._currentValue});return a._currentValue},useEffect:function(a){C();x.push({primitive:\"Effect\",stackError:Error(),value:a})},useImperativeHandle:function(a){C();var b=void 0;null!==a&&\"object\"===typeof a&&(b=a.current);x.push({primitive:\"ImperativeHandle\",stackError:Error(),value:b})},useDebugValue:function(a,b){x.push({primitive:\"DebugValue\",stackError:Error(),value:\"function\"===typeof b?b(a):a})},useLayoutEffect:function(a){C();x.push({primitive:\"LayoutEffect\",stackError:Error(),value:a})},\nuseInsertionEffect:function(a){C();x.push({primitive:\"InsertionEffect\",stackError:Error(),value:a})},useMemo:function(a){var b=C();a=null!==b?b.memoizedState[0]:a();x.push({primitive:\"Memo\",stackError:Error(),value:a});return a},useMemoCache:function(a){var b=C();b=null!==b&&null!==b.updateQueue&&null!=b.updateQueue.memoCache?b.updateQueue.memoCache:{data:[],index:0};b=b.data[b.index];if(void 0===b){var e=Symbol.for(\"react.memo_cache_sentinel\");b=Array(a);for(var f=0;f<a;f++)b[f]=e}x.push({primitive:\"MemoCache\",\nstackError:Error(),value:b});return b},useReducer:function(a,b,e){a=C();b=null!==a?a.memoizedState:void 0!==e?e(b):b;x.push({primitive:\"Reducer\",stackError:Error(),value:b});return[b,function(){}]},useRef:function(a){var b=C();a=null!==b?b.memoizedState:{current:a};x.push({primitive:\"Ref\",stackError:Error(),value:a.current});return a},useState:function(a){var b=C();a=null!==b?b.memoizedState:\"function\"===typeof a?a():a;x.push({primitive:\"State\",stackError:Error(),value:a});return[a,function(){}]},\nuseTransition:function(){C();C();x.push({primitive:\"Transition\",stackError:Error(),value:void 0});return[!1,function(){}]},useMutableSource:function(a,b){C();C();C();C();a=b(a._source);x.push({primitive:\"MutableSource\",stackError:Error(),value:a});return a},useSyncExternalStore:function(a,b){C();C();a=b();x.push({primitive:\"SyncExternalStore\",stackError:Error(),value:a});return a},useDeferredValue:function(a){var b=C();x.push({primitive:\"DeferredValue\",stackError:Error(),value:null!==b?b.memoizedState:\na});return a},useId:function(){var a=C();a=null!==a?a.memoizedState:\"\";x.push({primitive:\"Id\",stackError:Error(),value:a});return a}},D={get:function(a,b){if(a.hasOwnProperty(b))return a[b];a=Error(\"Missing method in Dispatcher: \"+b);a.name=\"ReactDebugToolsUnsupportedHookError\";throw a;}},E=\"undefined\"===typeof Proxy?A:new Proxy(A,D),F=0;\nfunction G(a,b,e){var f=b[e].source,c=0;a:for(;c<a.length;c++)if(a[c].source===f){for(var k=e+1,r=c+1;k<b.length&&r<a.length;k++,r++)if(a[r].source!==b[k].source)continue a;return c}return-1}function H(a,b){if(!a)return!1;b=\"use\"+b;return a.length<b.length?!1:a.lastIndexOf(b)===a.length-b.length}\nfunction I(a,b,e){for(var f=[],c=null,k=f,r=0,t=[],v=0;v<b.length;v++){var u=b[v];var d=a;var l=h.parse(u.stackError);b:{var n=l,p=G(n,d,F);if(-1!==p)d=p;else{for(var g=0;g<d.length&&5>g;g++)if(p=G(n,d,g),-1!==p){F=g;d=p;break b}d=-1}}b:{n=l;p=z().get(u.primitive);if(void 0!==p)for(g=0;g<p.length&&g<n.length;g++)if(p[g].source!==n[g].source){g<n.length-1&&H(n[g].functionName,u.primitive)&&g++;g<n.length-1&&H(n[g].functionName,u.primitive)&&g++;n=g;break b}n=-1}l=-1===d||-1===n||2>d-n?null:l.slice(n,\nd-1);if(null!==l){d=0;if(null!==c){for(;d<l.length&&d<c.length&&l[l.length-d-1].source===c[c.length-d-1].source;)d++;for(c=c.length-1;c>d;c--)k=t.pop()}for(c=l.length-d-1;1<=c;c--)d=[],n=l[c],(p=l[c-1].functionName)?(g=p.lastIndexOf(\".\"),-1===g&&(g=0),\"use\"===p.slice(g,g+3)&&(g+=3),p=p.slice(g)):p=\"\",p={id:null,isStateEditable:!1,name:p,value:void 0,subHooks:d},e&&(p.hookSource={lineNumber:n.lineNumber,columnNumber:n.columnNumber,functionName:n.functionName,fileName:n.fileName}),k.push(p),t.push(k),\nk=d;c=l}d=u.primitive;u={id:\"Context\"===d||\"DebugValue\"===d?null:r++,isStateEditable:\"Reducer\"===d||\"State\"===d,name:d,value:u.value,subHooks:[]};e&&(d={lineNumber:null,functionName:null,fileName:null,columnNumber:null},l&&1<=l.length&&(l=l[0],d.lineNumber=l.lineNumber,d.functionName=l.functionName,d.fileName=l.fileName,d.columnNumber=l.columnNumber),u.hookSource=d);k.push(u)}J(f,null);return f}\nfunction J(a,b){for(var e=[],f=0;f<a.length;f++){var c=a[f];\"DebugValue\"===c.name&&0===c.subHooks.length?(a.splice(f,1),f--,e.push(c)):J(c.subHooks,c)}null!==b&&(1===e.length?b.value=e[0].value:1<e.length&&(b.value=e.map(function(k){return k.value})))}function K(a){if(a instanceof Error&&\"ReactDebugToolsUnsupportedHookError\"===a.name)throw a;var b=Error(\"Error rendering inspected component\",{cause:a});b.name=\"ReactDebugToolsRenderError\";b.cause=a;throw b;}\nfunction L(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;null==e&&(e=w.ReactCurrentDispatcher);var c=e.current;e.current=E;try{var k=Error();a(b)}catch(t){K(t)}finally{var r=x;x=[];e.current=c}c=h.parse(k);return I(c,r,f)}function M(a){a.forEach(function(b,e){return e._currentValue=b})}exports.inspectHooks=L;\nexports.inspectHooksOfFiber=function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;null==b&&(b=w.ReactCurrentDispatcher);if(0!==a.tag&&15!==a.tag&&11!==a.tag)throw Error(\"Unknown Fiber. Needs to be a function component to inspect hooks.\");z();var f=a.type,c=a.memoizedProps;if(f!==a.elementType&&f&&f.defaultProps){c=q({},c);var k=f.defaultProps;for(r in k)void 0===c[r]&&(c[r]=k[r])}B=a.memoizedState;var r=new Map;try{for(k=a;k;){if(10===k.tag){var t=k.type._context;r.has(t)||\n(r.set(t,t._currentValue),t._currentValue=k.memoizedProps.value)}k=k.return}if(11===a.tag){var v=f.render;f=c;var u=a.ref;t=b;var d=t.current;t.current=E;try{var l=Error();v(f,u)}catch(g){K(g)}finally{var n=x;x=[];t.current=d}var p=h.parse(l);return I(p,n,e)}return L(f,c,b,e)}finally{B=null,M(r)}};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.server_context\"),w=Symbol.for(\"react.forward_ref\"),x=Symbol.for(\"react.suspense\"),y=Symbol.for(\"react.suspense_list\"),z=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),aa=Symbol.for(\"react.debug_trace_mode\"),ba=Symbol.for(\"react.offscreen\"),ca=\nSymbol.for(\"react.cache\"),B=Symbol.for(\"react.default_value\"),C=Symbol.iterator;function da(a){if(null===a||\"object\"!==typeof a)return null;a=C&&a[C]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,F={};function G(a,b,c){this.props=a;this.context=b;this.refs=F;this.updater=c||D}G.prototype.isReactComponent={};\nG.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};G.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function H(){}H.prototype=G.prototype;function I(a,b,c){this.props=a;this.context=b;this.refs=F;this.updater=c||D}var J=I.prototype=new H;\nJ.constructor=I;E(J,G.prototype);J.isPureReactComponent=!0;var K=Array.isArray,L=Object.prototype.hasOwnProperty,M={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};\nfunction O(a,b,c){var d,e={},f=null,g=null;if(null!=b)for(d in void 0!==b.ref&&(g=b.ref),void 0!==b.key&&(f=\"\"+b.key),b)L.call(b,d)&&!N.hasOwnProperty(d)&&(e[d]=b[d]);var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){for(var k=Array(h),m=0;m<h;m++)k[m]=arguments[m+2];e.children=k}if(a&&a.defaultProps)for(d in h=a.defaultProps,h)void 0===e[d]&&(e[d]=h[d]);return{$$typeof:l,type:a,key:f,ref:g,props:e,_owner:M.current}}\nfunction ea(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function P(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(c){return b[c]})}var Q=/\\/+/g;function R(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction S(a,b,c,d,e){var f=typeof a;if(\"undefined\"===f||\"boolean\"===f)a=null;var g=!1;if(null===a)g=!0;else switch(f){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case l:case n:g=!0}}if(g)return g=a,e=e(g),a=\"\"===d?\".\"+R(g,0):d,K(e)?(c=\"\",null!=a&&(c=a.replace(Q,\"$&/\")+\"/\"),S(e,b,c,\"\",function(m){return m})):null!=e&&(P(e)&&(e=ea(e,c+(!e.key||g&&g.key===e.key?\"\":(\"\"+e.key).replace(Q,\"$&/\")+\"/\")+a)),b.push(e)),1;g=0;d=\"\"===d?\".\":d+\":\";if(K(a))for(var h=0;h<a.length;h++){f=\na[h];var k=d+R(f,h);g+=S(f,b,c,k,e)}else if(k=da(a),\"function\"===typeof k)for(a=k.call(a),h=0;!(f=a.next()).done;)f=f.value,k=d+R(f,h++),g+=S(f,b,c,k,e);else if(\"object\"===f)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return g}\nfunction T(a,b,c){if(null==a)return a;var d=[],e=0;S(a,d,\"\",\"\",function(f){return b.call(c,f,e++)});return d}function fa(a){if(-1===a._status){var b=a._result;b=b();b.then(function(c){if(0===a._status||-1===a._status)a._status=1,a._result=c},function(c){if(0===a._status||-1===a._status)a._status=2,a._result=c});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}var U={current:null};function ha(){return new WeakMap}\nfunction V(){return{s:0,v:void 0,o:null,p:null}}var W={current:null},X={transition:null},Y={ReactCurrentDispatcher:W,ReactCurrentCache:U,ReactCurrentBatchConfig:X,ReactCurrentOwner:M,ContextRegistry:{}},Z=Y.ContextRegistry;\nexports.Children={map:T,forEach:function(a,b,c){T(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;T(a,function(){b++});return b},toArray:function(a){return T(a,function(b){return b})||[]},only:function(a){if(!P(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=G;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=I;exports.StrictMode=q;exports.Suspense=x;exports.SuspenseList=y;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y;\nexports.cache=function(a){return function(){var b=U.current;if(!b)return a.apply(null,arguments);var c=b.getCacheForType(ha);b=c.get(a);void 0===b&&(b=V(),c.set(a,b));c=0;for(var d=arguments.length;c<d;c++){var e=arguments[c];if(\"function\"===typeof e||\"object\"===typeof e&&null!==e){var f=b.o;null===f&&(b.o=f=new WeakMap);b=f.get(e);void 0===b&&(b=V(),f.set(e,b))}else f=b.p,null===f&&(b.p=f=new Map),b=f.get(e),void 0===b&&(b=V(),f.set(e,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var g=a.apply(null,\narguments);c=b;c.s=1;return c.v=g}catch(h){throw g=b,g.s=2,g.v=h,h;}}};\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=E({},a.props),e=a.key,f=a.ref,g=a._owner;if(null!=b){void 0!==b.ref&&(f=b.ref,g=M.current);void 0!==b.key&&(e=\"\"+b.key);if(a.type&&a.type.defaultProps)var h=a.type.defaultProps;for(k in b)L.call(b,k)&&!N.hasOwnProperty(k)&&(d[k]=void 0===b[k]&&void 0!==h?h[k]:b[k])}var k=arguments.length-2;if(1===k)d.children=c;else if(1<k){h=Array(k);\nfor(var m=0;m<k;m++)h[m]=arguments[m+2];d.children=h}return{$$typeof:l,type:a.type,key:e,ref:f,props:d,_owner:g}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=O;exports.createFactory=function(a){var b=O.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.createServerContext=function(a,b){var c=!0;if(!Z[a]){c=!1;var d={$$typeof:v,_currentValue:b,_currentValue2:b,_defaultValue:b,_threadCount:0,Provider:null,Consumer:null,_globalName:a};d.Provider={$$typeof:t,_context:d};Z[a]=d}d=Z[a];if(d._defaultValue===B)d._defaultValue=b,d._currentValue===B&&(d._currentValue=b),d._currentValue2===B&&(d._currentValue2=b);else if(c)throw Error(\"ServerContext: \"+a+\" already defined\");return d};exports.experimental_useEffectEvent=function(a){return W.current.useEffectEvent(a)};\nexports.experimental_useOptimistic=function(a,b){return W.current.useOptimistic(a,b)};exports.forwardRef=function(a){return{$$typeof:w,render:a}};exports.isValidElement=P;exports.lazy=function(a){return{$$typeof:A,_payload:{_status:-1,_result:a},_init:fa}};exports.memo=function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=X.transition;X.transition={};try{a()}finally{X.transition=b}};exports.unstable_Cache=ca;\nexports.unstable_DebugTracingMode=aa;exports.unstable_Offscreen=ba;exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};exports.unstable_getCacheForType=function(a){var b=U.current;return b?b.getCacheForType(a):a()};exports.unstable_getCacheSignal=function(){var a=U.current;return a?a.getCacheSignal():(a=new AbortController,a.abort(Error(\"This CacheSignal was requested outside React which means that it is immediately aborted.\")),a.signal)};\nexports.unstable_useCacheRefresh=function(){return W.current.useCacheRefresh()};exports.unstable_useMemoCache=function(a){return W.current.useMemoCache(a)};exports.use=function(a){return W.current.use(a)};exports.useCallback=function(a,b){return W.current.useCallback(a,b)};exports.useContext=function(a){return W.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return W.current.useDeferredValue(a)};\nexports.useEffect=function(a,b){return W.current.useEffect(a,b)};exports.useId=function(){return W.current.useId()};exports.useImperativeHandle=function(a,b,c){return W.current.useImperativeHandle(a,b,c)};exports.useInsertionEffect=function(a,b){return W.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return W.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return W.current.useMemo(a,b)};exports.useReducer=function(a,b,c){return W.current.useReducer(a,b,c)};\nexports.useRef=function(a){return W.current.useRef(a)};exports.useState=function(a){return W.current.useState(a)};exports.useSyncExternalStore=function(a,b,c){return W.current.useSyncExternalStore(a,b,c)};exports.useTransition=function(){return W.current.useTransition()};exports.version=\"18.3.0-experimental-783e7fcfa-20230504\";\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const rendererInterface =\n        this.agent.getBestMatchingRendererInterface(node);\n      if (rendererInterface) {\n        const id = rendererInterface.getFiberIDForNative(node, true);\n        if (id) {\n          const ownerName = rendererInterface.getDisplayNameForFiberID(\n            id,\n            true,\n          );\n          if (ownerName) {\n            name += ' (in ' + ownerName + ')';\n          }\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nexport function hideOverlay(agent: Agent) {\n  if (window.document == null) {\n    agent.emit('hideNativeHighlight');\n    return;\n  }\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement> | null,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n) {\n  if (window.document == null) {\n    if (elements != null && elements[0] != null) {\n      agent.emit('showNativeHighlight', elements[0]);\n    }\n    return;\n  }\n\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (elements == null) {\n    return;\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointerover', onPointerOver, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointerover', onPointerOver, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    }\n\n    let nodes: ?Array<HTMLElement> = null;\n    if (renderer != null) {\n      nodes = ((renderer.findNativeNodesForFiberID(\n        id,\n      ): any): ?Array<HTMLElement>);\n    }\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(((event.target: any): HTMLElement));\n  }\n\n  function onPointerOver(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target = ((event.target: any): HTMLElement);\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\nimport type Agent from '../../agent';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nexport function draw(nodeToData: Map<NativeType, Data>, agent: Agent): void {\n  if (window.document == null) {\n    const nodesToDraw = [];\n    iterateNodes(nodeToData, (_, color, node) => {\n      nodesToDraw.push({node, color});\n    });\n\n    agent.emit('drawTraceUpdates', nodesToDraw);\n    return;\n  }\n\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n  iterateNodes(nodeToData, (rect, color) => {\n    if (rect !== null) {\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nfunction iterateNodes(\n  nodeToData: Map<NativeType, Data>,\n  execute: (rect: Rect | null, color: string, node: NativeType) => void,\n) {\n  nodeToData.forEach(({count, rect}, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, count - 1);\n    const color = COLORS[colorIndex];\n    execute(rect, color, node);\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nexport function destroy(agent: Agent): void {\n  if (window.document == null) {\n    agent.emit('disableTraceUpdates');\n    return;\n  }\n\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  ConsolePatchSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\nconst BATCH_DURATION = 100;\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightElementInDOM = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  componentFilters: Array<ComponentFilter>,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n};\n\nexport type BackendEvents = {\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  isSynchronousXHRSupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n};\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForFiberID: [ElementAndRendererID],\n  clearNativeElementHighlight: [],\n  clearWarningsForFiberID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [ConsolePatchSettings],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole} from './console';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  ConsolePatchSettings,\n} from './types';\nimport type {\n  ComponentFilter,\n  BrowserTheme,\n} from 'react-devtools-shared/src/types';\nimport {isSynchronousXHRSupported} from './utils';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n  drawTraceUpdates: [Array<NativeType>],\n  disableTraceUpdates: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForFiberID', this.clearErrorsForFiberID);\n    bridge.addListener('clearWarningsForFiberID', this.clearWarningsForFiberID);\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Send the Bridge protocol and backend versions, after initialization, in case the frontend has already requested it.\n    // The Store may be instantiated beore the agent.\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n    bridge.send('isSynchronousXHRSupported', isSynchronousXHRSupported());\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForFiberID: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForFiberID(id);\n    }\n  };\n\n  clearWarningsForFiberID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForFiberID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getBestMatchingRendererInterface(node: Object): RendererInterface | null {\n    let bestMatch = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      const fiber = renderer.getFiberForNative(node);\n      if (fiber !== null) {\n        // check if fiber.stateNode is matching the original hostInstance\n        if (fiber.stateNode === node) {\n          return renderer;\n        } else if (bestMatch === null) {\n          bestMatch = renderer;\n        }\n      }\n    }\n    // if an exact match is not found, return the first valid renderer as fallback\n    return bestMatch;\n  }\n\n  getIDForNode(node: Object): number | null {\n    const rendererInterface = this.getBestMatchingRendererInterface(node);\n    if (rendererInterface != null) {\n      try {\n        return rendererInterface.getFiberIDForNative(node, true);\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n      sessionStorageSetItem(\n        SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        recordChangeDescriptions ? 'true' : 'false',\n      );\n\n      // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n      // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n      // The agent can't do this in a way that is renderer agnostic.\n      this._bridge.send('reloadAppForProfiling');\n    };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromNativeElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      this._recordChangeDescriptions = recordChangeDescriptions;\n      this._isProfiling = true;\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.startProfiling(recordChangeDescriptions);\n      }\n      this._bridge.send('profilingStatus', this._isProfiling);\n    };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingNative', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings: ({\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n    browserTheme: BrowserTheme,\n    hideConsoleLogsInStrictMode: boolean,\n    showInlineWarningsAndErrors: boolean,\n  }) => void = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: ConsolePatchSettings) => {\n    // If the frontend preferences have changed,\n    // or in the case of React Native- if the backend is just finding out the preferences-\n    // then reinstall the console overrides.\n    // It's safe to call `patchConsole` multiple times.\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  viewAttributeSource: CopyElementParams => void = ({id, path, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates: (nodes: Set<NativeType>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection: any = throttle(\n    (rendererID: number, id: number) => {\n      // This is throttled, so both renderer and selected ID\n      // might not be available by the time we read them.\n      // This is why we need the defensive checks here.\n      const renderer = this._rendererInterfaces[rendererID];\n      const path = renderer != null ? renderer.getPathForElement(id) : null;\n      if (path !== null) {\n        sessionStorageSetItem(\n          SESSION_STORAGE_LAST_SELECTION_KEY,\n          JSON.stringify(({rendererID, path}: PersistedSelection)),\n        );\n      } else {\n        sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n      }\n    },\n    1000,\n  );\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {BrowserTheme} from './types';\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n} from './backend/types';\n\ndeclare var window: any;\n\nexport function installHook(target: any): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  let targetConsole: Object = console;\n  let targetConsoleMethods: {[string]: $FlowFixMe} = {};\n  for (const method in console) {\n    targetConsoleMethods[method] = console[method];\n  }\n\n  function dangerous_setTargetConsoleForTesting(\n    targetConsoleForTesting: Object,\n  ): void {\n    targetConsole = targetConsoleForTesting;\n\n    targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n    for (const method in targetConsole) {\n      targetConsoleMethods[method] = console[method];\n    }\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://reactjs.org/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function formatWithStyles(\n    inputArgs: $ReadOnlyArray<any>,\n    style?: string,\n  ): $ReadOnlyArray<any> {\n    if (\n      inputArgs === undefined ||\n      inputArgs === null ||\n      inputArgs.length === 0 ||\n      // Matches any of %c but not %%c\n      (typeof inputArgs[0] === 'string' &&\n        inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n      style === undefined\n    ) {\n      return inputArgs;\n    }\n\n    // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n    const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n    if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n      return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n    } else {\n      const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n        if (i > 0) {\n          formatStr += ' ';\n        }\n        switch (typeof elem) {\n          case 'string':\n          case 'boolean':\n          case 'symbol':\n            return (formatStr += '%s');\n          case 'number':\n            const formatting = Number.isInteger(elem) ? '%i' : '%f';\n            return (formatStr += formatting);\n          default:\n            return (formatStr += '%o');\n        }\n      }, '%c');\n      return [firstArg, style, ...inputArgs];\n    }\n  }\n\n  let unpatchFn = null;\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:patchForStrictMode\n  // This function hides or dims console logs during the initial double renderer\n  // in Strict Mode. We need this function because during initial render,\n  // React and DevTools are connecting and the renderer interface isn't avaiable\n  // and we want to be able to have consistent logging behavior for double logs\n  // during the initial renderer.\n  function patchConsoleForInitialRenderInStrictMode({\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: {\n    hideConsoleLogsInStrictMode: boolean,\n    browserTheme: BrowserTheme,\n  }) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        const overrideMethod = (...args: $ReadOnlyArray<any>) => {\n          if (!hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            let color;\n            switch (method) {\n              case 'warn':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n                    : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n                break;\n              case 'error':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n                    : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n                break;\n              case 'log':\n              default:\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n                    : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n                break;\n            }\n\n            if (color) {\n              originalMethod(...formatWithStyles(args, `color: ${color}`));\n            } else {\n              throw Error('Console color is not defined');\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:unpatchForStrictMode\n  function unpatchConsoleForInitialRenderInStrictMode() {\n    if (unpatchFn !== null) {\n      unpatchFn();\n      unpatchFn = null;\n    }\n  }\n\n  let uidCounter = 0;\n\n  function inject(renderer: ReactRenderer) {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    // Patching the console enables DevTools to do a few useful things:\n    // * Append component stacks to warnings and error messages\n    // * Disabling or marking logs during a double render in Strict Mode\n    // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n    //\n    // Allow patching console early (during injection) to\n    // provide developers with components stacks even if they don't run DevTools.\n    if (target.hasOwnProperty('__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__')) {\n      const {registerRendererWithConsole, patchConsoleUsingWindowValues} =\n        target.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__;\n      if (\n        typeof registerRendererWithConsole === 'function' &&\n        typeof patchConsoleUsingWindowValues === 'function'\n      ) {\n        registerRendererWithConsole(renderer);\n        patchConsoleUsingWindowValues();\n      }\n    }\n\n    // If we have just reloaded to profile, we need to inject the renderer interface before the app loads.\n    // Otherwise the renderer won't yet exist and we can skip this step.\n    const attach = target.__REACT_DEVTOOLS_ATTACH__;\n    if (typeof attach === 'function') {\n      const rendererInterface = attach(hook, id, renderer, target);\n      hook.rendererInterfaces.set(id, rendererInterface);\n    }\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  function setStrictMode(rendererID: RendererID, isStrictMode: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      if (isStrictMode) {\n        rendererInterface.patchConsoleForStrictMode();\n      } else {\n        rendererInterface.unpatchConsoleForStrictMode();\n      }\n    } else {\n      // This should only happen during initial render in the extension before DevTools\n      // finishes its handshake with the injected renderer\n      if (isStrictMode) {\n        const hideConsoleLogsInStrictMode =\n          window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n        const browserTheme = window.__REACT_DEVTOOLS_BROWSER_THEME__;\n\n        patchConsoleForInitialRenderInStrictMode({\n          hideConsoleLogsInStrictMode,\n          browserTheme,\n        });\n      } else {\n        unpatchConsoleForInitialRenderInStrictMode();\n      }\n    }\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (__TEST__) {\n    hook.dangerous_setTargetConsoleForTesting =\n      dangerous_setTargetConsoleForTesting;\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative =\n    ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n  let getFiberForNative = (node: NativeType) => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getFiberForNative = (node: NativeType) => {\n      return renderer.ComponentTree.getClosestInstanceFromNode(node);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          // $FlowFixMe[incompatible-type] found when upgrading Flow\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          // $FlowFixMe[incompatible-type] found when upgrading Flow\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          // $FlowFixMe[incompatible-type] found when upgrading Flow\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          // $FlowFixMe[incompatible-type] found when upgrading Flow\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n    let source = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n      source = element._source != null ? element._source : null;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n      targetErrorBoundaryID: null,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function patchConsoleForStrictMode() {}\n\n  function unpatchConsoleForStrictMode() {}\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\nimport {hasAssignedBackend} from './utils';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    // only attach if the renderer is compatible with the current version of the backend\n    if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n      return;\n    }\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ConsolePatchSettings} from 'react-devtools-shared/src/backend/types';\nimport {writeConsolePatchSettingsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {castBool, castBrowserTheme} from 'react-devtools-shared/src/utils';\n\n// Note: all keys should be optional in this type, because users can use newer\n// versions of React DevTools with older versions of React Native, and the object\n// provided by React Native may not include all of this type's fields.\nexport type DevToolsSettingsManager = {\n  getConsolePatchSettings: ?() => string,\n  setConsolePatchSettings: ?(key: string) => void,\n};\n\nexport function initializeUsingCachedSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n) {\n  initializeConsolePatchSettings(devToolsSettingsManager);\n}\n\nfunction initializeConsolePatchSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n) {\n  if (devToolsSettingsManager.getConsolePatchSettings == null) {\n    return;\n  }\n  const consolePatchSettingsString =\n    devToolsSettingsManager.getConsolePatchSettings();\n  if (consolePatchSettingsString == null) {\n    return;\n  }\n  const parsedConsolePatchSettings = parseConsolePatchSettings(\n    consolePatchSettingsString,\n  );\n  if (parsedConsolePatchSettings == null) {\n    return;\n  }\n  writeConsolePatchSettingsToWindow(parsedConsolePatchSettings);\n}\n\nfunction parseConsolePatchSettings(\n  consolePatchSettingsString: string,\n): ?ConsolePatchSettings {\n  const parsedValue = JSON.parse(consolePatchSettingsString ?? '{}');\n  const {\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  } = parsedValue;\n  return {\n    appendComponentStack: castBool(appendComponentStack) ?? true,\n    breakOnConsoleErrors: castBool(breakOnConsoleErrors) ?? false,\n    showInlineWarningsAndErrors: castBool(showInlineWarningsAndErrors) ?? true,\n    hideConsoleLogsInStrictMode: castBool(hideConsoleLogsInStrictMode) ?? false,\n    browserTheme: castBrowserTheme(browserTheme) ?? 'dark',\n  };\n}\n\nexport function cacheConsolePatchSettings(\n  devToolsSettingsManager: DevToolsSettingsManager,\n  value: ConsolePatchSettings,\n): void {\n  if (devToolsSettingsManager.setConsolePatchSettings == null) {\n    return;\n  }\n  devToolsSettingsManager.setConsolePatchSettings(JSON.stringify(value));\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {installConsoleFunctionsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {getDefaultComponentFilters} from 'react-devtools-shared/src/utils';\nimport {\n  initializeUsingCachedSettings,\n  cacheConsolePatchSettings,\n  type DevToolsSettingsManager,\n} from './cachedSettings';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {ComponentFilter} from 'react-devtools-shared/src/types';\nimport type {DevToolsHook} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  devToolsSettingsManager: ?DevToolsSettingsManager,\n  ...\n};\n\n// Install a global variable to allow patching console early (during injection).\n// This provides React Native developers with components stacks even if they don't run DevTools.\ninstallConsoleFunctionsToWindow();\ninstallHook(window);\n\nconst hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\nlet savedComponentFilters: Array<ComponentFilter> =\n  getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args: Array<mixed>) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = (null: $FlowFixMe),\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n    devToolsSettingsManager,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (devToolsSettingsManager != null) {\n    try {\n      initializeUsingCachedSettings(devToolsSettingsManager);\n    } catch (e) {\n      // If we call a method on devToolsSettingsManager that throws, or if\n      // is invalid data read out, don't throw and don't interrupt initialization\n      console.error(e);\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function () {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    if (devToolsSettingsManager != null && bridge != null) {\n      bridge.addListener('updateConsolePatchSettings', consolePatchSettings =>\n        cacheConsolePatchSettings(\n          devToolsSettingsManager,\n          consolePatchSettings,\n        ),\n      );\n    }\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    // $FlowFixMe[incompatible-call] found when upgrading Flow\n    const agent = new Agent(bridge);\n    agent.addListener('shutdown', () => {\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        // $FlowFixMe[incompatible-call] found when upgrading Flow\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value: $FlowFixMe) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value: $FlowFixMe) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event: MessageEvent) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n"],"sourceRoot":""}